import{d as D,e as o,o as d,b as c,a as t,g as r,D as C,f as n,n as p,t as s,F as b,i as v,H as f}from"./app-CJkCV51W.js";import{_ as S}from"./Breadcrumb-BJQpsGcc.js";import{_ as B}from"./AppLayout-BlEKf3Fz.js";import"./FlashMessage-D4C-FUm8.js";import"./LayoutShell-FWpWJLvi.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useAuth-DvuTgkfF.js";import"./LayoutShell.vue_vue_type_style_index_0_lang-CRqqKi3W.js";const N={class:"flex overflow-hidden flex-col gap-3 px-3 h-full"},P={class:"flex justify-between items-center h-10"},$={key:0,class:"flex items-center gap-2"},A={class:"flex flex-col gap-4 overflow-hidden rounded-lg border border-gray-200 bg-white p-6 dark:border-gray-600 dark:bg-white/[0.03]"},I={class:"flex items-center justify-between"},L={class:"grid grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-3"},T={class:"font-semibold text-gray-800 dark:text-gray-200"},V={class:"font-semibold text-gray-800 dark:text-gray-200"},F={class:"font-semibold text-gray-800 dark:text-gray-200"},K={class:"font-semibold text-gray-800 dark:text-gray-200"},M={key:0},O={class:"font-semibold text-gray-800 dark:text-gray-200"},z={key:1},E={class:"font-semibold text-gray-800 dark:text-gray-200"},H={class:"md:col-span-2 xl:col-span-3"},Q={class:"font-semibold text-gray-800 dark:text-gray-200 whitespace-pre-line"},R={class:"flex flex-col overflow-hidden rounded-lg border border-gray-200 bg-white dark:border-gray-600 dark:bg-white/[0.03]"},W={class:"flex items-center gap-2 px-4 border-b border-gray-200 dark:border-gray-700"},G={key:0,class:"overflow-auto","data-simplebar":""},J={class:"min-w-full text-sm table-fixed"},U={key:0},X={class:"px-3 py-2"},Y={class:"px-3 py-2"},Z={class:"px-3 py-2 font-mono"},tt={class:"px-3 py-2"},et={class:"px-3 py-2"},rt={class:"px-3 py-2"},st={key:1,class:"p-6"},at={key:0,class:"text-sm text-gray-500"},ot={key:1,class:"space-y-3"},dt={class:"text-sm font-medium text-gray-800 dark:text-gray-200"},it={class:"text-xs text-gray-500"},lt={class:"text-sm text-gray-700 dark:text-gray-300"},ct=Object.assign({layout:B},{__name:"Show",props:{mr:{type:Object,required:!0},items:{type:Array,default:()=>[]},activities:{type:Array,default:()=>[]}},setup(k){const x=k,a=x.mr,u=x.items,y=x.activities,_=[{label:"Dashboard",href:route("dashboard")},{label:"Permintaan Barang",href:route("material-requests.index")},{label:a.request_no}],l=D("items");function h(g){return{on_progress:"Menunggu Persetujuan",approved:"Disetujui",rejected:"Ditolak",canceled:"Dibatalkan",partial_approved:"Disetujui Sebagian"}[g]??g}function w(g){return{on_progress:"bg-blue-100 text-blue-800 dark:bg-blue-500/20 dark:text-blue-300",approved:"bg-emerald-100 text-emerald-800 dark:bg-emerald-500/20 dark:text-emerald-300",rejected:"bg-rose-100 text-rose-800 dark:bg-rose-500/20 dark:text-rose-300",canceled:"bg-slate-100 text-slate-700 dark:bg-slate-500/20 dark:text-slate-300",partial_approved:"bg-violet-100 text-violet-800 dark:bg-violet-500/20 dark:text-violet-300"}[g]??"bg-gray-100 text-gray-700"}function j(){confirm("Setujui permintaan ini?")&&f.post(route("material-requests.approve",a.id),{},{preserveScroll:!0})}function q(){confirm("Mulai proses keluarkan barang untuk permintaan ini?")&&f.post(route("material-requests.issue",a.id),{},{preserveScroll:!0})}return(g,e)=>(d(),o(b,null,[c(r(C),{title:`Permintaan Barang ${r(a).request_no}`},null,8,["title"]),t("div",N,[t("div",P,[c(S,{items:_}),r(a).status==="on_progress"?(d(),o("div",$,[t("button",{onClick:j,class:"inline-flex items-center rounded bg-emerald-600 px-3 py-2 text-sm font-medium text-white hover:bg-emerald-700"},"Setujui"),t("button",{onClick:q,class:"inline-flex items-center rounded bg-indigo-600 px-3 py-2 text-sm font-medium text-white hover:bg-indigo-700"},"Keluarkan Barang")])):n("",!0)]),t("div",A,[t("div",I,[e[2]||(e[2]=t("div",{class:"font-bold text-gray-700 md:text-xl dark:text-gray-300"},"Informasi Permintaan",-1)),t("div",null,[t("span",{class:p([w(r(a).status),"px-2.5 py-1 rounded-full text-xs font-medium"])},s(h(r(a).status)),3)])]),t("div",L,[t("div",null,[e[3]||(e[3]=t("div",{class:"text-xs text-gray-500"},"No. Request",-1)),t("div",T,s(r(a).request_no),1)]),t("div",null,[e[4]||(e[4]=t("div",{class:"text-xs text-gray-500"},"Departemen",-1)),t("div",V,s(r(a).department),1)]),t("div",null,[e[5]||(e[5]=t("div",{class:"text-xs text-gray-500"},"Diminta oleh",-1)),t("div",F,s(r(a).requested_by),1)]),t("div",null,[e[6]||(e[6]=t("div",{class:"text-xs text-gray-500"},"Tanggal Permintaan",-1)),t("div",K,s(r(a).request_date),1)]),r(a).approved_by?(d(),o("div",M,[e[7]||(e[7]=t("div",{class:"text-xs text-gray-500"},"Disetujui oleh",-1)),t("div",O,s(r(a).approved_by),1)])):n("",!0),r(a).approved_at?(d(),o("div",z,[e[8]||(e[8]=t("div",{class:"text-xs text-gray-500"},"Waktu Persetujuan",-1)),t("div",E,s(r(a).approved_at),1)])):n("",!0),t("div",H,[e[9]||(e[9]=t("div",{class:"text-xs text-gray-500"},"Catatan",-1)),t("div",Q,s(r(a).notes||"-"),1)])])]),t("div",R,[t("div",W,[t("button",{class:p(["px-4 py-3 text-sm font-medium",l.value==="items"?"border-b-2 border-blue-500 text-blue-600":"text-gray-600 dark:text-gray-300"]),onClick:e[0]||(e[0]=i=>l.value="items")}," Daftar Item ",2),t("button",{class:p(["px-4 py-3 text-sm font-medium",l.value==="activities"?"border-b-2 border-blue-500 text-blue-600":"text-gray-600 dark:text-gray-300"]),onClick:e[1]||(e[1]=i=>l.value="activities")}," Aktivitas Log ",2)]),l.value==="items"?(d(),o("div",G,[t("table",J,[e[11]||(e[11]=t("colgroup",null,[t("col",{style:{width:"60px"}}),t("col",{style:{width:"220px"}}),t("col",{style:{width:"180px"}}),t("col",{style:{width:"120px"}}),t("col",{style:{width:"120px"}}),t("col")],-1)),e[12]||(e[12]=t("thead",null,[t("tr",null,[t("th",{class:"py-2.5 bg-gray-100 border-y border-gray-200 dark:border-gray-600 dark:bg-gray-800"},[t("div",{class:"px-3 text-left font-medium text-gray-600 dark:text-gray-300"},"No")]),t("th",{class:"py-2.5 bg-gray-100 border-y border-gray-200 dark:border-gray-600 dark:bg-gray-800"},[t("div",{class:"px-3 text-left font-medium text-gray-600 dark:text-gray-300"},"Nama Item")]),t("th",{class:"py-2.5 bg-gray-100 border-y border-gray-200 dark:border-gray-600 dark:bg-gray-800"},[t("div",{class:"px-3 text-left font-medium text-gray-600 dark:text-gray-300"},"Kode")]),t("th",{class:"py-2.5 bg-gray-100 border-y border-gray-200 dark:border-gray-600 dark:bg-gray-800"},[t("div",{class:"px-3 text-left font-medium text-gray-600 dark:text-gray-300"},"Qty")]),t("th",{class:"py-2.5 bg-gray-100 border-y border-gray-200 dark:border-gray-600 dark:bg-gray-800"},[t("div",{class:"px-3 text-left font-medium text-gray-600 dark:text-gray-300"},"Satuan")]),t("th",{class:"py-2.5 bg-gray-100 border-y border-gray-200 dark:border-gray-600 dark:bg-gray-800"},[t("div",{class:"px-3 text-left font-medium text-gray-600 dark:text-gray-300"},"Catatan")])])],-1)),t("tbody",null,[!r(u)||r(u).length===0?(d(),o("tr",U,[...e[10]||(e[10]=[t("td",{colspan:"6",class:"text-center py-8 text-gray-500"},"Tidak ada item",-1)])])):n("",!0),(d(!0),o(b,null,v(r(u),(i,m)=>(d(),o("tr",{key:i.id,class:"border-b border-gray-200 dark:border-gray-700"},[t("td",X,s(m+1),1),t("td",Y,s(i.item_name),1),t("td",Z,s(i.item_code),1),t("td",tt,s(i.qty),1),t("td",et,s(i.unit),1),t("td",rt,s(i.notes),1)]))),128))])])])):n("",!0),l.value==="activities"?(d(),o("div",st,[!r(y)||r(y).length===0?(d(),o("div",at,"Belum ada aktivitas.")):(d(),o("ul",ot,[(d(!0),o(b,null,v(r(y),(i,m)=>(d(),o("li",{key:m,class:"flex gap-3 items-start"},[e[13]||(e[13]=t("div",{class:"mt-1 h-2 w-2 rounded-full bg-blue-500"},null,-1)),t("div",null,[t("div",dt,s(i.title),1),t("div",it,s(i.time),1),t("div",lt,s(i.description),1)])]))),128))]))])):n("",!0)])])],64))}});export{ct as default};
