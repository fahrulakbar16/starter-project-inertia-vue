import{y as J,e as i,o as a,a as e,F as h,i as k,t as p,h as S,n as T,x as M,d as X,z as _e,U as Ce,b as B,c as _,f as d,bs as ve,g as ke,E as x,G as C,J as D,S as G,K as we,H as W}from"./app-CJkCV51W.js";import{_ as je}from"./AppLayout-BlEKf3Fz.js";import{_ as Me}from"./Breadcrumb-BJQpsGcc.js";import Se from"./SubmissionsTable-DH-A-xZY.js";import $e from"./DetailSick-DdO6fY5_.js";import Te from"./DetailOvertime-D_ImQ84e.js";import Le from"./DetailOther--2pYT1PG.js";import Oe from"./DetailDebt-qv7YHM4D.js";import Pe from"./DetailDailyReport-kTLBH-5C.js";import Fe from"./DetailAnnualLeave-Cfwu9Ah9.js";import De from"./DetailReimbursement-nwqfzG9x.js";import{u as He}from"./useAuth-DvuTgkfF.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./FlashMessage-D4C-FUm8.js";import"./LayoutShell-FWpWJLvi.js";import"./LayoutShell.vue_vue_type_style_index_0_lang-CRqqKi3W.js";const Ee={class:"flex items-center justify-between border-t border-white/10 px-5 py-3"},Ve={class:"flex flex-1 justify-between sm:hidden"},Ae=["disabled"],Ue=["disabled"],Be={class:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between"},Ie={class:"flex flex-col gap-1 items-start"},qe={class:"flex items-center gap-2"},Ne=["value"],Re=["value"],Ze={class:"text-sm text-gray-500 mt-1"},ze={class:"font-medium"},Ke={class:"font-medium"},Xe={class:"font-medium"},Ge={class:"isolate inline-flex -space-x-px rounded-md","aria-label":"Pagination"},We=["innerHTML"],Je=["onClick","innerHTML"],Ye={__name:"PaginationResource",props:{pagination:{type:Object,required:!0},perPageOptions:{type:Array,default:()=>[10,15,25,50,100]}},emits:["page-change","per-page-change"],setup(b,{emit:s}){const E=b,y=s,l=m=>{if(!m)return;const u=new URL(m).searchParams.get("page")||1;y("page-change",parseInt(u))},V=m=>{const c=parseInt(m.target.value);console.log("Pagination changePerPage called with:",c),y("per-page-change",c)},r=J(()=>E.pagination.per_page||15);return(m,c)=>(a(),i("div",Ee,[e("div",Ve,[e("button",{onClick:c[0]||(c[0]=u=>l(b.pagination.prev_page_url)),disabled:!b.pagination.prev_page_url,class:"relative inline-flex items-center rounded-md border border-white/10 bg-white/5 px-4 py-2 text-sm font-medium text-gray-200 hover:bg-white/10 disabled:opacity-50"}," Previous ",8,Ae),e("button",{onClick:c[1]||(c[1]=u=>l(b.pagination.next_page_url)),disabled:!b.pagination.next_page_url,class:"relative ml-3 inline-flex items-center rounded-md border border-white/10 bg-white/5 px-4 py-2 text-sm font-medium text-gray-200 hover:bg-white/10 disabled:opacity-50"}," Next ",8,Ue)]),e("div",Be,[e("div",Ie,[e("div",qe,[c[2]||(c[2]=e("label",{for:"per-page",class:"text-sm text-gray-500"},"Tampilkan:",-1)),e("select",{id:"per-page",value:r.value,onChange:V,class:"px-2 py-1 text-sm border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[(a(!0),i(h,null,k(b.perPageOptions,u=>(a(),i("option",{key:u,value:u},p(u),9,Re))),128))],40,Ne),c[3]||(c[3]=e("span",{class:"text-sm text-gray-500"},"per halaman",-1))]),e("p",Ze,[c[4]||(c[4]=S(" Menampilkan ",-1)),e("span",ze,p(b.pagination.from),1),c[5]||(c[5]=S(" ke ",-1)),e("span",Ke,p(b.pagination.to),1),c[6]||(c[6]=S(" dari ",-1)),e("span",Xe,p(b.pagination.total),1),c[7]||(c[7]=S(" hasil ",-1))])]),e("div",null,[e("nav",Ge,[(a(!0),i(h,null,k(b.pagination.links,(u,g)=>(a(),i(h,{key:g},[!u||!u.url?(a(),i("span",{key:0,class:"relative inline-flex items-center px-4 py-2 text-sm font-semibold text-gray-400 inset-ring inset-ring-gray-700",innerHTML:u?.label||""},null,8,We)):(a(),i("button",{key:1,onClick:I=>l(u.url),class:T(["relative inline-flex items-center rounded px-4 py-2 text-sm font-semibold focus:z-20",u.active?"bg-blue-500 text-white focus-visible:outline-indigo-500":"text-gray-500 inset-ring inset-ring-gray-700 hover:bg-black/5"]),innerHTML:u.label},null,10,Je))],64))),128))])])])]))}},Qe={},et={width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function tt(b,s){return a(),i("svg",et,[...s[0]||(s[0]=[e("path",{opacity:"0.3",d:"M13.9987 26.5443C20.9253 26.5443 26.5404 20.9292 26.5404 14.0026C26.5404 7.07603 20.9253 1.46094 13.9987 1.46094C7.07213 1.46094 1.45703 7.07603 1.45703 14.0026C1.45703 20.9292 7.07213 26.5443 13.9987 26.5443Z",fill:"#DFA000"},null,-1),e("path",{d:"M19.3294 14.9375H13.9992C13.7508 14.9343 13.5134 14.8341 13.3377 14.6584C13.162 14.4827 13.0618 14.2453 13.0586 13.9969V6.47187C13.0586 6.22241 13.1577 5.98315 13.3341 5.80675C13.5105 5.63035 13.7497 5.53125 13.9992 5.53125C14.2487 5.53125 14.4879 5.63035 14.6643 5.80675C14.8407 5.98315 14.9398 6.22241 14.9398 6.47187V13.0813H19.3294C19.5789 13.0813 19.8181 13.1804 19.9945 13.3568C20.171 13.5332 20.2701 13.7725 20.2701 14.022C20.2701 14.2714 20.171 14.5107 19.9945 14.6871C19.8181 14.8635 19.5789 14.9626 19.3294 14.9626V14.9375Z",fill:"#DFA000"},null,-1)])])}const st=H(Qe,[["render",tt]]),nt={},ot={width:"29",height:"28",viewBox:"0 0 29 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function at(b,s){return a(),i("svg",ot,[...s[0]||(s[0]=[e("path",{opacity:"0.3",d:"M14.5013 26.8307C21.589 26.8307 27.3346 21.0851 27.3346 13.9974C27.3346 6.90974 21.589 1.16406 14.5013 1.16406C7.41365 1.16406 1.66797 6.90974 1.66797 13.9974C1.66797 21.0851 7.41365 26.8307 14.5013 26.8307Z",fill:"#F8285A"},null,-1),e("path",{d:"M16.3076 13.9993L19.9394 10.3675C20.0738 10.2524 20.1829 10.1108 20.2599 9.95162C20.337 9.7924 20.3802 9.61898 20.3871 9.44224C20.3939 9.2655 20.3641 9.08926 20.2996 8.92458C20.2351 8.75989 20.1372 8.61032 20.0121 8.48525C19.8871 8.36019 19.7375 8.26232 19.5728 8.1978C19.4081 8.13329 19.2319 8.1035 19.0552 8.11033C18.8784 8.11716 18.705 8.16045 18.5458 8.23747C18.3866 8.3145 18.245 8.42361 18.1299 8.55796L14.4981 12.1898L10.8663 8.55796C10.6208 8.34771 10.305 8.23785 9.98199 8.25033C9.65901 8.2628 9.35263 8.3967 9.12407 8.62525C8.89552 8.8538 8.76162 9.16019 8.74915 9.48317C8.73667 9.80616 8.84653 10.122 9.05678 10.3675L12.6886 13.9993L9.05678 17.6311C8.81776 17.8716 8.68359 18.1968 8.68359 18.5359C8.68359 18.8749 8.81776 19.2002 9.05678 19.4406C9.29723 19.6796 9.62249 19.8138 9.96153 19.8138C10.3006 19.8138 10.6258 19.6796 10.8663 19.4406L14.4981 15.8088L18.1299 19.4406C18.3704 19.6796 18.6957 19.8138 19.0347 19.8138C19.3737 19.8138 19.699 19.6796 19.9394 19.4406C20.1785 19.2002 20.3126 18.8749 20.3126 18.5359C20.3126 18.1968 20.1785 17.8716 19.9394 17.6311L16.3076 13.9993Z",fill:"#F8285A"},null,-1)])])}const it=H(nt,[["render",at]]),rt={},lt={width:"29",height:"28",viewBox:"0 0 29 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function dt(b,s){return a(),i("svg",lt,[...s[0]||(s[0]=[e("path",{opacity:"0.3",d:"M27.6121 11.982L25.7073 10.0488C25.5745 9.91858 25.4696 9.76271 25.3989 9.59064C25.3282 9.41858 25.2933 9.23392 25.2962 9.04791V6.30582C25.2944 5.93015 25.2185 5.55855 25.0727 5.21234C24.9269 4.86613 24.7142 4.55215 24.4468 4.28843C24.1794 4.02471 23.8626 3.81645 23.5145 3.67561C23.1664 3.53477 22.7939 3.46413 22.4185 3.46775H19.6777C19.4918 3.47068 19.3073 3.43572 19.1353 3.36501C18.9633 3.2943 18.8075 3.18931 18.6774 3.05644L16.7589 1.12326C16.2244 0.589101 15.4999 0.289063 14.7444 0.289062C13.989 0.289063 13.2645 0.589101 12.73 1.12326L10.7978 3.02901C10.6677 3.16189 10.5119 3.26688 10.3399 3.33759C10.1679 3.4083 9.98334 3.44326 9.79743 3.44033H7.05671C6.68123 3.44212 6.30981 3.51811 5.96378 3.66395C5.61774 3.80978 5.30392 4.02258 5.04033 4.29012C4.77674 4.55766 4.56859 4.87467 4.42782 5.22294C4.28705 5.57121 4.21645 5.94388 4.22006 6.31953V9.06162C4.22299 9.24763 4.18805 9.43229 4.11737 9.60435C4.0467 9.77642 3.94176 9.93229 3.80895 10.0625L1.87675 11.982C1.34286 12.5167 1.04297 13.2416 1.04297 13.9974C1.04297 14.7532 1.34286 15.4781 1.87675 16.0128L3.78155 17.946C3.91435 18.0762 4.01929 18.2321 4.08997 18.4042C4.16064 18.5762 4.19558 18.7609 4.19266 18.9469V21.689C4.19444 22.0646 4.2704 22.4362 4.41616 22.7825C4.56192 23.1287 4.77462 23.4426 5.04202 23.7064C5.30943 23.9701 5.62628 24.1783 5.97438 24.3192C6.32247 24.46 6.69495 24.5307 7.07041 24.527H9.81113C9.99705 24.5241 10.1816 24.5591 10.3536 24.6298C10.5256 24.7005 10.6814 24.8055 10.8115 24.9384L12.7437 26.8715C13.2782 27.4057 14.0027 27.7057 14.7581 27.7057C15.5136 27.7057 16.2381 27.4057 16.7726 26.8715L18.6911 24.9658C18.8212 24.8329 18.977 24.7279 19.149 24.6572C19.321 24.5865 19.5055 24.5515 19.6914 24.5545H22.4322C23.1881 24.5545 23.9131 24.254 24.4477 23.7192C24.9822 23.1844 25.2825 22.459 25.2825 21.7027V18.9606C25.2796 18.7746 25.3145 18.5899 25.3852 18.4179C25.4559 18.2458 25.5608 18.0899 25.6936 17.9597L27.6258 16.0265C27.8913 15.7606 28.1017 15.4448 28.2448 15.0973C28.3879 14.7497 28.4609 14.3773 28.4596 14.0014C28.4583 13.6255 28.3828 13.2536 28.2374 12.907C28.0919 12.5605 27.8794 12.2461 27.6121 11.982Z",fill:"#17C653"},null,-1),e("path",{d:"M12.9782 18.4985C12.8395 18.4966 12.7024 18.4671 12.5751 18.4118C12.4478 18.3565 12.3327 18.2765 12.2365 18.1765L8.91964 14.8159C8.81763 14.7188 8.73621 14.6021 8.68023 14.4728C8.62425 14.3435 8.59485 14.2042 8.59378 14.0633C8.59271 13.9224 8.62 13.7827 8.67402 13.6526C8.72804 13.5224 8.80769 13.4045 8.90822 13.3058C9.00874 13.2071 9.1281 13.1297 9.25916 13.0781C9.39023 13.0265 9.53034 13.0018 9.67113 13.0056C9.81193 13.0093 9.95053 13.0413 10.0787 13.0998C10.2069 13.1582 10.3219 13.2418 10.4171 13.3457L12.9922 15.9641L19.1221 9.97119C19.3189 9.77453 19.5857 9.66406 19.8639 9.66406C20.142 9.66406 20.4088 9.77453 20.6056 9.97119C20.8022 10.1681 20.9126 10.435 20.9126 10.7133C20.9126 10.9916 20.8022 11.2585 20.6056 11.4554L13.72 18.2045C13.6219 18.3001 13.5059 18.3754 13.3785 18.4258C13.2512 18.4763 13.1152 18.501 12.9782 18.4985Z",fill:"#17C653"},null,-1)])])}const ut=H(rt,[["render",dt]]),pt={},ct={width:"29",height:"28",viewBox:"0 0 29 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function mt(b,s){return a(),i("svg",ct,[...s[0]||(s[0]=[e("path",{opacity:"0.3",d:"M19.2111 26.7182L9.52213 26.8337C8.68279 26.8456 7.87073 26.5358 7.25264 25.9678C6.63455 25.3998 6.25732 24.6168 6.19838 23.7795L5.26157 10.3818C5.24724 10.1858 5.27399 9.98894 5.34011 9.80386C5.40624 9.61879 5.51028 9.44956 5.64558 9.30701C5.78088 9.16447 5.94445 9.05174 6.12583 8.97606C6.3072 8.90038 6.50238 8.8634 6.69887 8.86749H21.7905C21.9858 8.86354 22.1799 8.90018 22.3603 8.97509C22.5407 9.05001 22.7037 9.16156 22.8388 9.30269C22.9739 9.44382 23.0782 9.61146 23.1452 9.795C23.2121 9.97854 23.2403 10.174 23.2278 10.369L22.4706 23.6126C22.4249 24.448 22.0622 25.2345 21.4565 25.8116C20.8507 26.3887 20.0477 26.7129 19.2111 26.7182Z",fill:"#7239EA"},null,-1),e("path",{d:"M16.1043 18.873C16.3595 18.873 16.6044 18.9748 16.7849 19.1553C16.9654 19.3358 17.0672 19.5807 17.0672 19.8359C17.0671 20.0911 16.9653 20.3362 16.7849 20.5166C16.6045 20.6969 16.3594 20.7979 16.1043 20.7979H12.3826C12.1274 20.7978 11.8823 20.697 11.7019 20.5166C11.5215 20.3362 11.4208 20.0911 11.4207 19.8359C11.4207 19.5808 11.5216 19.3357 11.7019 19.1553C11.8824 18.9748 12.1274 18.8731 12.3826 18.873H16.1043ZM17.1052 14.125C17.3605 14.125 17.6054 14.2268 17.7859 14.4072C17.9664 14.5877 18.0681 14.8326 18.0681 15.0879C18.0681 15.3431 17.9664 15.5881 17.7859 15.7686C17.6054 15.9489 17.3604 16.0498 17.1052 16.0498H11.3816C11.1267 16.0497 10.8823 15.9487 10.7019 15.7686C10.5215 15.5881 10.4197 15.3431 10.4197 15.0879C10.4197 14.8326 10.5214 14.5877 10.7019 14.4072C10.8823 14.227 11.1266 14.1251 11.3816 14.125H17.1052ZM16.5281 1.16406C17.0884 1.16625 17.6305 1.36346 18.0613 1.72168C18.492 2.0799 18.7851 2.57656 18.8894 3.12695L19.2459 5.29883C21.1594 5.42357 23.0699 5.61789 24.9724 5.88574C25.2096 5.92477 25.4233 6.05144 25.572 6.24023C25.7208 6.42904 25.7938 6.66656 25.7761 6.90625C25.7584 7.14604 25.6512 7.37114 25.4763 7.53613C25.3015 7.70097 25.0711 7.79416 24.8308 7.79785V7.78516H24.6892C17.7622 6.83273 10.7373 6.83269 3.81032 7.78516C3.56221 7.81781 3.31093 7.75287 3.11013 7.60352C2.9094 7.45421 2.77527 7.23226 2.73513 6.98535C2.6951 6.73849 2.75221 6.48538 2.89528 6.28027C3.03861 6.07508 3.25694 5.93316 3.50271 5.88574C5.41666 5.61628 7.33837 5.42149 9.26345 5.29688L9.68825 3.11426C9.79119 2.57361 10.0764 2.08459 10.4968 1.72949C10.9174 1.37435 11.4475 1.17496 11.9978 1.16406H16.5281Z",fill:"#7239EA"},null,-1)])])}const gt=H(pt,[["render",mt]]),yt={class:"flex flex-col gap-4 px-4 h-full"},bt={class:"flex justify-between items-center"},ft={class:"flex justify-between items-center"},xt={class:"text-xl font-semibold"},ht={class:"grid grid-cols-2 gap-4 py-4 md:grid-cols-4"},_t={class:"text-2xl font-semibold text-dark"},Ct={class:"text-sm font-normal text-zinc-600"},vt={key:1,class:"w-full bg-white rounded-lg border border-gray-200 shadow-sm dark:bg-gray-800 dark:border-gray-700"},kt={class:"flex flex-wrap text-sm font-medium text-center text-gray-500 bg-white rounded-t-lg border-b border-gray-200 dark:border-gray-700 dark:text-gray-400 dark:bg-gray-800",id:"defaultTab","data-tabs-toggle":"#defaultTabContent",role:"tablist"},wt=["href"],jt={class:"rounded-xl border border-gray-200 bg-white dark:border-gray-600 dark:bg-white/[0.03] p-4"},Mt={class:"overflow-x-auto"},St={class:"min-w-full text-xs divide-y divide-gray-200"},$t={class:"bg-gray-50"},Tt={key:0,class:"px-2 py-2 text-xs font-semibold text-left text-gray-600 uppercase"},Lt={key:1,class:"px-2 py-2 text-xs font-semibold text-left text-gray-600 uppercase"},Ot={key:2,class:"px-2 py-2 text-xs font-semibold text-left text-gray-600 uppercase"},Pt={key:3,class:"px-2 py-2 text-xs font-semibold text-left text-gray-600 uppercase"},Ft={key:4,class:"px-2 py-2 text-xs font-semibold text-left text-gray-600 uppercase"},Dt={key:5,class:"px-2 py-2 text-xs font-semibold text-left text-gray-600 uppercase"},Ht={key:6,class:"px-2 py-2 text-xs font-semibold text-left text-gray-600 uppercase"},Et={key:7,class:"px-2 py-2 text-xs font-semibold text-left text-gray-600 uppercase"},Vt={class:"bg-gray-100"},At={class:"px-2 py-1"},Ut={class:"flex gap-2"},Bt={class:"px-2 py-1"},It={class:"relative"},qt={key:0,class:"px-2 py-1"},Nt={key:1,class:"px-2 py-1"},Rt={key:2,class:"px-2 py-1"},Zt={key:3,class:"px-2 py-1"},zt={key:4,class:"px-2 py-1"},Kt={key:5,class:"px-2 py-1"},Xt={class:"px-2 py-1"},Gt=["value"],Wt={key:6,class:"px-2 py-1"},Jt={key:7,class:"px-2 py-1"},Yt={class:"px-2 py-1"},Qt=["value"],es={class:"bg-white divide-y divide-gray-200"},ts={key:0},ss=["colspan"],ns={class:"px-2 py-2 text-center align-middle"},os={class:"px-2 py-2 align-middle"},as={class:"px-2 py-2 align-middle"},is={key:0,class:"px-2 py-2 align-middle"},rs={key:1,class:"px-2 py-2 align-middle"},ls={key:2,class:"px-2 py-2 align-middle"},ds={key:3,class:"px-2 py-2 text-center align-middle"},us={key:4,class:"px-2 py-2 align-middle"},ps={key:5,class:"px-2 py-2 align-middle"},cs={class:"px-2 py-2 align-middle"},ms={key:6,class:"px-2 py-2 align-middle"},gs={key:7,class:"px-2 py-2 align-middle"},ys={class:"px-2 py-2 align-middle",style:{width:"120px"}},bs={class:"truncate"},fs={class:"px-2 py-2 text-center align-middle"},xs={class:"flex gap-2 justify-center"},hs=["onClick"],_s=["onClick"],Cs=["onClick"],vs={class:"relative top-20 p-5 mx-auto w-11/12 bg-white rounded-md border shadow-lg md:w-2/3 lg:w-1/2"},ks={class:"mt-3"},ws={class:"flex justify-between items-center mb-4"},js={class:"text-lg font-medium text-gray-900"},Ms={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},Ss=["value"],$s={key:0,class:"mt-1 text-sm text-red-500"},Ts={key:0,class:"mt-1 text-sm text-red-500"},Ls={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},Os={key:0,class:"mt-1 text-sm text-red-500"},Ps={key:0,class:"mt-1 text-sm text-red-500"},Fs={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},Ds={key:0,class:"mt-1 text-sm text-red-500"},Hs={key:0,class:"mt-1 text-sm text-red-500"},Es={key:0,class:"mt-1 text-sm text-red-500"},Vs={key:0,class:"mt-1 text-sm text-red-500"},As={class:"flex gap-3 justify-end pt-4"},Us=["disabled"],Bs={key:0},Is={key:1},qs={key:10,class:"overflow-y-auto fixed inset-0 z-50 w-full h-full bg-gray-600 bg-opacity-50"},Ns={class:"relative top-20 p-5 mx-auto w-96 bg-white rounded-md border shadow-lg"},Rs={class:"mt-3 text-center"},Zs={class:"flex gap-3 justify-center mt-4"},zs=["disabled"],Ks={key:0},Xs={key:1},cn=Object.assign({layout:je},{__name:"Index",props:{submissions:Object,sort_by:String,sort_direction:String,search:String,start_date:String,end_date:String,name_filter:String,branch_filter:String,type_filter:String,status_filter:String,branches:Array,employees:Array,submission_types:Array,submission_statuses:Array,statistics:Object,type:String,types:Array,auth:Object},setup(b){const s=b;console.log(s.submission_types);const{can:E}=He(),y=M({showHeader:!0,perPage:s.submissions?.meta?.per_page??10,search:s.search??"",title:"Daftar Pengajuan",columns:[{label:"No",key:"id",sortable:!0,style:"width: 8%; text-align: center;"},{label:"Tanggal",key:"submission_date",sortable:!0,style:"width: 15%; text-align: left;"},{label:"Nama",key:"employee_id",sortable:!0,style:"width: 25%; text-align: left;"},{label:"Cabang",key:"branch_id",sortable:!0,style:"width: 25%; text-align: left;"},{label:"Tipe",key:"type",sortable:!0,style:"width: 15%; text-align: left;"},{label:"Status",key:"status",sortable:!0,style:"width: 8%; text-align: center;"},{label:"Aksi",key:"actions",sortable:!1,style:"width: 5%; text-align: center;"}],data:s.submissions?.data??[],loading:!1,totalItems:s.submissions?.meta?.total??0,currentPage:s.submissions?.meta?.current_page??1,sortBy:s.sort_by??"id",sortDirection:s.sort_direction??"desc"}),l=M({start_date:s.start_date??"",end_date:s.end_date??"",name:s.name_filter??"",branch:s.branch_filter??"",type:s.type_filter??"",status:s.status_filter??""}),V=[{label:"Absensi"},{label:"Daftar Pengajuan"}],r=M({isOpen:!1,type:null,submission:null,loading:!1,error:null}),m=M({isOpen:!1,isEdit:!1,loading:!1,error:null}),c=M({isOpen:!1,loading:!1,submissionId:null}),u=M({employee_id:"",start_date:"",end_date:"",count_employee:1,salary:0,reason:"",status:"pending",notes:""}),g=M({}),I=X(s.employees||[]),L=X(s.submissions?.data||[]);function Y(o){const t={pending:0,approved:0,rejected:0,cancelled:0};return o.forEach(f=>{const n=f.status;t.hasOwnProperty(n)&&t[n]++}),t}const Q=J(()=>{let o;return s.type==="submissions"?o=Y(L.value):o=s.statistics||{},[{icon:st,total:o.pending??0,label:"Menunggu direspon"},{icon:ut,total:o.approved??0,label:"Disetujui"},{icon:it,total:o.rejected??0,label:"Ditolak"},{icon:gt,total:o.cancelled??0,label:"Dibatalkan"}]});function ee(o){return{pending:"Menunggu",approved:"Disetujui",rejected:"Ditolak",cancelled:"Dibatalkan"}[o]||"Menunggu"}function te(o){return{pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",cancelled:"bg-gray-100 text-gray-800"}[o]||"bg-gray-100 text-gray-800"}function se(o){return{pending:"bg-yellow-500",approved:"bg-green-500",rejected:"bg-red-500",cancelled:"bg-gray-500"}[o]||"bg-gray-500"}const q=o=>{if(!o)return"";const t=new Date(o),f=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),j=String(t.getDate()).padStart(2,"0");return`${f}-${n}-${j}`},ne=o=>!o&&o!==0?"-":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(o);function oe(){let o=4;return s.type==="others"&&(o+=1),["sick","annual-leave","others"].includes(s.type)&&(o+=3),s.type==="overtime"&&(o+=2),s.type==="debt"&&(o+=2),o+=2,o}function O({page:o=1,perPage:t=y.perPage,search:f=y.search,sortBy:n=y.sortBy,sortDirection:j=y.sortDirection,startDate:P=l.start_date,endDate:ye=l.end_date,nameFilter:be=l.name,branchFilter:fe=l.branch,typeFilter:xe=l.type,statusFilter:he=l.status,onSuccess:z,onFinish:K}={}){y.loading=!0,W.get(`/${s.type}`,{page:o,per_page:t,search:f,sort_by:n,sort_direction:j,start_date:P,end_date:ye,name_filter:be,branch_filter:fe,type_filter:xe,status_filter:he,type:s.type},{preserveScroll:!0,preserveState:!0,replace:!0,onSuccess:F=>{y.data=F.props.submissions.data,y.totalItems=F.props.submissions.meta.total,y.currentPage=F.props.submissions.meta.current_page,y.loading=!1,z&&z(F)},onFinish:()=>{y.loading=!1,K&&K()}})}function ae(o){console.log("perPageChanged called with:",o),y.perPage=o,y.currentPage=1,O({page:1,perPage:o,startDate:l.start_date,endDate:l.end_date,nameFilter:l.name,branchFilter:l.branch,typeFilter:l.type,statusFilter:l.status})}function ie(o){y.currentPage=o,O({page:o,startDate:l.start_date,endDate:l.end_date,nameFilter:l.name,branchFilter:l.branch,typeFilter:l.type,statusFilter:l.status})}function $(){y.currentPage=1,O({page:1,startDate:l.start_date,endDate:l.end_date,nameFilter:l.name,branchFilter:l.branch,typeFilter:l.type,statusFilter:l.status})}function re(){l.start_date="",l.end_date="",l.name="",l.branch="",l.type="",l.status="",y.currentPage=1,O({page:1})}let N;function le(){clearTimeout(N),N=setTimeout(()=>{$()},500)}async function R(o,t){r.isOpen=!0,r.type=t,r.loading=!0,r.error=null,r.submission=o,console.log(t);try{const f=await fetch(route(`submission.${t}.show`,o.id),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""}});if(!f.ok)throw new Error(`HTTP error! status: ${f.status}`);const n=await f.json();if(n.success)r.submission={data:n.data,submission_types:n.submission_types,submission_statuses:n.submission_statuses,type:n.type},r.loading=!1;else throw new Error(n.message||"Gagal memuat detail pengajuan")}catch(f){console.error("Error fetching submission details:",f),r.error=f.message||"Gagal memuat detail pengajuan",r.loading=!1}}function v(){r.isOpen=!1,r.submission=null,r.type=null,r.loading=!1,r.error=null}function de(o){L.value=o}function A(){console.log("Refreshing table data..."),W.reload({only:["submissions","statistics"],onSuccess:()=>{y.data=s.submissions?.data??[],s.type==="submissions"&&(L.value=s.submissions?.data??[]),console.log("Table data refreshed successfully")},onError:o=>{console.error("Error refreshing table data:",o)}})}function w(){console.log("Modal update successful, refreshing table..."),v(),A()}function ue(){m.isOpen=!0,m.isEdit=!1,m.loading=!1,m.error=null,Object.assign(u,{employee_id:"",start_date:"",end_date:"",count_employee:1,salary:0,reason:"",status:"pending",notes:""}),Object.keys(g).forEach(o=>delete g[o])}function pe(o){m.isOpen=!0,m.isEdit=!0,m.loading=!1,m.error=null,r.submission=o,console.log("Edit modal submission data:",o),console.log("Start date:",o.start_date),console.log("End date:",o.end_date),Object.assign(u,{employee_id:o.employee?.id||"",start_date:o.start_date?q(o.start_date):"",end_date:o.end_date?q(o.end_date):"",count_employee:o.count_employee||1,salary:o.salary||0,reason:o.reason||"",status:o.status||"pending",notes:o.notes||""}),console.log("Formatted start_date:",u),console.log("Formatted end_date:",u.end_date),Object.keys(g).forEach(t=>delete g[t])}function U(){m.isOpen=!1,m.isEdit=!1,m.loading=!1,m.error=null,Object.assign(u,{employee_id:"",start_date:"",end_date:"",count_employee:1,salary:0,reason:"",status:"pending",notes:""}),Object.keys(g).forEach(o=>delete g[o])}async function ce(){m.loading=!0,m.error=null,Object.keys(g).forEach(o=>delete g[o]);try{const o=m.isEdit?route("submission.employee.update",r.submission?.id):route("submission.employee.store"),t=m.isEdit?"PUT":"POST",f=await fetch(o,{method:t,headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},body:JSON.stringify(u)}),n=await f.json();f.ok&&n.success?(U(),A()):n.errors?Object.assign(g,n.errors):m.error=n.message||"Terjadi kesalahan saat menyimpan data"}catch(o){console.error("Error submitting form:",o),m.error="Terjadi kesalahan saat menyimpan data"}finally{m.loading=!1}}function me(o){c.isOpen=!0,c.submissionId=o,c.loading=!1}function Z(){c.isOpen=!1,c.submissionId=null,c.loading=!1}async function ge(){if(c.submissionId){c.loading=!0;try{const o=await fetch(route("submission.employee.destroy",c.submissionId),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""}}),t=await o.json();o.ok&&t.success?(Z(),A()):alert(t.message||"Terjadi kesalahan saat menghapus data")}catch(o){console.error("Error deleting submission:",o),alert("Terjadi kesalahan saat menghapus data")}finally{c.loading=!1}}}return _e(()=>s.submissions?.data,o=>{s.type==="submissions"&&o&&(L.value=o)},{deep:!0,immediate:!0}),(o,t)=>{const f=Ce("Head");return a(),i(h,null,[B(f,{title:"Daftar Pengajuan"}),e("div",yt,[e("div",bt,[B(Me,{items:V})]),e("div",ft,[e("h1",xt,p(s.types[s.type]),1),s.type==="employee"?(a(),i("button",{key:0,onClick:ue,class:"inline-flex gap-2 items-center px-4 py-2 text-white bg-blue-600 rounded-lg transition hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"},[...t[13]||(t[13]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),S(" Tambah Pengajuan ",-1)])])):d("",!0)]),e("div",ht,[(a(!0),i(h,null,k(Q.value,(n,j)=>(a(),i("div",{key:j,class:"flex gap-4 items-center px-4 py-4 bg-white rounded-lg border shadow-sm"},[(a(),_(ve(n.icon))),e("div",null,[e("h1",_t,p(n.total),1),e("p",Ct,p(n.label),1)])]))),128))]),s.type==="submissions"?(a(),_(Se,{key:0,submissions:b.submissions.data,types:s.types,"current-type":s.type,branches:s.branches,"submission-types":s.submission_types,"submission-statuses":s.submission_statuses,onOpenModal:R,onFilteredDataUpdated:de},null,8,["submissions","types","current-type","branches","submission-types","submission-statuses"])):(a(),i("div",vt,[e("ul",kt,[(a(!0),i(h,null,k(s.submission_types,n=>(a(),i("li",{class:"me-2",key:n.name},[ke(E)(n.permission)?(a(),i("a",{key:0,href:`/${n.name}`,"aria-selected":"true",class:T(["inline-block p-4 rounded-ss-lg hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700",n.name===s.type?"text-blue-600 dark:text-blue-500 font-semibold border-b-2 border-blue-600":"text-gray-500 dark:text-gray-400"])},p(n.label),11,wt)):d("",!0)]))),128))]),e("div",jt,[e("div",Mt,[e("table",St,[e("thead",$t,[e("tr",null,[t[14]||(t[14]=e("th",{class:"px-2 py-2 text-xs font-semibold text-left text-gray-600 uppercase"}," No ",-1)),t[15]||(t[15]=e("th",{class:"px-2 py-2 text-xs font-semibold text-left text-gray-600 uppercase"}," Tanggal Pengajuan ",-1)),t[16]||(t[16]=e("th",{class:"px-2 py-2 text-xs font-semibold text-left text-gray-600 uppercase"}," Karyawan ",-1)),s.type==="others"?(a(),i("th",Tt," Kategori Izin ")):d("",!0),["sick","annual-leave","others"].includes(s.type)?(a(),i("th",Lt," Tanggal Mulai ")):d("",!0),["sick","annual-leave","others"].includes(s.type)?(a(),i("th",Ot," Tanggal Akhir ")):d("",!0),["sick","annual-leave","others"].includes(s.type)?(a(),i("th",Pt," Total Hari ")):d("",!0),s.type==="overtime"?(a(),i("th",Ft," Waktu Mulai ")):d("",!0),s.type==="overtime"?(a(),i("th",Dt," Waktu Selesai ")):d("",!0),t[17]||(t[17]=e("th",{class:"px-2 py-2 text-xs font-semibold text-left text-gray-600 uppercase"}," Cabang ",-1)),s.type==="debt"?(a(),i("th",Ht," Jumlah ")):d("",!0),s.type==="debt"?(a(),i("th",Et," Tenor ")):d("",!0),t[18]||(t[18]=e("th",{class:"px-2 py-2 text-xs font-semibold text-left text-gray-600 uppercase",style:{width:"120px"}}," Status ",-1)),t[19]||(t[19]=e("th",{class:"px-2 py-2 text-xs font-semibold text-center text-gray-600 uppercase"}," Aksi ",-1))]),e("tr",Vt,[t[24]||(t[24]=e("th",{class:"px-2 py-1"},null,-1)),e("th",At,[e("div",Ut,[x(e("input",{type:"date","onUpdate:modelValue":t[0]||(t[0]=n=>l.start_date=n),onChange:$,class:"px-2 py-1 w-full text-xs rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Tanggal mulai"},null,544),[[C,l.start_date]]),x(e("input",{type:"date","onUpdate:modelValue":t[1]||(t[1]=n=>l.end_date=n),onChange:$,class:"px-2 py-1 w-full text-xs rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Tanggal akhir"},null,544),[[C,l.end_date]])])]),e("th",Bt,[e("div",It,[x(e("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=n=>l.name=n),onInput:le,class:"px-2 py-1 pr-8 w-full text-xs rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Cari nama..."},null,544),[[C,l.name]]),t[20]||(t[20]=e("div",{class:"flex absolute inset-y-0 right-2 items-center pointer-events-none"},[e("svg",{class:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1))])]),s.type==="others"?(a(),i("th",qt)):d("",!0),["sick","annual-leave","others"].includes(s.type)?(a(),i("th",Nt)):d("",!0),["sick","annual-leave","others"].includes(s.type)?(a(),i("th",Rt)):d("",!0),["sick","annual-leave","others"].includes(s.type)?(a(),i("th",Zt)):d("",!0),s.type==="overtime"?(a(),i("th",zt)):d("",!0),s.type==="overtime"?(a(),i("th",Kt)):d("",!0),e("th",Xt,[x(e("select",{"onUpdate:modelValue":t[3]||(t[3]=n=>l.branch=n),onChange:$,class:"px-2 py-1 w-full text-xs rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"},[t[21]||(t[21]=e("option",{value:""},"Semua Cabang",-1)),(a(!0),i(h,null,k(s.branches,n=>(a(),i("option",{key:n.id,value:n.id},p(n.name),9,Gt))),128))],544),[[D,l.branch]])]),s.type==="debt"?(a(),i("th",Wt)):d("",!0),s.type==="debt"?(a(),i("th",Jt)):d("",!0),e("th",Yt,[x(e("select",{"onUpdate:modelValue":t[4]||(t[4]=n=>l.status=n),onChange:$,class:"px-2 py-1 w-full text-xs rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"},[t[22]||(t[22]=e("option",{value:""},"Semua Status",-1)),(a(!0),i(h,null,k(s.submission_statuses,n=>(a(),i("option",{key:n.value,value:n.value},p(n.label),9,Qt))),128))],544),[[D,l.status]])]),e("th",{class:"px-2 py-1 text-center"},[e("button",{onClick:re,class:"flex gap-1 items-center px-2 py-1 mx-auto text-xs text-white bg-purple-600 rounded hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500"},[...t[23]||(t[23]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),S(" Clear ",-1)])])])])]),e("tbody",es,[y.data.length===0?(a(),i("tr",ts,[e("td",{colspan:oe(),class:"px-4 py-12 text-center"},[...t[25]||(t[25]=[G('<div class="flex flex-col items-center justify-center"><svg class="w-16 h-16 mb-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg><h3 class="mb-2 text-lg font-medium text-gray-900"> Tidak ada data </h3><p class="mb-4 text-sm text-gray-500"> Belum ada pengajuan yang tersedia. </p></div>',1)])],8,ss)])):(a(!0),i(h,{key:1},k(y.data,(n,j)=>(a(),i("tr",{key:n.id,class:"transition hover:bg-gray-50"},[e("td",ns,p(j+(y.currentPage-1)*y.perPage+1),1),e("td",os,p(n?.tanggal_pengajuan||"-"),1),e("td",as,p(n?.employee?.name||"-"),1),s.type==="others"?(a(),i("td",is,p(n?.leave_type_name||"-"),1)):d("",!0),["sick","annual-leave","others"].includes(s.type)?(a(),i("td",rs,p(n?.start_date||"-"),1)):d("",!0),["sick","annual-leave","others"].includes(s.type)?(a(),i("td",ls,p(n?.end_date||"-"),1)):d("",!0),["sick","annual-leave","others"].includes(s.type)?(a(),i("td",ds,p(n?.total_days?n.total_days+" hari":"-"),1)):d("",!0),s.type==="overtime"?(a(),i("td",us,p(n?.start_time||"-"),1)):d("",!0),s.type==="overtime"?(a(),i("td",ps,p(n?.end_time||"-"),1)):d("",!0),e("td",cs,p(n?.employee?.branch_name||"-"),1),s.type==="debt"?(a(),i("td",ms,p(ne(n?.amount)||"-"),1)):d("",!0),s.type==="debt"?(a(),i("td",gs,p(n?.tenor?n.tenor+" bulan":"-"),1)):d("",!0),e("td",ys,[e("div",{class:T(["inline-flex gap-1 items-center px-2 py-1 text-xs font-medium whitespace-nowrap rounded-full",te(n.status)])},[e("span",{class:T(["flex-shrink-0 w-2 h-2 rounded-full",se(n.status)])},null,2),e("span",bs,p(ee(n.status)),1)],2)]),e("td",fs,[e("div",xs,[e("button",{onClick:P=>R(n,s.type),class:"inline-flex gap-1 items-center px-2 py-1 text-xs font-medium text-blue-700 bg-blue-50 rounded-md border border-blue-100 transition hover:bg-blue-100"},[...t[26]||(t[26]=[e("svg",{class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M11.9992 15.2094C13.77 15.2094 15.2055 13.7739 15.2055 12.0031C15.2055 10.2324 13.77 8.79688 11.9992 8.79688C10.2285 8.79688 8.79297 10.2324 8.79297 12.0031C8.79297 13.7739 10.2285 15.2094 11.9992 15.2094Z",fill:"#1B84FF"}),e("path",{opacity:"0.3",d:"M12 2.36719C6.67875 2.36719 0.75 7.56469 0.75 11.9972C0.75 16.2272 6.67875 21.6272 12 21.6272C17.625 21.6272 23.25 16.4634 23.25 11.9972C23.25 7.69969 17.3213 2.36719 12 2.36719ZM12 16.8909C11.0321 16.8909 10.086 16.6039 9.28118 16.0662C8.4764 15.5285 7.84916 14.7642 7.47876 13.8699C7.10837 12.9757 7.01146 11.9918 7.20028 11.0425C7.38911 10.0932 7.85519 9.22119 8.5396 8.53678C9.22401 7.85238 10.0961 7.3863 11.0453 7.19747C11.9946 7.00864 12.9785 7.10556 13.8728 7.47595C14.7671 7.84635 15.5313 8.47359 16.0691 9.27837C16.6068 10.0831 16.8938 11.0293 16.8938 11.9972C16.8938 13.2951 16.3782 14.5398 15.4604 15.4576C14.5426 16.3753 13.2979 16.8909 12 16.8909Z",fill:"#1B84FF"})],-1),e("span",null,"Lihat",-1)])],8,hs),s.type==="employee"?(a(),i(h,{key:0},[e("button",{onClick:P=>pe(n),class:"inline-flex gap-1 items-center px-2 py-1 text-xs font-medium text-yellow-700 bg-yellow-50 rounded-md border border-yellow-100 transition hover:bg-yellow-100"},[...t[27]||(t[27]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),e("span",null,"Edit",-1)])],8,_s),e("button",{onClick:P=>me(n.id),class:"inline-flex gap-1 items-center px-2 py-1 text-xs font-medium text-red-700 bg-red-50 rounded-md border border-red-100 transition hover:bg-red-100"},[...t[28]||(t[28]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),e("span",null,"Hapus",-1)])],8,Cs)],64)):d("",!0)])])]))),128))])]),B(Ye,{pagination:b.submissions.meta,onPageChange:ie,onPerPageChange:ae,class:"border-t"},null,8,["pagination"])])])])),r.type==="sick"?(a(),_($e,{key:2,"is-open":r.isOpen&&r.type==="sick",submission:r.submission,type:r.type,"submission-types":s.submission_types,"submission-statuses":s.submission_statuses,loading:r.loading,error:r.error,onClose:v,onUpdateSuccess:w},null,8,["is-open","submission","type","submission-types","submission-statuses","loading","error"])):d("",!0),r.type==="overtime"?(a(),_(Te,{key:3,"is-open":r.isOpen&&r.type==="overtime",submission:r.submission,type:r.type,"submission-types":s.submission_types,"submission-statuses":s.submission_statuses,loading:r.loading,error:r.error,onClose:v,onUpdateSuccess:w},null,8,["is-open","submission","type","submission-types","submission-statuses","loading","error"])):d("",!0),r.type==="others"?(a(),_(Le,{key:4,"is-open":r.isOpen&&r.type==="others",submission:r.submission,type:r.type,"submission-types":s.submission_types,"submission-statuses":s.submission_statuses,loading:r.loading,error:r.error,onClose:v,onUpdateSuccess:w},null,8,["is-open","submission","type","submission-types","submission-statuses","loading","error"])):d("",!0),r.type==="debt"?(a(),_(Oe,{key:5,"is-open":r.isOpen&&r.type==="debt",submission:r.submission,type:r.type,"submission-types":s.submission_types,"submission-statuses":s.submission_statuses,loading:r.loading,error:r.error,onClose:v,onUpdateSuccess:w},null,8,["is-open","submission","type","submission-types","submission-statuses","loading","error"])):d("",!0),r.type==="employee"?(a(),_(Pe,{key:6,"is-open":r.isOpen&&r.type==="employee",submission:r.submission,"submission-statuses":s.submission_statuses,loading:r.loading,error:r.error,onClose:v,onUpdateSuccess:w},null,8,["is-open","submission","submission-statuses","loading","error"])):d("",!0),r.type==="annual-leave"?(a(),_(Fe,{key:7,"is-open":r.isOpen&&r.type==="annual-leave",submission:r.submission,type:r.type,"submission-types":s.submission_types,"submission-statuses":s.submission_statuses,loading:r.loading,error:r.error,onClose:v,onUpdateSuccess:w},null,8,["is-open","submission","type","submission-types","submission-statuses","loading","error"])):d("",!0),r.type==="reimbursement"?(a(),_(De,{key:8,"is-open":r.isOpen&&r.type==="reimbursement",submission:r.submission,type:r.type,"submission-types":s.submission_types,"submission-statuses":s.submission_statuses,loading:r.loading,error:r.error,onClose:v,onUpdateSuccess:w},null,8,["is-open","submission","type","submission-types","submission-statuses","loading","error"])):d("",!0),s.type==="employee"?(a(),i("div",{key:9,class:T(["overflow-y-auto fixed inset-0 z-50 w-full h-full bg-gray-600 bg-opacity-50",{hidden:!m.isOpen}])},[e("div",vs,[e("div",ks,[e("div",ws,[e("h3",js,p(m.isEdit?"Edit Pengajuan Laporan Harian":"Tambah Pengajuan Laporan Harian"),1),e("button",{onClick:U,class:"text-gray-400 hover:text-gray-600"},[...t[29]||(t[29]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("form",{onSubmit:we(ce,["prevent"]),class:"space-y-4"},[e("div",Ms,[e("div",null,[t[31]||(t[31]=e("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"Nama Karyawan *",-1)),x(e("select",{"onUpdate:modelValue":t[5]||(t[5]=n=>u.employee_id=n),required:"",class:"px-3 py-2 w-full rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"},[t[30]||(t[30]=e("option",{value:""},"Pilih Karyawan",-1)),(a(!0),i(h,null,k(I.value,n=>(a(),i("option",{key:n.id,value:n.id},p(n.name)+" - "+p(n.branch_name),9,Ss))),128))],512),[[D,u.employee_id]]),g.employee_id?(a(),i("div",$s,p(g.employee_id),1)):d("",!0)]),e("div",null,[t[33]||(t[33]=e("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"Status *",-1)),x(e("select",{"onUpdate:modelValue":t[6]||(t[6]=n=>u.status=n),required:"",class:"px-3 py-2 w-full rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"},[...t[32]||(t[32]=[e("option",{value:"pending"},"Menunggu",-1),e("option",{value:"approved"},"Disetujui",-1),e("option",{value:"rejected"},"Ditolak",-1)])],512),[[D,u.status]]),g.status?(a(),i("div",Ts,p(g.status),1)):d("",!0)])]),e("div",Ls,[e("div",null,[t[34]||(t[34]=e("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"Tanggal Mulai *",-1)),x(e("input",{type:"date","onUpdate:modelValue":t[7]||(t[7]=n=>u.start_date=n),required:"",class:"px-3 py-2 w-full rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[C,u.start_date]]),g.start_date?(a(),i("div",Os,p(g.start_date),1)):d("",!0)]),e("div",null,[t[35]||(t[35]=e("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"Tanggal Akhir *",-1)),x(e("input",{type:"date","onUpdate:modelValue":t[8]||(t[8]=n=>u.end_date=n),required:"",class:"px-3 py-2 w-full rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[C,u.end_date]]),g.end_date?(a(),i("div",Ps,p(g.end_date),1)):d("",!0)])]),e("div",Fs,[e("div",null,[t[36]||(t[36]=e("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"Jumlah Karyawan *",-1)),x(e("input",{type:"number","onUpdate:modelValue":t[9]||(t[9]=n=>u.count_employee=n),required:"",min:"1",class:"px-3 py-2 w-full rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[C,u.count_employee]]),g.count_employee?(a(),i("div",Ds,p(g.count_employee),1)):d("",!0)]),e("div",null,[t[37]||(t[37]=e("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"Gaji *",-1)),x(e("input",{type:"number","onUpdate:modelValue":t[10]||(t[10]=n=>u.salary=n),required:"",min:"0",step:"0.01",class:"px-3 py-2 w-full rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[C,u.salary]]),g.salary?(a(),i("div",Hs,p(g.salary),1)):d("",!0)])]),e("div",null,[t[38]||(t[38]=e("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"Alasan *",-1)),x(e("textarea",{"onUpdate:modelValue":t[11]||(t[11]=n=>u.reason=n),required:"",rows:"3",class:"px-3 py-2 w-full rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Masukkan alasan pengajuan..."},null,512),[[C,u.reason]]),g.reason?(a(),i("div",Es,p(g.reason),1)):d("",!0)]),e("div",null,[t[39]||(t[39]=e("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"Catatan",-1)),x(e("textarea",{"onUpdate:modelValue":t[12]||(t[12]=n=>u.notes=n),rows:"2",class:"px-3 py-2 w-full rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Catatan tambahan (opsional)..."},null,512),[[C,u.notes]]),g.notes?(a(),i("div",Vs,p(g.notes),1)):d("",!0)]),e("div",As,[e("button",{type:"button",onClick:U,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md border border-gray-300 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500"}," Batal "),e("button",{type:"submit",disabled:m.loading,class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md border border-transparent hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50"},[m.loading?(a(),i("span",Bs,"Menyimpan...")):(a(),i("span",Is,p(m.isEdit?"Update":"Simpan"),1))],8,Us)])],32)])])],2)):d("",!0),c.isOpen?(a(),i("div",qs,[e("div",Ns,[e("div",Rs,[t[40]||(t[40]=G('<div class="flex justify-center items-center mx-auto w-12 h-12 bg-red-100 rounded-full"><svg class="w-6 h-6 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path></svg></div><h3 class="mt-2 text-lg font-medium text-gray-900"> Konfirmasi Hapus </h3><div class="px-7 py-3 mt-2"><p class="text-sm text-gray-500"> Apakah Anda yakin ingin menghapus pengajuan laporan harian ini? Tindakan ini tidak dapat dibatalkan. </p></div>',3)),e("div",Zs,[e("button",{onClick:Z,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md border border-gray-300 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500"}," Batal "),e("button",{onClick:ge,disabled:c.loading,class:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md border border-transparent hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 disabled:opacity-50"},[c.loading?(a(),i("span",Ks,"Menghapus...")):(a(),i("span",Xs,"Hapus"))],8,zs)])])])])):d("",!0)])],64)}}});export{cn as default};
