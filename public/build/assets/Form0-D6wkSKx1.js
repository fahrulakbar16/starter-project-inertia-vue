import{z as k,L as q,e as a,o,a as s,E as l,f as n,G as g,t as d,J as m,F as u,i as y,K as v}from"./app-CJkCV51W.js";const w={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},A={key:0,class:"mt-1 text-xs text-rose-600"},c={key:0,class:"mt-1 text-xs text-rose-600"},V=["value"],R={key:0,class:"mt-1 text-xs text-rose-600"},U=["value"],M={key:0,class:"mt-1 text-xs text-rose-600"},D=["value"],S={key:0,class:"mt-1 text-xs text-rose-600"},B=["value"],O={key:0,class:"mt-1 text-xs text-rose-600"},P={class:"md:col-span-2"},$={key:0,class:"mt-1 text-xs text-rose-600"},C={class:"flex items-center gap-2 justify-end pt-2"},E=["disabled"],N={__name:"Form0",props:{form:{type:Object,required:!0},departments:{type:Array,required:!0},employees:{type:Array,required:!0},statusOptions:{type:Array,required:!0},materialRequests:{type:Array,required:!0}},emits:["submit","cancel","items-loaded"],setup(e,{emit:x}){const b=e,f=x;return k(()=>b.form.reference_request_id,async i=>{if(!i){f("items-loaded",[]);return}try{const r=await q.get(route("material-requests.items.by-request"),{params:{request_id:i}});f("items-loaded",r.data.items)}catch(r){console.error("Error loading MR items:",r),f("items-loaded",[])}},{immediate:!0}),(i,r)=>(o(),a("form",{onSubmit:r[8]||(r[8]=v(t=>i.$emit("submit"),["prevent"])),class:"space-y-4"},[s("div",w,[s("div",null,[r[9]||(r[9]=s("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"No. Request",-1)),l(s("input",{"onUpdate:modelValue":r[0]||(r[0]=t=>e.form.request_no=t),type:"text",class:"mt-1 w-full h-10 rounded border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-white/90"},null,512),[[g,e.form.request_no]]),e.form.errors.request_no?(o(),a("p",A,d(Array.isArray(e.form.errors.request_no)?e.form.errors.request_no[0]:e.form.errors.request_no),1)):n("",!0)]),s("div",null,[r[10]||(r[10]=s("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Tanggal Permintaan",-1)),l(s("input",{"onUpdate:modelValue":r[1]||(r[1]=t=>e.form.request_date=t),type:"date",class:"mt-1 w-full h-10 rounded border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-white/90"},null,512),[[g,e.form.request_date]]),e.form.errors.request_date?(o(),a("p",c,d(Array.isArray(e.form.errors.request_date)?e.form.errors.request_date[0]:e.form.errors.request_date),1)):n("",!0)]),s("div",null,[r[12]||(r[12]=s("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Departemen",-1)),l(s("select",{"onUpdate:modelValue":r[2]||(r[2]=t=>e.form.department_id=t),class:"mt-1 w-full h-10 rounded border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-white/90"},[r[11]||(r[11]=s("option",{value:null},"Pilih Departemen",-1)),(o(!0),a(u,null,y(e.departments,t=>(o(),a("option",{key:t.id,value:t.id},d(t.name),9,V))),128))],512),[[m,e.form.department_id]]),e.form.errors.department_id?(o(),a("p",R,d(Array.isArray(e.form.errors.department_id)?e.form.errors.department_id[0]:e.form.errors.department_id),1)):n("",!0)]),s("div",null,[r[14]||(r[14]=s("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Diminta oleh",-1)),l(s("select",{"onUpdate:modelValue":r[3]||(r[3]=t=>e.form.request_by=t),class:"mt-1 w-full h-10 rounded border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-white/90"},[r[13]||(r[13]=s("option",{value:null},"Pilih Karyawan",-1)),(o(!0),a(u,null,y(e.employees,t=>(o(),a("option",{key:t.id,value:t.id},d(t.name),9,U))),128))],512),[[m,e.form.request_by]]),e.form.errors.request_by?(o(),a("p",M,d(Array.isArray(e.form.errors.request_by)?e.form.errors.request_by[0]:e.form.errors.request_by),1)):n("",!0)]),s("div",null,[r[16]||(r[16]=s("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Referensi MR",-1)),l(s("select",{"onUpdate:modelValue":r[4]||(r[4]=t=>e.form.reference_request_id=t),class:"mt-1 w-full h-10 rounded border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-white/90"},[r[15]||(r[15]=s("option",{value:null},"Pilih Referensi MR (Opsional)",-1)),(o(!0),a(u,null,y(e.materialRequests,t=>(o(),a("option",{key:t.id,value:t.id},d(t.request_no),9,D))),128))],512),[[m,e.form.reference_request_id]]),e.form.errors.reference_request_id?(o(),a("p",S,d(Array.isArray(e.form.errors.reference_request_id)?e.form.errors.reference_request_id[0]:e.form.errors.reference_request_id),1)):n("",!0)]),s("div",null,[r[17]||(r[17]=s("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Status",-1)),l(s("select",{"onUpdate:modelValue":r[5]||(r[5]=t=>e.form.status=t),class:"mt-1 w-full h-10 rounded border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-white/90"},[(o(!0),a(u,null,y(e.statusOptions,t=>(o(),a("option",{key:t.value,value:t.value},d(t.label),9,B))),128))],512),[[m,e.form.status]]),e.form.errors.status?(o(),a("p",O,d(Array.isArray(e.form.errors.status)?e.form.errors.status[0]:e.form.errors.status),1)):n("",!0)]),s("div",P,[r[18]||(r[18]=s("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Catatan",-1)),l(s("textarea",{"onUpdate:modelValue":r[6]||(r[6]=t=>e.form.notes=t),rows:"3",class:"mt-1 w-full rounded border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-white/90"},null,512),[[g,e.form.notes]]),e.form.errors.notes?(o(),a("p",$,d(Array.isArray(e.form.errors.notes)?e.form.errors.notes[0]:e.form.errors.notes),1)):n("",!0)])]),s("div",C,[s("button",{type:"button",onClick:r[7]||(r[7]=t=>i.$emit("cancel")),class:"inline-flex items-center rounded border border-gray-300 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:text-gray-300"},"Batal"),s("button",{type:"submit",disabled:e.form.processing,class:"inline-flex items-center rounded bg-green-600 px-3 py-2 text-sm font-medium text-white hover:bg-green-700 disabled:opacity-60"},"Simpan",8,E)])],32))}};export{N as default};
