import{d as _,z as W,e as o,o as n,b as U,a as t,f as m,g as s,D as X,h as k,n as p,t as i,F as j,i as M,E as R,G as S,S as Y,H as N}from"./app-CJkCV51W.js";import{_ as Z}from"./Breadcrumb-BJQpsGcc.js";import{_ as tt}from"./AppLayout-BlEKf3Fz.js";import"./FlashMessage-D4C-FUm8.js";import"./LayoutShell-FWpWJLvi.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useAuth-DvuTgkfF.js";import"./LayoutShell.vue_vue_type_style_index_0_lang-CRqqKi3W.js";const et={class:"flex overflow-hidden flex-col gap-3 px-3 h-full"},at={class:"flex justify-between items-center h-10"},st={class:"flex items-center gap-2"},rt={class:"flex flex-col gap-4 overflow-hidden rounded-lg border border-gray-200 bg-white p-6 dark:border-gray-600 dark:bg-white/[0.03]"},it={class:"flex items-center justify-between"},ot={class:"flex items-center gap-2"},nt={class:"grid grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-3"},dt={class:"font-semibold text-gray-800 dark:text-gray-200"},lt={class:"font-semibold text-gray-800 dark:text-gray-200"},ut={class:"font-semibold text-gray-800 dark:text-gray-200"},mt={class:"font-semibold text-gray-800 dark:text-gray-200"},ct={class:"font-semibold text-gray-800 dark:text-gray-200"},yt={key:0},gt={class:"font-semibold text-gray-800 dark:text-gray-200"},pt={class:"font-semibold text-gray-800 dark:text-gray-200"},xt={class:"font-semibold text-gray-800 dark:text-gray-200"},bt={class:"font-semibold text-gray-800 dark:text-gray-200"},vt={class:"font-semibold"},ft={key:1,class:"md:col-span-2 xl:col-span-3"},_t={class:"font-semibold text-gray-800 dark:text-gray-200 whitespace-pre-line"},ht={key:2,class:"md:col-span-2 xl:col-span-3"},kt={class:"font-semibold text-gray-800 dark:text-gray-200 whitespace-pre-line"},wt={class:"flex flex-col overflow-hidden rounded-lg border border-gray-200 bg-white dark:border-gray-600 dark:bg-white/[0.03]"},jt={class:"flex items-center gap-2 px-4 border-b border-gray-200 dark:border-gray-700"},Ct={key:0,class:"overflow-auto","data-simplebar":""},Dt={class:"min-w-full text-sm table-fixed"},qt={key:0},Bt={class:"px-3 py-2"},Pt={class:"px-3 py-2"},Mt={class:"px-3 py-2 font-mono"},Rt={class:"px-3 py-2"},St={class:"px-3 py-2"},Nt={class:"px-3 py-2"},Qt={class:"px-3 py-2"},Vt={class:"px-3 py-2"},Tt={class:"px-3 py-2"},Et={class:"px-3 py-2"},Ut={key:0,class:"text-sm text-gray-700 bg-green-50 px-2 py-1 rounded"},zt={key:1,class:"text-gray-400"},Ht={key:1,class:"p-6"},Ot={key:0,class:"text-sm text-gray-500"},It={key:1,class:"space-y-3"},Jt={class:"flex-1"},Lt={class:"text-sm font-medium text-gray-800 dark:text-gray-200"},$t={class:"text-xs text-gray-500 flex items-center gap-2"},Ft={key:0,class:"text-gray-400"},Kt={key:1,class:"font-medium"},At={class:"text-sm text-gray-700 dark:text-gray-300 mt-1"},Gt={key:0,class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},Wt={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Xt={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full"},Yt={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},Zt={class:"sm:flex sm:items-start"},te={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full"},ee={class:"text-lg leading-6 font-medium text-gray-900",id:"modal-title"},ae={class:"mt-2"},se={class:"text-sm text-gray-500"},re={class:"mt-6"},ie={class:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg"},oe={class:"min-w-full divide-y divide-gray-300"},ne={class:"bg-gray-50"},de={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},le={class:"bg-white divide-y divide-gray-200"},ue={class:"px-6 py-4 whitespace-nowrap"},me={class:"text-sm font-medium text-gray-900"},ce={class:"text-sm text-gray-500"},ye={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ge={class:"px-6 py-4 whitespace-nowrap"},pe={key:0,class:"text-xs text-gray-600 mb-2"},xe={class:"font-medium"},be={class:"text-gray-400"},ve={class:"flex items-center gap-2"},fe=["onUpdate:modelValue","max","placeholder"],_e={key:0,class:"text-orange-500 text-xs",title:"Catatan wajib diisi"},he={key:1,class:"text-xs text-gray-500 mt-1"},ke={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},we={class:"px-6 py-4"},je=["onUpdate:modelValue","placeholder"],Ce={key:0,class:"text-xs text-red-600 mt-1"},De={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},qe={key:1,class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"payment-modal-title",role:"dialog","aria-modal":"true"},Be={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Pe={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},Me={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},Re={class:"mt-6"},Se={class:"space-y-4"},Ne={class:"text-lg font-semibold text-gray-900"},Qe={class:"text-sm text-gray-600"},Ve=["max"],Te={key:0,class:"font-medium"},Ee={key:1},Ue={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},ze=["disabled"],Ae=Object.assign({layout:tt},{__name:"Show",props:{po:{type:Object,required:!0},activities:{type:Array,default:()=>[]}},setup(z){const Q=z,a=Q.po,C=Q.activities,D=_(!1),q=_(!1),y=_([]),x=_([]),v=_("items"),c=_({additional_amount:0,note:""});y.value=a.items?.map(d=>d.quantity_received||0)||[],x.value=a.items?.map(d=>d.note_received||"")||[],W(y,()=>{},{deep:!0});const H=[{label:"Dashboard",href:route("dashboard")},{label:"Purchase Order",href:route("purchase-orders.index")},{label:a.number}];function h(d){const e=a.items[d]?.quantity_ordered||0,r=y.value[d]||0;return a.status_delivered==="partial"?(a.items[d]?.quantity_received||0)+r!==e:r!==e}function O(d){return{pending:"Belum Diterima",delivered:"Barang Diterima",partial:"Barang Diterima Sebagian"}[d]??d}function I(d){return{pending:"bg-blue-100 text-blue-800",delivered:"bg-emerald-100 text-emerald-800",partial:"bg-amber-100 text-amber-800"}[d]??"bg-gray-100 text-gray-700"}function J(d){return{belum_dibayar:"Belum Dibayar",belum_lunas:"Belum Lunas",lunas:"Lunas"}[d]??d}function L(d){return{belum_dibayar:"bg-red-100 text-red-800",belum_lunas:"bg-orange-100 text-orange-800",lunas:"bg-green-100 text-green-800"}[d]??"bg-gray-100 text-gray-700"}function b(d){try{return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(d||0)}catch{return d}}function $(){window.print()}function F(){window.open(route("purchase-orders.print-receipt",a.id),"_blank")}function K(){q.value=!0,c.value={additional_amount:0,note:""}}function V(){D.value=!0,a.status_delivered==="partial"?y.value=a.items?.map(()=>0)||[]:y.value=a.items?.map(d=>d.quantity_ordered||0)||[],x.value=a.items?.map(d=>d.note_received||"")||[]}function w(){D.value=!1}function B(){q.value=!1}function A(){if(!c.value.additional_amount||c.value.additional_amount<=0){alert("Jumlah pembayaran tambahan harus diisi dan lebih dari 0");return}if(c.value.additional_amount>(a.total||0)-(a.paid_amount||0)){alert("Jumlah pembayaran tidak boleh melebihi sisa yang harus dibayar");return}const d={additional_amount:c.value.additional_amount,note:c.value.note||""};N.post(route("purchase-orders.update-payment",a.id),d,{onSuccess:()=>{B(),window.location.reload()},onError:e=>{console.error("Error updating payment:",e),alert("Terjadi kesalahan saat menyimpan data pembayaran")}})}function G(){if(a.status_delivered==="partial"){if(y.value.some(u=>u==null||u==="")){alert("Mohon isi semua jumlah barang tambahan yang diterima");return}if(y.value.some((u,g)=>{const f=a.items[g]?.quantity_ordered||0,T=a.items[g]?.quantity_received||0,P=f-T;return u>P})){alert("Jumlah tambahan tidak boleh melebihi sisa yang belum diterima");return}if(y.value.some((u,g)=>{const f=a.items[g]?.quantity_ordered||0,P=(a.items[g]?.quantity_received||0)+u,E=x.value[g]||"";return P!==f&&(!E||E.trim()==="")})){alert("Catatan penerimaan wajib diisi untuk item yang jumlahnya tidak sesuai dengan pesanan");return}const l={quantities:y.value.map((u,g)=>({item_id:a.items[g].id,additional_quantity:u,receive_note:x.value[g]||""}))};N.post(route("purchase-orders.update-receive",a.id),l,{onSuccess:()=>{w(),window.location.reload()},onError:u=>{console.error("Error receiving goods:",u),alert("Terjadi kesalahan saat menyimpan data")}})}else{if(y.value.some(l=>l==null||l==="")){alert("Mohon isi semua jumlah barang yang diterima");return}if(y.value.some((l,u)=>{const g=a.items[u]?.quantity_ordered||0;return l>g}),y.value.some((l,u)=>{const g=a.items[u]?.quantity_ordered||0,f=x.value[u]||"";return l!==g&&(!f||f.trim()==="")})){alert("Catatan penerimaan wajib diisi untuk item yang jumlahnya tidak sesuai dengan pesanan");return}const r={quantities:y.value.map((l,u)=>({item_id:a.items[u].id,quantity_received:l,receive_note:x.value[u]||""}))};N.post(route("purchase-orders.receive",a.id),r,{onSuccess:()=>{w(),window.location.reload()},onError:l=>{console.error("Error receiving goods:",l),alert("Terjadi kesalahan saat menyimpan data")}})}}return(d,e)=>(n(),o(j,null,[U(s(X),{title:`Purchase Order ${s(a).number}`},null,8,["title"]),t("div",et,[t("div",at,[U(Z,{items:H}),t("div",st,[s(a).status_invoice==="belum_dibayar"||s(a).status_invoice==="belum_lunas"?(n(),o("button",{key:0,onClick:K,class:"inline-flex items-center rounded bg-orange-600 px-3 py-2 text-sm font-medium text-white hover:bg-orange-700"},[...e[3]||(e[3]=[t("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})],-1),k(" Update Pembayaran ",-1)])])):m("",!0),s(a).status_delivered==="pending"?(n(),o("button",{key:1,onClick:V,class:"inline-flex items-center rounded bg-blue-600 px-3 py-2 text-sm font-medium text-white hover:bg-blue-700"},[...e[4]||(e[4]=[t("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),k(" Barang Diterima ",-1)])])):m("",!0),s(a).status_delivered==="partial"?(n(),o("button",{key:2,onClick:V,class:"inline-flex items-center rounded bg-amber-600 px-3 py-2 text-sm font-medium text-white hover:bg-amber-700"},[...e[5]||(e[5]=[t("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),k(" Update Barang Diterima ",-1)])])):m("",!0),s(a).status_delivered==="delivered"?(n(),o("button",{key:3,onClick:$,class:"inline-flex items-center rounded bg-green-600 px-3 py-2 text-sm font-medium text-white hover:bg-green-700"},[...e[6]||(e[6]=[t("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})],-1),k(" Print PO ",-1)])])):m("",!0)])]),t("div",rt,[t("div",it,[e[7]||(e[7]=t("div",{class:"font-bold text-gray-700 md:text-xl dark:text-gray-300"},"Informasi Purchase Order",-1)),t("div",ot,[t("span",{class:p(`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${I(s(a).status_delivered)}`)},i(O(s(a).status_delivered)),3)])]),t("div",nt,[t("div",null,[e[8]||(e[8]=t("div",{class:"text-xs text-gray-500"},"No. PO",-1)),t("div",dt,i(s(a).number),1)]),t("div",null,[e[9]||(e[9]=t("div",{class:"text-xs text-gray-500"},"Vendor",-1)),t("div",lt,i(s(a).vendor?.name||"-"),1)]),t("div",null,[e[10]||(e[10]=t("div",{class:"text-xs text-gray-500"},"Dibuat oleh",-1)),t("div",ut,i(s(a).ordered_by||"-"),1)]),t("div",null,[e[11]||(e[11]=t("div",{class:"text-xs text-gray-500"},"Cabang",-1)),t("div",mt,i(s(a).branch||"-"),1)]),t("div",null,[e[12]||(e[12]=t("div",{class:"text-xs text-gray-500"},"Tanggal PO",-1)),t("div",ct,i(s(a).date),1)]),s(a).from_pr?(n(),o("div",yt,[e[13]||(e[13]=t("div",{class:"text-xs text-gray-500"},"Referensi PR",-1)),t("div",gt,i(s(a).from_pr?.number),1)])):m("",!0),t("div",null,[e[14]||(e[14]=t("div",{class:"text-xs text-gray-500"},"Total",-1)),t("div",pt,i(b(s(a).total)),1)]),t("div",null,[e[15]||(e[15]=t("div",{class:"text-xs text-gray-500"},"Jumlah Dibayar",-1)),t("div",xt,i(b(s(a).paid_amount||0)),1)]),t("div",null,[e[16]||(e[16]=t("div",{class:"text-xs text-gray-500"},"Sisa Pembayaran",-1)),t("div",bt,i(b((s(a).total||0)-(s(a).paid_amount||0))),1)]),t("div",null,[e[17]||(e[17]=t("div",{class:"text-xs text-gray-500"},"Status Pembayaran",-1)),t("div",vt,[t("span",{class:p(`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${L(s(a).status_invoice)}`)},i(J(s(a).status_invoice)),3)])]),s(a).note?(n(),o("div",ft,[e[18]||(e[18]=t("div",{class:"text-xs text-gray-500"},"Catatan",-1)),t("div",_t,i(s(a).note),1)])):m("",!0),s(a).receive_notes?(n(),o("div",ht,[e[19]||(e[19]=t("div",{class:"text-xs text-gray-500"},"Catatan Penerimaan",-1)),t("div",kt,i(s(a).receive_notes),1)])):m("",!0)])]),t("div",wt,[t("div",jt,[t("button",{class:p(["px-4 py-3 text-sm font-medium",v.value==="items"?"border-b-2 border-blue-500 text-blue-600":"text-gray-600 dark:text-gray-300"]),onClick:e[0]||(e[0]=r=>v.value="items")}," Daftar Item ",2),t("button",{class:p(["px-4 py-3 text-sm font-medium",v.value==="activities"?"border-b-2 border-blue-500 text-blue-600":"text-gray-600 dark:text-gray-300"]),onClick:e[1]||(e[1]=r=>v.value="activities")}," Aktivitas Log ",2)]),v.value==="items"?(n(),o("div",Ct,[t("table",Dt,[e[21]||(e[21]=t("colgroup",null,[t("col",{style:{width:"60px"}}),t("col",{style:{width:"180px"}}),t("col",{style:{width:"140px"}}),t("col",{style:{width:"90px"}}),t("col",{style:{width:"90px"}}),t("col",{style:{width:"90px"}}),t("col",{style:{width:"90px"}}),t("col",{style:{width:"120px"}}),t("col",{style:{width:"120px"}}),t("col")],-1)),e[22]||(e[22]=t("thead",null,[t("tr",null,[t("th",{class:"py-2.5 bg-gray-100 border-y border-gray-200 dark:border-gray-600 dark:bg-gray-800"},[t("div",{class:"px-3 text-left font-medium text-gray-600 dark:text-gray-300"},"No")]),t("th",{class:"py-2.5 bg-gray-100 border-y border-gray-200 dark:border-gray-600 dark:bg-gray-800"},[t("div",{class:"px-3 text-left font-medium text-gray-600 dark:text-gray-300"},"Nama Item")]),t("th",{class:"py-2.5 bg-gray-100 border-y border-gray-200 dark:border-gray-600 dark:bg-gray-800"},[t("div",{class:"px-3 text-left font-medium text-gray-600 dark:text-gray-300"},"Kode")]),t("th",{class:"py-2.5 bg-gray-100 border-y border-gray-200 dark:border-gray-600 dark:bg-gray-800"},[t("div",{class:"px-3 text-left font-medium text-gray-600 dark:text-gray-300"},"Qty Dipesan ")]),t("th",{class:"py-2.5 bg-gray-100 border-y border-gray-200 dark:border-gray-600 dark:bg-gray-800"},[t("div",{class:"px-3 text-left font-medium text-gray-600 dark:text-gray-300"},"Qty Diterima ")]),t("th",{class:"py-2.5 bg-gray-100 border-y border-gray-200 dark:border-gray-600 dark:bg-gray-800"},[t("div",{class:"px-3 text-left font-medium text-gray-600 dark:text-gray-300"},"Harga Satuan ")]),t("th",{class:"py-2.5 bg-gray-100 border-y border-gray-200 dark:border-gray-600 dark:bg-gray-800"},[t("div",{class:"px-3 text-left font-medium text-gray-600 dark:text-gray-300"},"Subtotal")]),t("th",{class:"py-2.5 bg-gray-100 border-y border-gray-200 dark:border-gray-600 dark:bg-gray-800"},[t("div",{class:"px-3 text-left font-medium text-gray-600 dark:text-gray-300"},"Satuan")]),t("th",{class:"py-2.5 bg-gray-100 border-y border-gray-200 dark:border-gray-600 dark:bg-gray-800"},[t("div",{class:"px-3 text-left font-medium text-gray-600 dark:text-gray-300"},"Catatan")]),t("th",{class:"py-2.5 bg-gray-100 border-y border-gray-200 dark:border-gray-600 dark:bg-gray-800"},[t("div",{class:"px-3 text-left font-medium text-gray-600 dark:text-gray-300"},"Catatan Penerimaan")])])],-1)),t("tbody",null,[!s(a).items||s(a).items.length===0?(n(),o("tr",qt,[...e[20]||(e[20]=[t("td",{colspan:"10",class:"text-center py-8 text-gray-500"},"Tidak ada item",-1)])])):m("",!0),(n(!0),o(j,null,M(s(a).items,(r,l)=>(n(),o("tr",{key:r.id,class:"border-b border-gray-200 dark:border-gray-700"},[t("td",Bt,i(l+1),1),t("td",Pt,i(r.item_name),1),t("td",Mt,i(r.item_code),1),t("td",Rt,i(r.quantity_ordered),1),t("td",St,[t("span",{class:p(r.quantity_received>0?"text-green-600 font-semibold":"text-gray-500")},i(r.quantity_received||0),3)]),t("td",Nt,i(b(r.cost)),1),t("td",Qt,i(b(r.quantity_ordered*r.cost)),1),t("td",Vt,i(r.unit),1),t("td",Tt,i(r.note||"-"),1),t("td",Et,[r.note_received?(n(),o("span",Ut,i(r.note_received),1)):(n(),o("span",zt,"-"))])]))),128))])])])):m("",!0),v.value==="activities"?(n(),o("div",Ht,[!s(C)||s(C).length===0?(n(),o("div",Ot,"Belum ada aktivitas. ")):(n(),o("ul",It,[(n(!0),o(j,null,M(s(C),(r,l)=>(n(),o("li",{key:l,class:"flex gap-3 items-start"},[e[23]||(e[23]=t("div",{class:"mt-1 h-2 w-2 rounded-full bg-blue-500"},null,-1)),t("div",Jt,[t("div",Lt,i(r.title),1),t("div",$t,[t("span",null,i(r.time),1),r.created_by?(n(),o("span",Ft,"•")):m("",!0),r.created_by?(n(),o("span",Kt,i(r.created_by),1)):m("",!0)]),t("div",At,i(r.description),1)])]))),128))]))])):m("",!0)]),t("div",{class:"flex justify-center mt-4"},[t("button",{onClick:F,class:"inline-flex items-center rounded bg-gray-600 px-4 py-2 text-sm font-medium text-white hover:bg-gray-700"},[...e[24]||(e[24]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})],-1),k(" Cetak Nota ",-1)])])])]),D.value?(n(),o("div",Gt,[t("div",Wt,[t("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:w}),e[30]||(e[30]=t("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"​",-1)),t("div",Xt,[t("div",Yt,[t("div",Zt,[e[25]||(e[25]=t("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 sm:mx-0 sm:h-10 sm:w-10"},[t("svg",{class:"h-6 w-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",te,[t("h3",ee,i(s(a).status_delivered==="partial"?"Update Barang Diterima":"Konfirmasi Barang Diterima"),1),t("div",ae,[t("p",se,i(s(a).status_delivered==="partial"?"Masukkan jumlah tambahan barang yang diterima untuk setiap item:":"Masukkan jumlah barang yang diterima untuk setiap item:"),1)])])]),t("div",re,[t("div",ie,[t("table",oe,[t("thead",ne,[t("tr",null,[e[26]||(e[26]=t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Item",-1)),e[27]||(e[27]=t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Qty Dipesan",-1)),t("th",de,i(s(a).status_delivered==="partial"?"Qty Tambahan Diterima":"Qty Diterima"),1),e[28]||(e[28]=t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Satuan",-1)),e[29]||(e[29]=t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Catatan",-1))])]),t("tbody",le,[(n(!0),o(j,null,M(s(a).items,(r,l)=>(n(),o("tr",{key:r.id},[t("td",ue,[t("div",me,i(r.item_name),1),t("div",ce,i(r.item_code),1)]),t("td",ye,i(r.quantity_ordered),1),t("td",ge,[s(a).status_delivered==="partial"?(n(),o("div",pe,[t("span",xe,"Sudah diterima: "+i(r.quantity_received||0),1),t("span",be,"/ "+i(r.quantity_ordered),1)])):m("",!0),t("div",ve,[R(t("input",{"onUpdate:modelValue":u=>y.value[l]=u,type:"number",min:"0",max:s(a).status_delivered==="partial"?r.quantity_ordered-(r.quantity_received||0):r.quantity_ordered,class:p(["w-20 px-3 py-1 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",h(l)?"border-orange-300 bg-orange-50":"border-gray-300"]),placeholder:s(a).status_delivered==="partial"?"0":r.quantity_ordered},null,10,fe),[[S,y.value[l]]]),h(l)?(n(),o("span",_e," ⚠️ ")):m("",!0)]),s(a).status_delivered==="partial"?(n(),o("div",he," Sisa: "+i((r.quantity_ordered||0)-(r.quantity_received||0)),1)):m("",!0)]),t("td",ke,i(r.unit),1),t("td",we,[R(t("input",{"onUpdate:modelValue":u=>x.value[l]=u,type:"text",class:p(["w-full px-3 py-1 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",h(l)?"border-red-300 bg-red-50":"border-gray-300"]),placeholder:h(l)?"Catatan wajib diisi!":"Catatan item (opsional)"},null,10,je),[[S,x.value[l]]]),h(l)?(n(),o("div",Ce," * Wajib diisi karena jumlah tidak sesuai ")):m("",!0)])]))),128))])])])])]),t("div",De,[t("button",{onClick:G,type:"button",class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm"},i(s(a).status_delivered==="partial"?"Update Penerimaan":"Konfirmasi Diterima"),1),t("button",{onClick:w,type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Batal ")])])])])):m("",!0),q.value?(n(),o("div",qe,[t("div",Be,[t("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:B}),e[35]||(e[35]=t("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"​",-1)),t("div",Pe,[t("div",Me,[e[34]||(e[34]=Y('<div class="sm:flex sm:items-start"><div class="mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-orange-100 sm:mx-0 sm:h-10 sm:w-10"><svg class="h-6 w-6 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"></path></svg></div><div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full"><h3 class="text-lg leading-6 font-medium text-gray-900" id="payment-modal-title"> Update Pembayaran </h3><div class="mt-2"><p class="text-sm text-gray-500"> Masukkan jumlah pembayaran yang telah diterima: </p></div></div></div>',1)),t("div",Re,[t("div",Se,[t("div",null,[e[31]||(e[31]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Total Order",-1)),t("div",Ne,i(b(s(a).total)),1)]),t("div",null,[e[32]||(e[32]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Jumlah yang Sudah Dibayar",-1)),t("div",Qe,i(b(s(a).paid_amount||0)),1)]),t("div",null,[e[33]||(e[33]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Jumlah Pembayaran Tambahan *",-1)),R(t("input",{"onUpdate:modelValue":e[2]||(e[2]=r=>c.value.additional_amount=r),type:"number",min:"0",max:(s(a).total||0)-(s(a).paid_amount||0),step:"0.01",class:p(["w-full px-3 py-2 rounded border focus:ring-2 focus:ring-orange-500 focus:border-orange-500",c.value.additional_amount>(s(a).total||0)-(s(a).paid_amount||0)?"border-red-500 bg-red-50":"border-gray-300"]),placeholder:"Masukkan jumlah pembayaran tambahan",required:""},null,10,Ve),[[S,c.value.additional_amount,void 0,{number:!0}]]),c.value.additional_amount>0?(n(),o("div",{key:0,class:p(["text-xs mt-1",c.value.additional_amount>(s(a).total||0)-(s(a).paid_amount||0)?"text-red-600":"text-gray-500"])},[c.value.additional_amount>(s(a).total||0)-(s(a).paid_amount||0)?(n(),o("span",Te," Jumlah pembayaran melebihi sisa yang harus dibayar! ")):(n(),o("span",Ee," Total setelah pembayaran: "+i(b((s(a).paid_amount||0)+c.value.additional_amount)),1))],2)):m("",!0)])])])]),t("div",Ue,[t("button",{onClick:A,type:"button",disabled:!c.value.additional_amount||c.value.additional_amount<=0||c.value.additional_amount>(s(a).total||0)-(s(a).paid_amount||0),class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-orange-600 text-base font-medium text-white hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed"}," Update Pembayaran ",8,ze),t("button",{onClick:B,type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Batal ")])])])])):m("",!0)],64))}});export{Ae as default};
