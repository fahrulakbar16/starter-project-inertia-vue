import{W as Ze,X as L,Y as z,Z as y,$ as Qe,a0 as xe,a1 as ge,a2 as et,a3 as q,a4 as we,a5 as tt,a6 as Ee,a7 as st,a8 as it,a9 as at,aa as nt,ab as rt,ac as G,ad as j,ae as lt,af as te,ag as ot,ah as dt,ai as ct,aj as Me,ak as Y,al as ht,am as gt,an as ut,ao as pt,ap as Se,aq as ft,ar as Te,as as De,at as mt,au as vt,av as ue,aw as yt,ax as bt,ay as xt,az as wt,aA as Et,aB as re,aC as St,aD as Dt,aE as kt,aF as Rt,aG as Ct,aH as _e,aI as I,aJ as Mt,aK as Tt,aL as _t,aM as Pt,aN as At,aO as It,aP as V,aQ as ie,aR as pe,aS as Ht,aT as fe,aU as me,aV as jt,aW as de,aX as Pe,aY as $,aZ as Ae,a_ as Ie,a$ as Z,b0 as Q,b1 as Bt,b2 as ke,b3 as He,b4 as le,b5 as Nt,b6 as Lt,b7 as Ot,b8 as je,b9 as Ft,ba as $t,bb as Wt,bc as zt,bd as Vt,be as Ut,bf as qt,bg as Be,bh as ve,bi as Gt,bj as Yt,bk as Xt,bl as Kt,bm as Jt,bn as Zt,bo as Qt,d as H,y as T,U as ye,e as S,o as w,a as i,b as R,g as _,t as v,f as A,F as O,i as W,bp as es,z as ts,n as F,E as ss,J as is,S as Ne,D as as,c as oe,K as ns}from"./app-CJkCV51W.js";import{_ as rs}from"./AppLayout-BlEKf3Fz.js";import{c as B}from"./createLucideIcon-OML33ICF.js";import"./FlashMessage-D4C-FUm8.js";import"./LayoutShell-FWpWJLvi.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useAuth-DvuTgkfF.js";import"./LayoutShell.vue_vue_type_style_index_0_lang-CRqqKi3W.js";/**
 * @license lucide-vue-next v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=B("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-vue-next v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=B("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-vue-next v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=B("clipboard-list",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-vue-next v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=B("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-vue-next v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=B("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-vue-next v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=B("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-vue-next v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=B("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);/**
 * @license lucide-vue-next v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=B("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);/**
 * @license lucide-vue-next v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=B("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);class us extends q{constructor(){super(...arguments),this.headerElRef=z()}renderSimpleLayout(e,t){let{props:s,context:a}=this,l=[],r=we(a.options);return e&&l.push({type:"header",key:"header",isSticky:r,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),l.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),y(Ee,{elClasses:["fc-daygrid"],viewSpec:a.viewSpec},y(tt,{liquid:!s.isHeightAuto&&!s.forPrint,collapsibleWidth:s.forPrint,cols:[],sections:l}))}renderHScrollLayout(e,t,s,a){let l=this.context.pluginHooks.scrollGridImpl;if(!l)throw new Error("No ScrollGrid implementation");let{props:r,context:o}=this,c=!r.forPrint&&we(o.options),g=!r.forPrint&&st(o.options),p=[];return e&&p.push({type:"header",key:"header",isSticky:c,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),p.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),g&&p.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:it}]}),y(Ee,{elClasses:["fc-daygrid"],viewSpec:o.viewSpec},y(l,{liquid:!r.isHeightAuto&&!r.forPrint,forPrint:r.forPrint,collapsibleWidth:r.forPrint,colGroups:[{cols:[{span:s,minWidth:a}]}],sections:p}))}}function ee(n,e){let t=[];for(let s=0;s<e;s+=1)t[s]=[];for(let s of n)t[s.row].push(s);return t}function J(n,e){let t=[];for(let s=0;s<e;s+=1)t[s]=[];for(let s of n)t[s.firstCol].push(s);return t}function Re(n,e){let t=[];if(n){for(let s=0;s<e;s+=1)t[s]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(let s of n.segs)t[s.row].segs.push(s)}else for(let s=0;s<e;s+=1)t[s]=null;return t}const Fe=Te({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function $e(n){let{display:e}=n.eventRange.ui;return e==="list-item"||e==="auto"&&!n.eventRange.def.allDay&&n.firstCol===n.lastCol&&n.isStart&&n.isEnd}class We extends ue{render(){let{props:e}=this;return y(wt,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:Fe,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class ze extends ue{render(){let{props:e,context:t}=this,{options:s}=t,{seg:a}=e,l=s.eventTimeFormat||Fe,r=yt(a,l,t,!0,e.defaultDisplayEventEnd);return y(xt,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:bt(e.seg,t),defaultGenerator:ps,timeText:r,isResizing:!1,isDateSelecting:!1}))}}function ps(n){return y(j,null,y("div",{className:"fc-daygrid-event-dot",style:{borderColor:n.borderColor||n.backgroundColor}}),n.timeText&&y("div",{className:"fc-event-time"},n.timeText),y("div",{className:"fc-event-title"},n.event.title||y(j,null," ")))}class fs extends ue{constructor(){super(...arguments),this.compileSegs=L(ms)}render(){let{props:e}=this,{allSegs:t,invisibleSegs:s}=this.compileSegs(e.singlePlacements);return y(Rt,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:t,hiddenSegs:s,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let a=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return y(j,null,t.map(l=>{let r=l.eventRange.instance.instanceId;return y("div",{className:"fc-daygrid-event-harness",key:r,style:{visibility:a[r]?"hidden":""}},$e(l)?y(ze,Object.assign({seg:l,isDragging:!1,isSelected:r===e.eventSelection,defaultDisplayEventEnd:!1},Y(l,e.todayRange))):y(We,Object.assign({seg:l,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:r===e.eventSelection,defaultDisplayEventEnd:!1},Y(l,e.todayRange))))}))}})}}function ms(n){let e=[],t=[];for(let s of n)e.push(s.seg),s.isVisible||t.push(s.seg);return{allSegs:e,invisibleSegs:t}}const vs=Te({week:"narrow"});class ys extends q{constructor(){super(...arguments),this.rootElRef=z(),this.state={dayNumberId:pt()},this.handleRootEl=e=>{Se(this.rootElRef,e),Se(this.props.elRef,e)}}render(){let{context:e,props:t,state:s,rootElRef:a}=this,{options:l,dateEnv:r}=e,{date:o,dateProfile:c}=t;const g=t.showDayNumber&&xs(o,c.currentRange,r);return y(vt,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":s.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:bs,date:o,dateProfile:c,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:g,extraRenderProps:t.extraRenderProps},(p,h)=>y("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&y(ft,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:De(e,o,"week"),date:o,defaultFormat:vs}),!h.isDisabled&&(t.showDayNumber||mt(l)||t.forceDayTop)?y("div",{className:"fc-daygrid-day-top"},y(p,{elTag:"a",elClasses:["fc-daygrid-day-number",g&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},De(e,o)),{id:s.dayNumberId})})):t.showDayNumber?y("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},y("a",{className:"fc-daygrid-day-number"}," ")):void 0,y("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,y("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},y(fs,{allDayDate:o,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:a,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),y("div",{className:"fc-daygrid-day-bg"},t.bgContent)))}}function bs(n){return n.dayNumberText||y(j,null," ")}function xs(n,e,t){const{start:s,end:a}=e,l=kt(a,-1),r=t.getYear(s),o=t.getMonth(s),c=t.getYear(l),g=t.getMonth(l);return!(r===c&&o===g)&&(n.valueOf()===s.valueOf()||t.getDay(n)===1&&n.valueOf()<a.valueOf())}function Ve(n){return n.eventRange.instance.instanceId+":"+n.firstCol}function Ue(n){return Ve(n)+":"+n.lastCol}function ws(n,e,t,s,a,l,r){let o=new Ds(x=>{let D=n[x.index].eventRange.instance.instanceId+":"+x.span.start+":"+(x.span.end-1);return a[D]||1});o.allowReslicing=!0,o.strictOrder=s,e===!0||t===!0?(o.maxCoord=l,o.hiddenConsumes=!0):typeof e=="number"?o.maxStackCnt=e:typeof t=="number"&&(o.maxStackCnt=t,o.hiddenConsumes=!0);let c=[],g=[];for(let x=0;x<n.length;x+=1){let D=n[x],C=Ue(D);a[C]!=null?c.push({index:x,span:{start:D.firstCol,end:D.lastCol+1}}):g.push(D)}let p=o.addSegs(c),h=o.toRects(),{singleColPlacements:d,multiColPlacements:u,leftoverMargins:m}=Es(h,n,r),f=[],b=[];for(let x of g){u[x.firstCol].push({seg:x,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let D=x.firstCol;D<=x.lastCol;D+=1)d[D].push({seg:U(x,D,D+1,r),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let x=0;x<r.length;x+=1)f.push(0);for(let x of p){let D=n[x.index],C=x.span;u[C.start].push({seg:U(D,C.start,C.end,r),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let M=C.start;M<C.end;M+=1)f[M]+=1,d[M].push({seg:U(D,M,M+1,r),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let x=0;x<r.length;x+=1)b.push(m[x]);return{singleColPlacements:d,multiColPlacements:u,moreCnts:f,moreMarginTops:b}}function Es(n,e,t){let s=Ss(n,t.length),a=[],l=[],r=[];for(let o=0;o<t.length;o+=1){let c=s[o],g=[],p=0,h=0;for(let u of c){let m=e[u.index];g.push({seg:U(m,o,o+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:u.levelCoord,marginTop:u.levelCoord-p}),p=u.levelCoord+u.thickness}let d=[];p=0,h=0;for(let u of c){let m=e[u.index],f=u.span.end-u.span.start>1,b=u.span.start===o;h+=u.levelCoord-p,p=u.levelCoord+u.thickness,f?(h+=u.thickness,b&&d.push({seg:U(m,u.span.start,u.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:u.levelCoord,marginTop:0})):b&&(d.push({seg:U(m,u.span.start,u.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:u.levelCoord,marginTop:h}),h=0)}a.push(g),l.push(d),r.push(h)}return{singleColPlacements:a,multiColPlacements:l,leftoverMargins:r}}function Ss(n,e){let t=[];for(let s=0;s<e;s+=1)t.push([]);for(let s of n)for(let a=s.span.start;a<s.span.end;a+=1)t[a].push(s);return t}function U(n,e,t,s){if(n.firstCol===e&&n.lastCol===t-1)return n;let a=n.eventRange,l=a.range,r=Dt(l,{start:s[e].date,end:ge(s[t-1].date,1)});return Object.assign(Object.assign({},n),{firstCol:e,lastCol:t-1,eventRange:{def:a.def,ui:Object.assign(Object.assign({},a.ui),{durationEditable:!1}),instance:a.instance,range:r},isStart:n.isStart&&r.start.valueOf()===l.start.valueOf(),isEnd:n.isEnd&&r.end.valueOf()===l.end.valueOf()})}class Ds extends Et{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const t=super.addSegs(e),{entriesByLevel:s}=this,a=l=>!this.forceHidden[re(l)];for(let l=0;l<s.length;l+=1)s[l]=s[l].filter(a);return t}handleInvalidInsertion(e,t,s){const{entriesByLevel:a,forceHidden:l}=this,{touchingEntry:r,touchingLevel:o,touchingLateral:c}=e;if(this.hiddenConsumes&&r){const g=re(r);if(!l[g])if(this.allowReslicing){const p=Object.assign(Object.assign({},r),{span:St(r.span,t.span)}),h=re(p);l[h]=!0,a[o][c]=p,s.push(p),this.splitEntry(r,t,s)}else l[g]=!0,s.push(r)}super.handleInvalidInsertion(e,t,s)}}class qe extends q{constructor(){super(...arguments),this.cellElRefs=new G,this.frameElRefs=new G,this.fgElRefs=new G,this.segHarnessRefs=new G,this.rootElRef=z(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:t,context:s}=this,{options:a}=s,l=e.cells.length,r=J(e.businessHourSegs,l),o=J(e.bgEventSegs,l),c=J(this.getHighlightSegs(),l),g=J(this.getMirrorSegs(),l),{singleColPlacements:p,multiColPlacements:h,moreCnts:d,moreMarginTops:u}=ws(ct(e.fgEventSegs,a.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,a.eventOrderStrict,t.segHeights,t.maxContentHeight,e.cells),m=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return y("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((f,b)=>{let x=this.renderFgSegs(b,e.forPrint?p[b]:h[b],e.todayRange,m),D=this.renderFgSegs(b,ks(g[b],h),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return y(ys,{key:f.key,elRef:this.cellElRefs.createRef(f.key),innerElRef:this.frameElRefs.createRef(f.key),dateProfile:e.dateProfile,date:f.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&b===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:f.extraRenderProps,extraDataAttrs:f.extraDataAttrs,extraClassNames:f.extraClassNames,extraDateSpan:f.extraDateSpan,moreCnt:d[b],moreMarginTop:u[b],singlePlacements:p[b],fgContentElRef:this.fgElRefs.createRef(f.key),fgContent:y(j,null,y(j,null,x),y(j,null,D)),bgContent:y(j,null,this.renderFillSegs(c[b],"highlight"),this.renderFillSegs(r[b],"non-business"),this.renderFillSegs(o[b],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){let s=this.props;this.updateSizing(!Me(e,s))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,t,s,a,l,r,o){let{context:c}=this,{eventSelection:g}=this.props,{framePositions:p}=this.state,h=this.props.cells.length===1,d=l||r||o,u=[];if(p)for(let m of t){let{seg:f}=m,{instanceId:b}=f.eventRange.instance,x=m.isVisible&&!a[b],D=m.isAbsolute,C="",M="";D&&(c.isRtl?(M=0,C=p.lefts[f.lastCol]-p.lefts[f.firstCol]):(C=0,M=p.rights[f.firstCol]-p.rights[f.lastCol])),u.push(y("div",{className:"fc-daygrid-event-harness"+(D?" fc-daygrid-event-harness-abs":""),key:Ve(f),ref:d?null:this.segHarnessRefs.createRef(Ue(f)),style:{visibility:x?"":"hidden",marginTop:D?"":m.marginTop,top:D?m.absoluteTop:"",left:C,right:M}},$e(f)?y(ze,Object.assign({seg:f,isDragging:l,isSelected:b===g,defaultDisplayEventEnd:h},Y(f,s))):y(We,Object.assign({seg:f,isDragging:l,isResizing:r,isDateSelecting:o,isSelected:b===g,defaultDisplayEventEnd:h},Y(f,s)))))}return u}renderFillSegs(e,t){let{isRtl:s}=this.context,{todayRange:a}=this.props,{framePositions:l}=this.state,r=[];if(l)for(let o of e){let c=s?{right:0,left:l.lefts[o.lastCol]-l.lefts[o.firstCol]}:{left:0,right:l.rights[o.firstCol]-l.rights[o.lastCol]};r.push(y("div",{key:ut(o.eventRange),className:"fc-daygrid-bg-harness",style:c},t==="bg-event"?y(gt,Object.assign({seg:o},Y(o,a))):ht(t)))}return y(j,{},...r)}updateSizing(e){let{props:t,state:s,frameElRefs:a}=this;if(!t.forPrint&&t.clientWidth!==null){if(e){let c=t.cells.map(g=>a.currentMap[g.key]);if(c.length){let g=this.rootElRef.current,p=new te(g,c,!0,!1);(!s.framePositions||!s.framePositions.similarTo(p))&&this.setState({framePositions:new te(g,c,!0,!1)})}}const l=this.state.segHeights,r=this.querySegHeights(),o=t.dayMaxEvents===!0||t.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},l),r),maxContentHeight:o?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,t={};for(let s in e){let a=Math.round(e[s].getBoundingClientRect().height);t[s]=Math.max(t[s]||0,a)}return t}computeMaxContentHeight(){let e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],s=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-s.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(t=>e[t.key])}}qe.addStateEquality({segHeights:Me});function ks(n,e){if(!n.length)return[];let t=Rs(e);return n.map(s=>({seg:s,isVisible:!0,isAbsolute:!0,absoluteTop:t[s.eventRange.instance.instanceId],marginTop:0}))}function Rs(n){let e={};for(let t of n)for(let s of t)e[s.seg.eventRange.instance.instanceId]=s.absoluteTop;return e}class Cs extends q{constructor(){super(...arguments),this.splitBusinessHourSegs=L(ee),this.splitBgEventSegs=L(Ms),this.splitFgEventSegs=L(ee),this.splitDateSelectionSegs=L(ee),this.splitEventDrag=L(Re),this.splitEventResize=L(Re),this.rowRefs=new G}render(){let{props:e,context:t}=this,s=e.cells.length,a=this.splitBusinessHourSegs(e.businessHourSegs,s),l=this.splitBgEventSegs(e.bgEventSegs,s),r=this.splitFgEventSegs(e.fgEventSegs,s),o=this.splitDateSelectionSegs(e.dateSelectionSegs,s),c=this.splitEventDrag(e.eventDrag,s),g=this.splitEventResize(e.eventResize,s),p=s>=7&&e.clientWidth?e.clientWidth/t.options.aspectRatio/6:null;return y(lt,{unit:"day"},(h,d)=>y(j,null,e.cells.map((u,m)=>y(qe,{ref:this.rowRefs.createRef(m),key:u.length?u[0].date.toISOString():m,showDayNumbers:s>1,showWeekNumbers:e.showWeekNumbers,todayRange:d,dateProfile:e.dateProfile,cells:u,renderIntro:e.renderRowIntro,businessHourSegs:a[m],eventSelection:e.eventSelection,bgEventSegs:l[m],fgEventSegs:r[m],dateSelectionSegs:o[m],eventDrag:c[m],eventResize:g[m],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:p,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],t=e?e.closest(".fc-daygrid-body"):null;t&&(this.rootEl=t,this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new te(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new te(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,t){let{colPositions:s,rowPositions:a}=this,l=s.leftToIndex(e),r=a.topToIndex(t);if(r!=null&&l!=null){let o=this.props.cells[r][l];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(r,l),allDay:!0},o.extraDateSpan),dayEl:this.getCellEl(r,l),rect:{left:s.lefts[l],right:s.rights[l],top:a.tops[r],bottom:a.bottoms[r]},layer:0}}return null}getCellEl(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]}getCellRange(e,t){let s=this.props.cells[e][t].date,a=ge(s,1);return{start:s,end:a}}}function Ms(n,e){return ee(n.filter(Ts),e)}function Ts(n){return n.eventRange.def.allDay}class _s extends q{constructor(){super(...arguments),this.elRef=z(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:t,dayMaxEvents:s,expandRows:a}=e,l=s===!0||t===!0;l&&!a&&(l=!1,t=null,s=null);let r=["fc-daygrid-body",l?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",a?"":"fc-daygrid-body-natural"];return y("div",{ref:this.elRef,className:r.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},y("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:a?e.clientHeight:""}},e.colGroupNode,y("tbody",{role:"presentation"},y(Cs,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:s,dayMaxEventRows:t,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=Ps(this.elRef.current,this.props.dateProfile);if(e){const t=e.closest(".fc-daygrid-body"),s=t.closest(".fc-scroller"),a=e.getBoundingClientRect().top-t.getBoundingClientRect().top;s.scrollTop=a?a+1:0}this.needsScrollReset=!1}}}function Ps(n,e){let t;return e.currentRangeUnit.match(/year|month/)&&(t=n.querySelector(`[data-date="${ot(e.currentDate)}-01"]`)),t||(t=n.querySelector(`[data-date="${dt(e.currentDate)}"]`)),t}class As extends rt{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}}class Is extends q{constructor(){super(...arguments),this.slicer=new As,this.tableRef=z()}render(){let{props:e,context:t}=this;return y(_s,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class Hs extends us{constructor(){super(...arguments),this.buildDayTableModel=L(js),this.headerRef=z(),this.tableRef=z()}render(){let{options:e,dateProfileGenerator:t}=this.context,{props:s}=this,a=this.buildDayTableModel(s.dateProfile,t),l=e.dayHeaders&&y(Qe,{ref:this.headerRef,dateProfile:s.dateProfile,dates:a.headerDates,datesRepDistinctDays:a.rowCnt===1}),r=o=>y(Is,{ref:this.tableRef,dateProfile:s.dateProfile,dayTableModel:a,businessHours:s.businessHours,dateSelection:s.dateSelection,eventStore:s.eventStore,eventUiBases:s.eventUiBases,eventSelection:s.eventSelection,eventDrag:s.eventDrag,eventResize:s.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:o.tableColGroupNode,tableMinWidth:o.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!s.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:o.clientWidth,clientHeight:o.clientHeight,forPrint:s.forPrint});return e.dayMinWidth?this.renderHScrollLayout(l,r,a.colCnt,e.dayMinWidth):this.renderSimpleLayout(l,r)}}function js(n,e){let t=new at(n.renderRange,e);return new nt(t,/year|month|week/.test(n.currentRangeUnit))}class Bs extends Ze{buildRenderRange(e,t,s){let a=super.buildRenderRange(e,t,s),{props:l}=this;return Ns({currentRange:a,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:l.fixedWeekCount,dateEnv:l.dateEnv})}}function Ns(n){let{dateEnv:e,currentRange:t}=n,{start:s,end:a}=t,l;if(n.snapToWeek&&(s=e.startOfWeek(s),l=e.startOfWeek(a),l.valueOf()!==a.valueOf()&&(a=xe(l,1))),n.fixedWeekCount){let r=e.startOfWeek(e.startOfMonth(ge(t.end,-1))),o=Math.ceil(et(r,a));a=xe(a,6-o)}return{start:s,end:a}}var Ls=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';Ct(Ls);var Os=_e({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:Hs,dateProfileGeneratorClass:Bs},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});ve.touchMouseIgnoreWait=500;let ce=0,se=0,he=!1;class Ge{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=t=>{if(!this.shouldIgnoreMouse()&&Fs(t)&&this.tryStart(t)){let s=this.createEventFromMouse(t,!0);this.emitter.trigger("pointerdown",s),this.initScrollWatch(s),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=t=>{let s=this.createEventFromMouse(t);this.recordCoords(s),this.emitter.trigger("pointermove",s)},this.handleMouseUp=t=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(t)),this.cleanup()},this.handleTouchStart=t=>{if(this.tryStart(t)){this.isTouchDragging=!0;let s=this.createEventFromTouch(t,!0);this.emitter.trigger("pointerdown",s),this.initScrollWatch(s);let a=t.target;this.shouldIgnoreMove||a.addEventListener("touchmove",this.handleTouchMove),a.addEventListener("touchend",this.handleTouchEnd),a.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=t=>{let s=this.createEventFromTouch(t);this.recordCoords(s),this.emitter.trigger("pointermove",s)},this.handleTouchEnd=t=>{if(this.isDragging){let s=t.target;s.removeEventListener("touchmove",this.handleTouchMove),s.removeEventListener("touchend",this.handleTouchEnd),s.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(t)),this.cleanup(),this.isTouchDragging=!1,$s()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=t=>{if(!this.shouldIgnoreMove){let s=window.scrollX-this.prevScrollX+this.prevPageX,a=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:t,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:s,pageY:a,deltaX:s-this.origPageX,deltaY:a-this.origPageY})}},this.containerEl=e,this.emitter=new He,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),Ws()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),zs()}tryStart(e){let t=this.querySubjectEl(e),s=e.target;return t&&(!this.handleSelector||V(s,this.handleSelector))?(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){he=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?V(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return ce||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(he=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,t){let s=0,a=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(s=e.pageX-this.origPageX,a=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:s,deltaY:a}}createEventFromTouch(e,t){let s=e.touches,a,l,r=0,o=0;return s&&s.length?(a=s[0].pageX,l=s[0].pageY):(a=e.pageX,l=e.pageY),t?(this.origPageX=a,this.origPageY=l):(r=a-this.origPageX,o=l-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:a,pageY:l,deltaX:r,deltaY:o}}}function Fs(n){return n.button===0&&!n.ctrlKey}function $s(){ce+=1,setTimeout(()=>{ce-=1},ve.touchMouseIgnoreWait)}function Ws(){se+=1,se===1&&window.addEventListener("touchmove",Ye,{passive:!1})}function zs(){se-=1,se||window.removeEventListener("touchmove",Ye,{passive:!1})}function Ye(n){he&&n.preventDefault()}class Vs{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,t,s){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.scrollX,this.origScreenY=s-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,t){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=t-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,t){let s=()=>{this.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(s,this.revertDuration):setTimeout(s,0)}doRevertAnimation(e,t){let s=this.mirrorEl,a=this.sourceEl.getBoundingClientRect();s.style.transition="top "+t+"ms,left "+t+"ms",le(s,{left:a.left,top:a.top}),Nt(s,()=>{s.style.transition="",e()})}cleanup(){this.mirrorEl&&(Lt(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&le(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.pointerEvents="none",t.classList.add("fc-event-dragging"),le(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}}class Xe extends Zt{constructor(e,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=t,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class Ke extends Xe{constructor(e,t){super(new Yt(e),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return Xt(this.scrollController.el)}}class Us extends Xe{constructor(e){super(new Gt,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const Ce=typeof performance=="function"?performance.now:Date.now;class qs{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let t=Ce();this.handleSide(e,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(e,t,s){this.isEnabled&&(this.scrollCaches=this.buildCaches(s),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))}handleMove(e,t){if(this.isEnabled){let s=e-window.scrollX,a=t-window.scrollY,l=this.pointerScreenY===null?0:a-this.pointerScreenY,r=this.pointerScreenX===null?0:s-this.pointerScreenX;l<0?this.everMovedUp=!0:l>0&&(this.everMovedDown=!0),r<0?this.everMovedLeft=!0:r>0&&(this.everMovedRight=!0),this.pointerScreenX=s,this.pointerScreenY=a,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(Ce()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,t){let{scrollCache:s}=e,{edgeThreshold:a}=this,l=a-e.distance,r=l*l/(a*a)*this.maxVelocity*t,o=1;switch(e.name){case"left":o=-1;case"right":s.setScrollLeft(s.getScrollLeft()+r*o);break;case"top":o=-1;case"bottom":s.setScrollTop(s.getScrollTop()+r*o);break}}computeBestEdge(e,t){let{edgeThreshold:s}=this,a=null,l=this.scrollCaches||[];for(let r of l){let o=r.clientRect,c=e-o.left,g=o.right-e,p=t-o.top,h=o.bottom-t;c>=0&&g>=0&&p>=0&&h>=0&&(p<=s&&this.everMovedUp&&r.canScrollUp()&&(!a||a.distance>p)&&(a={scrollCache:r,name:"top",distance:p}),h<=s&&this.everMovedDown&&r.canScrollDown()&&(!a||a.distance>h)&&(a={scrollCache:r,name:"bottom",distance:h}),c<=s&&this.everMovedLeft&&r.canScrollLeft()&&(!a||a.distance>c)&&(a={scrollCache:r,name:"left",distance:c}),g<=s&&this.everMovedRight&&r.canScrollRight()&&(!a||a.distance>g)&&(a={scrollCache:r,name:"right",distance:g}))}return a}buildCaches(e){return this.queryScrollEls(e).map(t=>t===window?new Us(!1):new Ke(t,!1))}queryScrollEls(e){let t=[];for(let s of this.scrollQuery)typeof s=="object"?t.push(s):t.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(s)));return t}}class X extends Mt{constructor(e,t){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=a=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,Tt(document.body),_t(document.body),a.isTouch||a.origEvent.preventDefault(),this.emitter.trigger("pointerdown",a),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(a.subjectEl,a.pageX,a.pageY),this.startDelay(a),this.minDistance||this.handleDistanceSurpassed(a)))},this.onPointerMove=a=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",a),!this.isDistanceSurpassed){let l=this.minDistance,r,{deltaX:o,deltaY:c}=a;r=o*o+c*c,r>=l*l&&this.handleDistanceSurpassed(a)}this.isDragging&&(a.origEvent.type!=="scroll"&&(this.mirror.handleMove(a.pageX,a.pageY),this.autoScroller.handleMove(a.pageX,a.pageY)),this.emitter.trigger("dragmove",a))}},this.onPointerUp=a=>{this.isInteracting&&(this.isInteracting=!1,Pt(document.body),At(document.body),this.emitter.trigger("pointerup",a),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(a)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let s=this.pointer=new Ge(e);s.emitter.on("pointerdown",this.onPointerDown),s.emitter.on("pointermove",this.onPointerMove),s.emitter.on("pointerup",this.onPointerUp),t&&(s.selector=t),this.mirror=new Vs,this.autoScroller=new qs}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class Gs{constructor(e){this.el=e,this.origRect=je(e),this.scrollCaches=Kt(e).map(t=>new Ke(t,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let t of this.scrollCaches)e+=t.origScrollLeft-t.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let t of this.scrollCaches)e+=t.origScrollTop-t.getScrollTop();return e}isWithinClipping(e,t){let s={left:e,top:t};for(let a of this.scrollCaches)if(!Ys(a.getEventTarget())&&!Jt(s,a.clientRect))return!1;return!0}}function Ys(n){let e=n.tagName;return e==="HTML"||e==="BODY"}class ae{constructor(e,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=s=>{let{dragging:a}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(s),this.initialHit||!this.requireInitial?(a.setIgnoreMove(!1),this.emitter.trigger("pointerdown",s)):a.setIgnoreMove(!0)},this.handleDragStart=s=>{this.emitter.trigger("dragstart",s),this.handleMove(s,!0)},this.handleDragMove=s=>{this.emitter.trigger("dragmove",s),this.handleMove(s)},this.handlePointerUp=s=>{this.releaseHits(),this.emitter.trigger("pointerup",s)},this.handleDragEnd=s=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,s),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",s)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new He}processFirstCoord(e){let t={left:e.pageX,top:e.pageY},s=t,a=e.subjectEl,l;a instanceof HTMLElement&&(l=je(a),s=Ft(s,l));let r=this.initialHit=this.queryHitForOffset(s.left,s.top);if(r){if(this.useSubjectCenter&&l){let o=$t(l,r.rect);o&&(s=Wt(o))}this.coordAdjust=zt(s,t)}else this.coordAdjust={left:0,top:0}}handleMove(e,t){let s=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(t||!ne(this.movingHit,s))&&(this.movingHit=s,this.emitter.trigger("hitupdate",s,!1,e))}prepareHits(){this.offsetTrackers=Vt(this.droppableStore,e=>(e.component.prepareHits(),new Gs(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let t in e)e[t].destroy();this.offsetTrackers={}}queryHitForOffset(e,t){let{droppableStore:s,offsetTrackers:a}=this,l=null;for(let r in s){let o=s[r].component,c=a[r];if(c&&c.isWithinClipping(e,t)){let g=c.computeLeft(),p=c.computeTop(),h=e-g,d=t-p,{origRect:u}=c,m=u.right-u.left,f=u.bottom-u.top;if(h>=0&&h<m&&d>=0&&d<f){let b=o.queryHit(h,d,m,f);b&&Ut(b.dateProfile.activeRange,b.dateSpan.range)&&(this.disablePointCheck||c.el.contains(c.el.getRootNode().elementFromPoint(h+g-window.scrollX,d+p-window.scrollY)))&&(!l||b.layer>l.layer)&&(b.componentId=r,b.context=o.context,b.rect.left+=g,b.rect.right+=g,b.rect.top+=p,b.rect.bottom+=p,l=b)}}}return l}}function ne(n,e){return!n&&!e?!0:!!n!=!!e?!1:Ot(n.dateSpan,e.dateSpan)}function Je(n,e){let t={};for(let s of e.pluginHooks.datePointTransforms)Object.assign(t,s(n,e));return Object.assign(t,Xs(n,e.dateEnv)),t}function Xs(n,e){return{date:e.toDate(n.range.start),dateStr:e.formatIso(n.range.start,{omitTime:n.allDay}),allDay:n.allDay}}class Ks extends ie{constructor(e){super(e),this.handlePointerDown=s=>{let{dragging:a}=this,l=s.origEvent.target;a.setIgnoreMove(!this.component.isValidDateDownEl(l))},this.handleDragEnd=s=>{let{component:a}=this,{pointer:l}=this.dragging;if(!l.wasTouchScroll){let{initialHit:r,finalHit:o}=this.hitDragging;if(r&&o&&ne(r,o)){let{context:c}=a,g=Object.assign(Object.assign({},Je(r.dateSpan,c)),{dayEl:r.dayEl,jsEvent:s.origEvent,view:c.viewApi||c.calendarApi.view});c.emitter.trigger("dateClick",g)}}},this.dragging=new X(e.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new ae(this.dragging,pe(e));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class Js extends ie{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=r=>{let{component:o,dragging:c}=this,{options:g}=o.context,p=g.selectable&&o.isValidDateDownEl(r.origEvent.target);c.setIgnoreMove(!p),c.delay=r.isTouch?Zs(o):null},this.handleDragStart=r=>{this.component.context.calendarApi.unselect(r)},this.handleHitUpdate=(r,o)=>{let{context:c}=this.component,g=null,p=!1;if(r){let h=this.hitDragging.initialHit;r.componentId===h.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(h,r)||(g=Qs(h,r,c.pluginHooks.dateSelectionTransformers)),(!g||!Ht(g,r.dateProfile,c))&&(p=!0,g=null)}g?c.dispatch({type:"SELECT_DATES",selection:g}):o||c.dispatch({type:"UNSELECT_DATES"}),p?me():fe(),o||(this.dragSelection=g)},this.handlePointerUp=r=>{this.dragSelection&&(jt(this.dragSelection,r,this.component.context),this.dragSelection=null)};let{component:t}=e,{options:s}=t.context,a=this.dragging=new X(e.el);a.touchScrollAllowed=!1,a.minDistance=s.selectMinDistance||0,a.autoScroller.isEnabled=s.dragScroll;let l=this.hitDragging=new ae(this.dragging,pe(e));l.emitter.on("pointerdown",this.handlePointerDown),l.emitter.on("dragstart",this.handleDragStart),l.emitter.on("hitupdate",this.handleHitUpdate),l.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function Zs(n){let{options:e}=n.context,t=e.selectLongPressDelay;return t==null&&(t=e.longPressDelay),t}function Qs(n,e,t){let s=n.dateSpan,a=e.dateSpan,l=[s.range.start,s.range.end,a.range.start,a.range.end];l.sort(Qt);let r={};for(let o of t){let c=o(n,e);if(c===!1)return null;c&&Object.assign(r,c)}return r.range={start:l[0],end:l[3]},r.allDay=s.allDay,r}class K extends ie{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=r=>{let o=r.origEvent.target,{component:c,dragging:g}=this,{mirror:p}=g,{options:h}=c.context,d=c.context;this.subjectEl=r.subjectEl;let u=this.subjectSeg=de(r.subjectEl),f=(this.eventRange=u.eventRange).instance.instanceId;this.relevantEvents=Pe(d.getCurrentData().eventStore,f),g.minDistance=r.isTouch?0:h.eventDragMinDistance,g.delay=r.isTouch&&f!==c.props.eventSelection?ti(c):null,h.fixedMirrorParent?p.parentNode=h.fixedMirrorParent:p.parentNode=V(o,".fc"),p.revertDuration=h.dragRevertDuration;let b=c.isValidSegDownEl(o)&&!V(o,".fc-event-resizer");g.setIgnoreMove(!b),this.isDragging=b&&r.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=r=>{let o=this.component.context,c=this.eventRange,g=c.instance.instanceId;r.isTouch?g!==this.component.props.eventSelection&&o.dispatch({type:"SELECT_EVENT",eventInstanceId:g}):o.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(o.calendarApi.unselect(r),o.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new $(o,c.def,c.instance),jsEvent:r.origEvent,view:o.viewApi}))},this.handleHitUpdate=(r,o)=>{if(!this.isDragging)return;let c=this.relevantEvents,g=this.hitDragging.initialHit,p=this.component.context,h=null,d=null,u=null,m=!1,f={affectedEvents:c,mutatedEvents:Z(),isEvent:!0};if(r){h=r.context;let b=h.options;p===h||b.editable&&b.droppable?(d=ei(g,r,this.eventRange.instance.range.start,h.getCurrentData().pluginHooks.eventDragMutationMassagers),d&&(u=Ae(c,h.getCurrentData().eventUiBases,d,h),f.mutatedEvents=u,Ie(f,r.dateProfile,h)||(m=!0,d=null,u=null,f.mutatedEvents=Z()))):h=null}this.displayDrag(h,f),m?me():fe(),o||(p===h&&ne(g,r)&&(d=null),this.dragging.setMirrorNeedsRevert(!d),this.dragging.setMirrorIsVisible(!r||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=h,this.validMutation=d,this.mutatedRelevantEvents=u)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=r=>{if(this.isDragging){let o=this.component.context,c=o.viewApi,{receivingContext:g,validMutation:p}=this,h=this.eventRange.def,d=this.eventRange.instance,u=new $(o,h,d),m=this.relevantEvents,f=this.mutatedRelevantEvents,{finalHit:b}=this.hitDragging;if(this.clearDrag(),o.emitter.trigger("eventDragStop",{el:this.subjectEl,event:u,jsEvent:r.origEvent,view:c}),p){if(g===o){let x=new $(o,f.defs[h.defId],d?f.instances[d.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:f});let D={oldEvent:u,event:x,relatedEvents:Q(f,o,d),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:m})}},C={};for(let M of o.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(C,M(p,o));o.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},D),C),{el:r.subjectEl,delta:p.datesDelta,jsEvent:r.origEvent,view:c})),o.emitter.trigger("eventChange",D)}else if(g){let x={event:u,relatedEvents:Q(m,o,d),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:m})}};o.emitter.trigger("eventLeave",Object.assign(Object.assign({},x),{draggedEl:r.subjectEl,view:c})),o.dispatch({type:"REMOVE_EVENTS",eventStore:m}),o.emitter.trigger("eventRemove",x);let D=f.defs[h.defId],C=f.instances[d.instanceId],M=new $(g,D,C);g.dispatch({type:"MERGE_EVENTS",eventStore:f});let P={event:M,relatedEvents:Q(f,g,C),revert(){g.dispatch({type:"REMOVE_EVENTS",eventStore:f})}};g.emitter.trigger("eventAdd",P),r.isTouch&&g.dispatch({type:"SELECT_EVENT",eventInstanceId:d.instanceId}),g.emitter.trigger("drop",Object.assign(Object.assign({},Je(b.dateSpan,g)),{draggedEl:r.subjectEl,jsEvent:r.origEvent,view:b.context.viewApi})),g.emitter.trigger("eventReceive",Object.assign(Object.assign({},P),{draggedEl:r.subjectEl,view:b.context.viewApi}))}}else o.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:t}=this,{options:s}=t.context,a=this.dragging=new X(e.el);a.pointer.selector=K.SELECTOR,a.touchScrollAllowed=!1,a.autoScroller.isEnabled=s.dragScroll;let l=this.hitDragging=new ae(this.dragging,Bt);l.useSubjectCenter=e.useEventCenter,l.emitter.on("pointerdown",this.handlePointerDown),l.emitter.on("dragstart",this.handleDragStart),l.emitter.on("hitupdate",this.handleHitUpdate),l.emitter.on("pointerup",this.handlePointerUp),l.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,t){let s=this.component.context,a=this.receivingContext;a&&a!==e&&(a===s?a.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:t.affectedEvents,mutatedEvents:Z(),isEvent:!0}}):a.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})}clearDrag(){let e=this.component.context,{receivingContext:t}=this;t&&t.dispatch({type:"UNSET_EVENT_DRAG"}),e!==t&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}K.SELECTOR=".fc-event-draggable, .fc-event-resizable";function ei(n,e,t,s){let a=n.dateSpan,l=e.dateSpan,r=a.range.start,o=l.range.start,c={};a.allDay!==l.allDay&&(c.allDay=l.allDay,c.hasEnd=e.context.options.allDayMaintainDuration,l.allDay?r=qt(t):r=t);let g=Be(r,o,n.context.dateEnv,n.componentId===e.componentId?n.largeUnit:null);g.milliseconds&&(c.allDay=!1);let p={datesDelta:g,standardProps:c};for(let h of s)h(p,n,e);return p}function ti(n){let{options:e}=n.context,t=e.eventLongPressDelay;return t==null&&(t=e.longPressDelay),t}class si extends ie{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=l=>{let{component:r}=this,o=this.querySegEl(l),c=de(o),g=this.eventRange=c.eventRange;this.dragging.minDistance=r.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(l.origEvent.target)||l.isTouch&&this.component.props.eventSelection!==g.instance.instanceId)},this.handleDragStart=l=>{let{context:r}=this.component,o=this.eventRange;this.relevantEvents=Pe(r.getCurrentData().eventStore,this.eventRange.instance.instanceId);let c=this.querySegEl(l);this.draggingSegEl=c,this.draggingSeg=de(c),r.calendarApi.unselect(),r.emitter.trigger("eventResizeStart",{el:c,event:new $(r,o.def,o.instance),jsEvent:l.origEvent,view:r.viewApi})},this.handleHitUpdate=(l,r,o)=>{let{context:c}=this.component,g=this.relevantEvents,p=this.hitDragging.initialHit,h=this.eventRange.instance,d=null,u=null,m=!1,f={affectedEvents:g,mutatedEvents:Z(),isEvent:!0};l&&(l.componentId===p.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(p,l)||(d=ii(p,l,o.subjectEl.classList.contains("fc-event-resizer-start"),h.range))),d&&(u=Ae(g,c.getCurrentData().eventUiBases,d,c),f.mutatedEvents=u,Ie(f,l.dateProfile,c)||(m=!0,d=null,u=null,f.mutatedEvents=null)),u?c.dispatch({type:"SET_EVENT_RESIZE",state:f}):c.dispatch({type:"UNSET_EVENT_RESIZE"}),m?me():fe(),r||(d&&ne(p,l)&&(d=null),this.validMutation=d,this.mutatedRelevantEvents=u)},this.handleDragEnd=l=>{let{context:r}=this.component,o=this.eventRange.def,c=this.eventRange.instance,g=new $(r,o,c),p=this.relevantEvents,h=this.mutatedRelevantEvents;if(r.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:g,jsEvent:l.origEvent,view:r.viewApi}),this.validMutation){let d=new $(r,h.defs[o.defId],c?h.instances[c.instanceId]:null);r.dispatch({type:"MERGE_EVENTS",eventStore:h});let u={oldEvent:g,event:d,relatedEvents:Q(h,r,c),revert(){r.dispatch({type:"MERGE_EVENTS",eventStore:p})}};r.emitter.trigger("eventResize",Object.assign(Object.assign({},u),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||ke(0),endDelta:this.validMutation.endDelta||ke(0),jsEvent:l.origEvent,view:r.viewApi})),r.emitter.trigger("eventChange",u)}else r.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=e,s=this.dragging=new X(e.el);s.pointer.selector=".fc-event-resizer",s.touchScrollAllowed=!1,s.autoScroller.isEnabled=t.context.options.dragScroll;let a=this.hitDragging=new ae(this.dragging,pe(e));a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return V(e.subjectEl,".fc-event")}}function ii(n,e,t,s){let a=n.context.dateEnv,l=n.dateSpan.range.start,r=e.dateSpan.range.start,o=Be(l,r,a,n.largeUnit);if(t){if(a.add(s.start,o)<s.end)return{startDelta:o}}else if(a.add(s.end,o)>s.start)return{endDelta:o};return null}class ai{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=s=>{s.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=s=>{let a=this.context.options.unselectCancel,l=It(s.origEvent);this.matchesCancel=!!V(l,a),this.matchesEvent=!!V(l,K.SELECTOR)},this.onDocumentPointerUp=s=>{let{context:a}=this,{documentPointer:l}=this,r=a.getCurrentData();if(!l.wasTouchScroll){if(r.dateSelection&&!this.isRecentPointerDateSelect){let o=a.options.unselectAuto;o&&(!o||!this.matchesCancel)&&a.calendarApi.unselect(s)}r.eventSelection&&!this.matchesEvent&&a.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new Ge(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const ni={fixedMirrorParent:I},ri={dateClick:I,eventDragStart:I,eventDragStop:I,eventDrop:I,eventResizeStart:I,eventResizeStop:I,eventResize:I,drop:I,eventReceive:I,eventLeave:I};ve.dataAttrPrefix="";var li=_e({name:"@fullcalendar/interaction",componentInteractions:[Ks,Js,K,si],calendarInteractions:[ai],elementDraggingImpl:X,optionRefiners:ni,listenerRefiners:ri});const oi={class:"space-y-6"},di={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"},ci={class:"bg-white rounded-2xl shadow p-6 flex items-center gap-4"},hi={class:"p-3 rounded-xl",style:{"background-color":"#1b84ff1a"}},gi={class:"text-2xl font-bold"},ui={class:"bg-white rounded-2xl shadow p-6 flex items-center gap-4"},pi={class:"p-3 rounded-xl",style:{"background-color":"#1b84ff1a"}},fi={class:"text-2xl font-bold"},mi={class:"bg-white rounded-2xl shadow p-6 flex items-center gap-4"},vi={class:"p-3 rounded-xl",style:{"background-color":"#1b84ff1a"}},yi={class:"text-2xl font-bold"},bi={class:"bg-white rounded-2xl shadow p-6 flex items-center gap-4"},xi={class:"p-3 rounded-xl",style:{"background-color":"#1b84ff1a"}},wi={class:"text-2xl font-bold"},Ei={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Si={class:"bg-white rounded-2xl shadow p-6"},Di={class:"bg-white rounded-2xl shadow p-6"},ki={class:"space-y-6"},Ri={class:"bg-white rounded-2xl shadow p-6"},Ci={class:"flex items-center justify-between mb-4"},Mi={class:"text-sm bg-blue-100 text-blue-600 px-2 py-1 rounded-lg"},Ti={class:"divide-y divide-gray-200"},_i={class:"text-gray-500"},Pi={key:0,class:"py-2 text-sm text-gray-500"},Ai={key:0,class:"mt-4"},Ii={class:"bg-white rounded-2xl shadow p-6"},Hi={__name:"MainDashboard",props:{metrics:Object,barangData:Object,absensiData:Object,recentActivities:Array,calendarEvents:Array},emits:["dateClick"],setup(n,{emit:e}){const t=n,s=H(!1),a=T(()=>s.value?t.recentActivities||[]:(t.recentActivities||[]).slice(0,5)),l=()=>{s.value=!s.value},r={chart:{toolbar:{show:!1}},xaxis:{categories:t.barangData?.categories||["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"]},legend:{position:"top"},dataLabels:{enabled:!1},tooltip:{enabled:!0,y:{formatter:d=>`${d}`}}},o=[{name:"Barang Masuk",data:t.barangData?.series?.masuk||[]},{name:"Barang Keluar",data:t.barangData?.series?.keluar||[]}],c={chart:{toolbar:{show:!1}},xaxis:{categories:t.absensiData?.categories||["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"]},stroke:{curve:"smooth",width:3},dataLabels:{enabled:!1}},g=[{name:"Total Karyawan Masuk",data:t.absensiData?.series?.total_masuk||[]}],p={plugins:[Os,li],initialView:"dayGridMonth",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,dayGridWeek,dayGridDay"},editable:!0,selectable:!0,events:t.calendarEvents||[],dateClick(d){h("dateClick",d.dateStr)}},h=e;return(d,u)=>{const m=ye("apexchart");return w(),S("div",oi,[i("div",di,[i("div",ci,[i("div",hi,[R(_(be),{class:"w-6 h-6 text-[#1B84FF]"})]),i("div",null,[i("h2",gi,v(n.metrics.active_employees),1),u[0]||(u[0]=i("p",{class:"text-gray-500"},"Jumlah Karyawan Aktif",-1))])]),i("div",ui,[i("div",pi,[R(_(Oe),{class:"w-6 h-6 text-[#1B84FF]"})]),i("div",null,[i("h2",fi,v(n.metrics.total_items_stock),1),u[1]||(u[1]=i("p",{class:"text-gray-500"},"Total Barang Stok",-1))])]),i("div",mi,[i("div",vi,[R(_(Le),{class:"w-6 h-6 text-[#1B84FF]"})]),i("div",null,[i("h2",yi,v(n.metrics.low_stock_items),1),u[2]||(u[2]=i("p",{class:"text-gray-500"},"Jumlah Barang Menipis",-1))])]),i("div",bi,[i("div",xi,[R(_(os),{class:"w-6 h-6 text-[#1B84FF]"})]),i("div",null,[i("h2",wi,v(n.metrics.today_activities),1),u[3]||(u[3]=i("p",{class:"text-gray-500"},"Aktivitas Hari ini",-1))])])]),i("div",Ei,[i("div",Si,[u[4]||(u[4]=i("h3",{class:"font-semibold mb-4"},"Grafik Barang",-1)),R(m,{type:"bar",height:"300",options:r,series:o})]),i("div",Di,[u[5]||(u[5]=i("h3",{class:"font-semibold mb-4"},"Grafik Absensi Karyawan",-1)),R(m,{type:"line",height:"300",options:c,series:g})])]),i("div",ki,[i("div",Ri,[i("div",Ci,[u[6]||(u[6]=i("h3",{class:"font-semibold"},"Aktivitas",-1)),i("span",Mi,v(n.recentActivities.length),1)]),i("ul",Ti,[(w(!0),S(O,null,W(a.value,f=>(w(),S("li",{key:f.date,class:"py-2 flex justify-between text-sm"},[i("span",null,v(f.description),1),i("span",_i,v(f.date),1)]))),128)),n.recentActivities.length===0?(w(),S("li",Pi," Tidak ada aktivitas terbaru ")):A("",!0)]),n.recentActivities.length>5?(w(),S("div",Ai,[i("button",{onClick:l,class:"text-blue-600 text-sm hover:underline"},v(s.value?"Lihat Lebih Sedikit":"Lihat Selengkapnya"),1)])):A("",!0)]),i("div",Ii,[u[7]||(u[7]=i("h3",{class:"font-semibold mb-4"},"Kalender",-1)),R(_(es),{options:p})])])])}}},ji={class:"space-y-6"},Bi={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-6"},Ni={class:"bg-white rounded-2xl shadow p-6 flex items-center gap-4"},Li={class:"p-3 rounded-xl",style:{"background-color":"#1b84ff1a"}},Oi={class:"text-2xl font-bold"},Fi={class:"bg-white rounded-2xl shadow p-6 flex items-center gap-4"},$i={class:"p-3 rounded-xl",style:{"background-color":"#1b84ff1a"}},Wi={class:"text-2xl font-bold"},zi={class:"bg-white rounded-2xl shadow p-6 flex items-center gap-4"},Vi={class:"p-3 rounded-xl",style:{"background-color":"#1b84ff1a"}},Ui={class:"text-2xl font-bold"},qi={class:"bg-white rounded-2xl shadow p-6 flex items-center gap-4"},Gi={class:"p-3 rounded-xl",style:{"background-color":"#1b84ff1a"}},Yi={class:"text-2xl font-bold"},Xi={class:"bg-white rounded-2xl shadow p-6 flex items-center gap-4"},Ki={class:"p-3 rounded-xl",style:{"background-color":"#1b84ff1a"}},Ji={class:"text-2xl font-bold"},Zi={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},Qi={class:"bg-white rounded-2xl shadow p-6"},ea={class:"space-y-4"},ta={class:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center"},sa={class:"text-sm font-medium text-gray-600"},ia={class:"flex-1"},aa={class:"text-sm font-medium"},na={class:"text-xs text-gray-500"},ra={key:0,class:"text-center text-gray-500 py-4"},la={key:0,class:"mt-4"},oa={class:"bg-white rounded-2xl shadow p-6"},da={class:"space-y-4"},ca={class:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center"},ha={class:"text-sm font-medium text-gray-600"},ga={class:"flex-1"},ua={class:"text-sm font-medium"},pa={class:"text-xs text-gray-500"},fa={key:0,class:"text-center text-gray-500 py-4"},ma={key:0,class:"mt-4"},va={class:"bg-white rounded-2xl shadow p-6"},ya={class:"space-y-4"},ba={class:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center"},xa={class:"text-sm font-medium text-gray-600"},wa={class:"flex-1"},Ea={class:"text-sm font-medium"},Sa={class:"text-xs text-gray-500"},Da={key:0,class:"text-center text-gray-500 py-4"},ka={key:0,class:"mt-4"},Ra={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Ca={class:"bg-white rounded-2xl shadow p-6"},Ma={class:"flex items-center justify-between mb-4"},Ta={class:"flex items-center gap-2"},_a=["disabled"],Pa=["value"],Aa={key:0,class:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"},Ia={class:"bg-white rounded-2xl shadow p-6"},Ha={class:"bg-white rounded-2xl shadow p-6"},ja={__name:"KaryawanDashboard",props:{karyawanMetrics:{type:Object,default:()=>({total_karyawan:0,active_karyawan:0,late_karyawan:0,on_leave:0,performance:"0%"})},branches:{type:Array,default:()=>[]},karyawanTodayActivities:{type:Array,default:()=>[]},exemplaryEmployees:{type:Array,default:()=>[]},upcomingBirthdays:{type:Array,default:()=>[]},employeeProportionData:{type:Object,default:()=>({categories:["Balikpapan","Samarinda","Kantor Pusat","Bontang","IKN"],data:[0,0,0,0,0]})},genderProportionData:{type:Array,default:()=>[0,0]},employeeGrowthData:{type:Object,default:()=>({categories:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"],data:[0,0,0,0,0,0,0,0,0,0,0,0]})}},setup(n){const e=n;console.log(e.karyawanMetrics);const t=H(!1),s=H(!1),a=H(!1),l=H(e.branches.length>0?e.branches[0].id:null),r=H(!1),o=T(()=>t.value?e.karyawanTodayActivities:e.karyawanTodayActivities.slice(0,5)),c=T(()=>{const P=e.karyawanTodayActivities.filter(E=>E.status==="Hadir");return s.value?P:P.slice(0,5)}),g=T(()=>a.value?e.upcomingBirthdays:e.upcomingBirthdays.slice(0,5)),p=()=>{t.value=!t.value},h=()=>{s.value=!s.value},d=()=>{a.value=!a.value},u=T(()=>({chart:{toolbar:{show:!1}},xaxis:{categories:f.value.categories},colors:["#1B84FF"],dataLabels:{enabled:!1},plotOptions:{bar:{borderRadius:4}}})),m=T(()=>[{name:"Jumlah Karyawan",data:f.value.data}]),f=H(e.employeeProportionData),b=async P=>{r.value=!0;try{const E=await fetch(`/api/dashboard/employee-proportion-by-branch?branch_id=${P}`,{method:"GET",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},credentials:"same-origin"});if(!E.ok)throw new Error(`HTTP error! status: ${E.status}`);const N=await E.json();N.success?f.value={categories:N.data.categories,data:N.data.data}:(console.error("API returned error:",N.message),f.value=e.employeeProportionData)}catch(E){console.error("Error fetching employee proportion data:",E),f.value=e.employeeProportionData}finally{r.value=!1}};ts(l,async P=>{console.log("Branch changed to:",P),P?await b(P):f.value=e.employeeProportionData});const x={chart:{toolbar:{show:!1}},labels:["Laki Laki","Perempuan"],colors:["#1B84FF","#F59E0B"],legend:{position:"bottom"},dataLabels:{enabled:!0},plotOptions:{pie:{donut:{size:"70%"}}}},D=T(()=>e.genderProportionData),C=T(()=>({chart:{toolbar:{show:!1}},xaxis:{categories:e.employeeGrowthData.categories},colors:["#1B84FF"],stroke:{curve:"smooth",width:3},dataLabels:{enabled:!1},markers:{size:6,hover:{size:8}}})),M=T(()=>[{name:"Karyawan Terdaftar",data:e.employeeGrowthData.data}]);return(P,E)=>{const N=ye("apexchart");return w(),S("div",ji,[i("div",Bi,[i("div",Ni,[i("div",Li,[R(_(be),{class:"w-6 h-6 text-[#1B84FF]"})]),i("div",null,[i("h2",Oi,v(n.karyawanMetrics.total_karyawan),1),E[1]||(E[1]=i("p",{class:"text-gray-500"},"Total Karyawan",-1))])]),i("div",Fi,[i("div",$i,[R(_(gs),{class:"w-6 h-6 text-[#1B84FF]"})]),i("div",null,[i("h2",Wi,v(n.karyawanMetrics.active_karyawan),1),E[2]||(E[2]=i("p",{class:"text-gray-500"},"Karyawan Aktif",-1))])]),i("div",zi,[i("div",Vi,[R(_(ds),{class:"w-6 h-6 text-[#1B84FF]"})]),i("div",null,[i("h2",Ui,v(n.karyawanMetrics.late_karyawan),1),E[3]||(E[3]=i("p",{class:"text-gray-500"},"Karyawan Telat",-1))])]),i("div",qi,[i("div",Gi,[R(_(ls),{class:"w-6 h-6 text-[#1B84FF]"})]),i("div",null,[i("h2",Yi,v(n.karyawanMetrics.on_leave),1),E[4]||(E[4]=i("p",{class:"text-gray-500"},"Karyawan Cuti",-1))])]),i("div",Xi,[i("div",Ki,[R(_(hs),{class:"w-6 h-6 text-[#1B84FF]"})]),i("div",null,[i("h2",Ji,v(n.karyawanMetrics.performance),1),E[5]||(E[5]=i("p",{class:"text-gray-500"},"Kinerja Karyawan",-1))])])]),i("div",Zi,[i("div",Qi,[E[6]||(E[6]=i("div",{class:"flex items-center justify-between mb-4"},[i("h3",{class:"font-semibold"},"Log Aktivitas Hari ini")],-1)),i("div",ea,[(w(!0),S(O,null,W(o.value,k=>(w(),S("div",{key:k.id,class:"flex items-center gap-3"},[i("div",ta,[i("span",sa,v(k.name.charAt(0)),1)]),i("div",ia,[i("p",aa,v(k.name),1),i("p",na,"Absen: "+v(k.time),1)]),i("span",{class:F(["px-2 py-1 text-xs rounded-full",k.status==="Hadir"?"bg-green-100 text-green-600":"bg-yellow-100 text-yellow-600"])},v(k.status),3)]))),128)),n.karyawanTodayActivities.length===0?(w(),S("div",ra," Tidak ada aktivitas hari ini ")):A("",!0)]),n.karyawanTodayActivities.length>5?(w(),S("div",la,[i("button",{onClick:p,class:"text-blue-600 text-sm hover:underline"},v(t.value?"Tampilkan Lebih Sedikit":"Lihat Selengkapnya"),1)])):A("",!0)]),i("div",oa,[E[7]||(E[7]=i("div",{class:"flex items-center justify-between mb-4"},[i("h3",{class:"font-semibold"},"Karyawan Tepat Waktu Hari Ini")],-1)),i("div",da,[(w(!0),S(O,null,W(c.value,k=>(w(),S("div",{key:k.id,class:"flex items-center gap-3"},[i("div",ca,[i("span",ha,v(k.name.charAt(0)),1)]),i("div",ga,[i("p",ua,v(k.name),1),i("p",pa,"Tepat waktu: "+v(k.time),1)])]))),128)),n.karyawanTodayActivities.filter(k=>k.status==="Hadir").length===0?(w(),S("div",fa," Tidak ada karyawan yang tepat waktu hari ini ")):A("",!0)]),n.karyawanTodayActivities.filter(k=>k.status==="Hadir").length>5?(w(),S("div",ma,[i("button",{onClick:h,class:"text-blue-600 text-sm hover:underline"},v(s.value?"Tampilkan Lebih Sedikit":"Lihat Selengkapnya"),1)])):A("",!0)]),i("div",va,[E[8]||(E[8]=i("div",{class:"flex items-center justify-between mb-4"},[i("h3",{class:"font-semibold"},"Ulang Tahun")],-1)),i("div",ya,[(w(!0),S(O,null,W(g.value,k=>(w(),S("div",{key:k.id,class:"flex items-center gap-3"},[i("div",ba,[i("span",xa,v(k.name.charAt(0)),1)]),i("div",wa,[i("p",Ea,v(k.name),1),i("p",Sa,v(k.date),1)])]))),128)),n.upcomingBirthdays.length===0?(w(),S("div",Da," Tidak ada ulang tahun mendatang ")):A("",!0)]),n.upcomingBirthdays.length>5?(w(),S("div",ka,[i("button",{onClick:d,class:"text-blue-600 text-sm hover:underline"},v(a.value?"Tampilkan Lebih Sedikit":"Lihat Selengkapnya"),1)])):A("",!0)])]),i("div",Ra,[i("div",Ca,[i("div",Ma,[E[9]||(E[9]=i("h3",{class:"font-semibold"},"Proporsi Karyawan",-1)),i("div",Ta,[ss(i("select",{class:"text-sm border border-gray-300 rounded-lg px-3 py-1","onUpdate:modelValue":E[0]||(E[0]=k=>l.value=k),disabled:r.value},[(w(!0),S(O,null,W(n.branches,k=>(w(),S("option",{key:k.id,value:k.id},v(k.name),9,Pa))),128))],8,_a),[[is,l.value]]),r.value?(w(),S("div",Aa)):A("",!0)])]),R(N,{type:"bar",height:"300",options:u.value,series:m.value},null,8,["options","series"])]),i("div",Ia,[E[10]||(E[10]=Ne('<div class="flex items-center justify-between mb-4"><h3 class="font-semibold">Proporsi Gender</h3><button class="text-gray-400 hover:text-gray-600"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"></path></svg></button></div>',1)),R(N,{type:"donut",height:"300",options:x,series:D.value},null,8,["series"])])]),i("div",Ha,[E[11]||(E[11]=i("div",{class:"flex items-center justify-between mb-4"},[i("h3",{class:"font-semibold"},"Pertumbuhan Karyawan")],-1)),R(N,{type:"line",height:"400",options:C.value,series:M.value},null,8,["options","series"])])])}}},Ba={class:"space-y-6"},Na={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"},La={class:"bg-white rounded-2xl shadow p-6 flex items-center gap-4"},Oa={class:"p-3 rounded-xl",style:{"background-color":"#1b84ff1a"}},Fa={class:"text-2xl font-bold"},$a={class:"bg-white rounded-2xl shadow p-6 flex items-center gap-4"},Wa={class:"p-3 rounded-xl",style:{"background-color":"#1b84ff1a"}},za={class:"text-2xl font-bold"},Va={class:"bg-white rounded-2xl shadow p-6 flex items-center gap-4"},Ua={class:"p-3 rounded-xl",style:{"background-color":"#1b84ff1a"}},qa={class:"text-2xl font-bold"},Ga={class:"bg-white rounded-2xl shadow p-6 flex items-center gap-4"},Ya={class:"p-3 rounded-xl",style:{"background-color":"#1b84ff1a"}},Xa={class:"text-2xl font-bold"},Ka={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Ja={class:"bg-white rounded-2xl shadow p-6"},Za={class:"space-y-4"},Qa={class:"flex justify-between items-center"},en={class:"text-lg font-semibold"},tn={class:"flex justify-between items-center"},sn={class:"text-lg font-semibold"},an={class:"flex justify-between items-center"},nn={class:"text-lg font-semibold"},rn={class:"border-2 border-dashed border-blue-300 rounded-lg p-4 bg-blue-50"},ln={class:"flex justify-between items-center"},on={class:"text-lg font-semibold text-blue-600"},dn={class:"bg-white rounded-2xl shadow p-6"},cn={class:"space-y-4"},hn={class:"flex justify-between items-center"},gn={class:"text-lg font-semibold"},un={class:"flex justify-between items-center"},pn={class:"text-lg font-semibold"},fn={class:"flex justify-between items-center"},mn={class:"text-lg font-semibold"},vn={class:"border-2 border-dashed border-blue-300 rounded-lg p-4 bg-blue-50"},yn={class:"flex justify-between items-center"},bn={class:"text-lg font-semibold text-blue-600"},xn={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},wn={class:"bg-white rounded-2xl shadow p-6"},En={class:"bg-white rounded-2xl shadow p-6"},Sn={class:"bg-white rounded-2xl shadow p-6"},Dn={class:"bg-white rounded-2xl shadow p-6"},kn={class:"flex items-center justify-between mb-4"},Rn={class:"flex gap-2"},Cn={class:"overflow-x-auto"},Mn={class:"w-full"},Tn={key:0,class:"border-b border-gray-100"},_n={class:"py-3 text-sm text-gray-500"},Pn={class:"py-3 text-sm font-mono text-gray-600"},An={class:"py-3 text-sm font-medium"},In={class:"py-3 text-sm"},Hn={class:"py-3 text-sm"},jn={class:"py-3 text-sm"},Bn={class:"py-3 text-sm text-gray-600"},Nn={class:"flex items-center justify-between mt-4"},Ln={class:"flex items-center gap-2"},On={class:"text-sm text-gray-500"},Fn={__name:"BarangDashboard",props:{barangMetrics:Object,barangData:Object,barangMetric:Object,requestData:{type:Object,default:()=>({})},receiptData:{type:Object,default:()=>({})},lowStockItems:{type:Array,default:()=>[]},mostFrequentlyUsedItems:{type:Array,default:()=>[]},itemProportions:{type:Object,default:()=>({labels:["Uncategorized"],data:[0],colors:["#1B84FF"]})}},setup(n){const e=n;console.log(e.barangMetric);const t=H("all"),s=T(()=>{if(!e.lowStockItems)return[];switch(t.value){case"low_stock":return e.lowStockItems.filter(h=>h.actual_stock<h.minimum_stock);case"out_of_stock":return e.lowStockItems.filter(h=>h.actual_stock===0);case"all":default:return e.lowStockItems}}),a=h=>{t.value=h},l={chart:{toolbar:{show:!1}},xaxis:{categories:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"]},colors:["#1B84FF","#0F4C75"],legend:{position:"top"},dataLabels:{enabled:!1},plotOptions:{bar:{borderRadius:4}},yaxis:{labels:{formatter:function(h){return h}}}},r=[{name:"Barang Masuk",data:e.barangData?.series?.masuk||[]},{name:"Barang Keluar",data:e.barangData?.series?.keluar||[]}],o=T(()=>({chart:{toolbar:{show:!1}},labels:e.itemProportions?.labels||["Uncategorized"],colors:e.itemProportions?.colors||["#1B84FF"],legend:{position:"bottom"},dataLabels:{enabled:!0},plotOptions:{pie:{donut:{size:"70%"}}}})),c=T(()=>e.itemProportions?.data||[0]),g=T(()=>({chart:{toolbar:{show:!1},type:"bar"},plotOptions:{bar:{horizontal:!0,borderRadius:4}},xaxis:{categories:e.mostFrequentlyUsedItems?.map(h=>h.name)||[]},colors:["#1B84FF","#10B981","#F59E0B","#EF4444","#8B5CF6","#F59E0B"],dataLabels:{enabled:!1},legend:{show:!1}})),p=T(()=>[{name:"Usage",data:e.mostFrequentlyUsedItems?.map(h=>h.usage)||[]}]);return(h,d)=>{const u=ye("apexchart");return w(),S("div",Ba,[i("div",Na,[i("div",La,[i("div",Oa,[R(_(Oe),{class:"w-6 h-6 text-[#1B84FF]"})]),i("div",null,[i("h2",Fa,v(n.barangMetric?.total_stock||0),1),d[3]||(d[3]=i("p",{class:"text-gray-500"},"Total Barang Stok",-1))])]),i("div",$a,[i("div",Wa,[R(_(Le),{class:"w-6 h-6 text-[#1B84FF]"})]),i("div",null,[i("h2",za,v(n.barangMetric?.low_stock_items||0),1),d[4]||(d[4]=i("p",{class:"text-gray-500"},"Jumlah Barang Menipis",-1))])]),i("div",Va,[i("div",Ua,[R(_(be),{class:"w-6 h-6 text-[#1B84FF]"})]),i("div",null,[i("h2",qa,v(n.barangMetric?.out_of_stock||0),1),d[5]||(d[5]=i("p",{class:"text-gray-500"},"Jumlah Barang Habis",-1))])]),i("div",Ga,[i("div",Ya,[R(_(cs),{class:"w-6 h-6 text-[#1B84FF]"})]),i("div",null,[i("h2",Xa,v(n.barangMetric?.total_transactions||0),1),d[6]||(d[6]=i("p",{class:"text-gray-500"},"Total Transaksi Keluar & Masuk",-1))])])]),i("div",Ka,[i("div",Ja,[d[12]||(d[12]=i("h3",{class:"font-semibold mb-4"},"Permintaan Barang",-1)),i("div",Za,[i("div",Qa,[d[7]||(d[7]=i("span",{class:"text-sm text-gray-600"},"Permintaan saat ini",-1)),i("span",en,v(n.requestData?.current||0),1)]),i("div",tn,[d[8]||(d[8]=i("span",{class:"text-sm text-gray-600"},"Total permintaan 2025",-1)),i("span",sn,v(n.requestData?.total_2025||0),1)]),i("div",an,[d[9]||(d[9]=i("span",{class:"text-sm text-gray-600"},"Total selesai",-1)),i("span",nn,v(n.requestData?.completed||0),1)]),i("div",rn,[i("div",ln,[d[10]||(d[10]=i("span",{class:"text-sm text-gray-600"},"Total permintaan 2024",-1)),i("span",on,v(n.requestData?.total_2024||0),1)]),d[11]||(d[11]=i("div",{class:"flex items-center gap-2 mt-2"},[i("span",{class:"text-sm text-red-600 font-medium"},"↓ 15.0%")],-1))])])]),i("div",dn,[d[18]||(d[18]=i("h3",{class:"font-semibold mb-4"},"Penerimaan Barang",-1)),i("div",cn,[i("div",hn,[d[13]||(d[13]=i("span",{class:"text-sm text-gray-600"},"Penerimaan saat ini",-1)),i("span",gn,v(n.receiptData?.current||0),1)]),i("div",un,[d[14]||(d[14]=i("span",{class:"text-sm text-gray-600"},"Total penerimaan 2025",-1)),i("span",pn,v(n.receiptData?.total_2025||0),1)]),i("div",fn,[d[15]||(d[15]=i("span",{class:"text-sm text-gray-600"},"Total selesai",-1)),i("span",mn,v(n.receiptData?.completed||0),1)]),i("div",vn,[i("div",yn,[d[16]||(d[16]=i("span",{class:"text-sm text-gray-600"},"Total penerimaan 2024",-1)),i("span",bn,v(n.receiptData?.total_2024||0),1)]),d[17]||(d[17]=i("div",{class:"flex items-center gap-2 mt-2"},[i("span",{class:"text-sm text-green-600 font-medium"},"↑ 30.0%")],-1))])])])]),i("div",xn,[i("div",wn,[d[19]||(d[19]=i("h3",{class:"font-semibold mb-4"},"Grafik Barang",-1)),R(u,{type:"bar",height:"300",options:l,series:r})]),i("div",En,[d[20]||(d[20]=i("h3",{class:"font-semibold mb-4"},"Proporsi Barang",-1)),R(u,{type:"donut",height:"300",options:o.value,series:c.value},null,8,["options","series"])])]),i("div",Sn,[d[21]||(d[21]=i("h3",{class:"font-semibold mb-4"},"Paling Sering Digunakan",-1)),R(u,{type:"bar",height:"250",options:g.value,series:p.value},null,8,["options","series"])]),i("div",Dn,[i("div",kn,[i("div",Rn,[i("button",{onClick:d[0]||(d[0]=m=>a("all")),class:F(["px-4 py-2 rounded-lg text-sm font-medium transition-colors",t.value==="all"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"])}," Semua Barang ",2),i("button",{onClick:d[1]||(d[1]=m=>a("low_stock")),class:F(["px-4 py-2 rounded-lg text-sm font-medium transition-colors",t.value==="low_stock"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"])}," Barang Stok Menipis ",2),i("button",{onClick:d[2]||(d[2]=m=>a("out_of_stock")),class:F(["px-4 py-2 rounded-lg text-sm font-medium transition-colors",t.value==="out_of_stock"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"])}," Barang Habis ",2)]),d[22]||(d[22]=i("div",{class:"flex items-center gap-4"},[i("input",{type:"text",placeholder:"Search Items",class:"px-3 py-2 border border-gray-300 rounded-lg text-sm"})],-1))]),i("div",Cn,[i("table",Mn,[d[24]||(d[24]=i("thead",null,[i("tr",{class:"border-b border-gray-200"},[i("th",{class:"text-left py-3 text-sm font-medium text-gray-500"},"No"),i("th",{class:"text-left py-3 text-sm font-medium text-gray-500"},"Kode"),i("th",{class:"text-left py-3 text-sm font-medium text-gray-500"},"Nama Barang"),i("th",{class:"text-left py-3 text-sm font-medium text-gray-500"},"Stok Aktual"),i("th",{class:"text-left py-3 text-sm font-medium text-gray-500"},"Stok Minimum"),i("th",{class:"text-left py-3 text-sm font-medium text-gray-500"},"Selisih"),i("th",{class:"text-left py-3 text-sm font-medium text-gray-500"},"Harga")])],-1)),i("tbody",null,[s.value.length===0?(w(),S("tr",Tn,[...d[23]||(d[23]=[i("td",{colspan:"7",class:"py-8 text-center text-gray-500"},[i("div",{class:"flex flex-col items-center gap-2"},[i("svg",{class:"w-12 h-12 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})]),i("p",{class:"text-sm"},"Tidak ada data barang"),i("p",{class:"text-xs text-gray-400"},"Coba ubah filter atau cari dengan kata kunci lain")])],-1)])])):A("",!0),(w(!0),S(O,null,W(s.value,(m,f)=>(w(),S("tr",{key:m.id,class:"border-b border-gray-100"},[i("td",_n,v(f+1),1),i("td",Pn,v(m.code||"-"),1),i("td",An,v(m.name),1),i("td",In,v(m.actual_stock),1),i("td",Hn,v(m.minimum_stock),1),i("td",jn,[i("span",{class:F(["px-2 py-1 text-xs rounded-full",m.difference<0?"bg-red-100 text-red-600":"bg-green-100 text-green-600"])},v(m.difference),3)]),i("td",Bn,v(m.price?`Rp ${m.price.toLocaleString("id-ID")}`:"-"),1)]))),128))])])]),i("div",Nn,[d[26]||(d[26]=i("div",{class:"flex items-center gap-2"},[i("span",{class:"text-sm text-gray-500"},"Show"),i("select",{class:"px-2 py-1 border border-gray-300 rounded text-sm"},[i("option",null,"5"),i("option",null,"10"),i("option",null,"25")]),i("span",{class:"text-sm text-gray-500"},"per page")],-1)),i("div",Ln,[i("span",On,"1-"+v(s.value.length)+" of "+v(s.value.length),1),d[25]||(d[25]=Ne('<div class="flex gap-1"><button class="px-2 py-1 text-sm border border-gray-300 rounded hover:bg-gray-100">1</button><button class="px-2 py-1 text-sm border border-gray-300 rounded hover:bg-gray-100">2</button><button class="px-2 py-1 text-sm border border-gray-300 rounded hover:bg-gray-100">3</button><button class="px-2 py-1 text-sm border border-gray-300 rounded hover:bg-gray-100">4</button><button class="px-2 py-1 text-sm border border-gray-300 rounded hover:bg-gray-100">5</button></div>',1))])])])])}}},$n={class:"p-6 space-y-6"},Wn={class:"flex gap-4"},zn={class:"p-6 border-b border-gray-200"},Vn={class:"flex items-center justify-between"},Un={class:"text-lg font-semibold"},qn={class:"p-6 max-h-96 overflow-y-auto"},Gn={key:0},Yn={class:"space-y-3"},Xn={class:"text-sm font-medium text-gray-900"},Kn={key:1,class:"text-center py-8"},nr=Object.assign({layout:rs},{__name:"Dashboard",props:{branches:Array,metrics:Object,barangData:Object,absensiData:Object,recentActivities:Array,calendarEvents:Array,barangMetric:Object,karyawanMetrics:{type:Object,default:()=>({total_karyawan:124,active_karyawan:110,late_karyawan:5,on_leave:8,performance:"87%"})},karyawanActivities:{type:Array,default:()=>[]},todayActivities:{type:Array,default:()=>[]},exemplaryEmployees:{type:Array,default:()=>[]},upcomingBirthdays:{type:Array,default:()=>[]},karyawanTodayActivities:{type:Array,default:()=>[]},employeeProportionData:{type:Object,default:()=>({categories:["Balikpapan","Samarinda","Kantor Pusat","Bontang","IKN"],data:[0,0,0,0,0]})},genderProportionData:{type:Array,default:()=>[0,0]},employeeGrowthData:{type:Object,default:()=>({categories:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"],data:[0,0,0,0,0,0,0,0,0,0,0,0]})},branches:{type:Array,default:()=>[]},barangMetrics:{type:Object,default:()=>({total_stock:342,low_stock_items:23,out_of_stock:3,total_transactions:10})},barangMetric:{type:Object,default:()=>({total_stock:342,low_stock_items:23,out_of_stock:3,total_transactions:10})},requestData:{type:Object,default:()=>({current:42,total_2025:1250,completed:1110,total_2024:5321})},receiptData:{type:Object,default:()=>({current:30,total_2025:651,completed:220,total_2024:500})},lowStockItems:{type:Array,default:()=>[]},mostFrequentlyUsedItems:{type:Array,default:()=>[]},itemProportions:{type:Object,default:()=>({labels:["Uncategorized"],data:[0],colors:["#1B84FF"]})}},setup(n){const e=n,t=H("utama"),s=H(!1),a=H(null),l=T(()=>a.value?new Date(a.value).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):""),r=T(()=>{if(!a.value)return[];const p=new Date(a.value).toISOString().split("T")[0];return e.calendarEvents?.filter(h=>h.date===p)||[]}),o=p=>{t.value=p},c=p=>{a.value=p,s.value=!0},g=()=>{s.value=!1,a.value=null};return(p,h)=>(w(),S(O,null,[R(_(as),{title:"Dashboard"}),i("div",$n,[h[4]||(h[4]=i("div",null,[i("h1",{class:"text-2xl font-bold"},"Dashboard"),i("p",{class:"text-gray-500"}," Pusat Terpadu untuk Manajemen dan Kustomisasi ")],-1)),i("div",Wn,[i("button",{onClick:h[0]||(h[0]=d=>o("utama")),class:F(["px-6 py-3 rounded-lg font-medium transition-colors",t.value==="utama"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"])}," Utama ",2),i("button",{onClick:h[1]||(h[1]=d=>o("karyawan")),class:F(["px-6 py-3 rounded-lg font-medium transition-colors",t.value==="karyawan"?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"])}," Karyawan ",2),i("button",{onClick:h[2]||(h[2]=d=>o("barang")),class:F(["px-6 py-3 rounded-lg font-medium transition-colors",t.value==="barang"?"bg-orange-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"])}," Barang ",2)]),t.value==="utama"?(w(),oe(Hi,{key:0,metrics:n.metrics,"barang-data":n.barangData,"absensi-data":n.absensiData,"recent-activities":n.recentActivities,"calendar-events":n.calendarEvents,onDateClick:c},null,8,["metrics","barang-data","absensi-data","recent-activities","calendar-events"])):t.value==="karyawan"?(w(),oe(ja,{key:1,"karyawan-metrics":n.karyawanMetrics,branches:n.branches,"karyawan-today-activities":n.karyawanTodayActivities,"exemplary-employees":n.exemplaryEmployees,"upcoming-birthdays":n.upcomingBirthdays,"employee-proportion-data":n.employeeProportionData,"gender-proportion-data":n.genderProportionData,"employee-growth-data":n.employeeGrowthData},null,8,["karyawan-metrics","branches","karyawan-today-activities","exemplary-employees","upcoming-birthdays","employee-proportion-data","gender-proportion-data","employee-growth-data"])):t.value==="barang"?(w(),oe(Fn,{key:2,"barang-metrics":n.barangMetrics,"barang-data":n.barangData,"barang-metric":n.barangMetric,"request-data":n.requestData,"receipt-data":n.receiptData,"low-stock-items":n.lowStockItems,"most-frequently-used-items":n.mostFrequentlyUsedItems,"item-proportions":n.itemProportions},null,8,["barang-metrics","barang-data","barang-metric","request-data","receipt-data","low-stock-items","most-frequently-used-items","item-proportions"])):A("",!0)]),s.value?(w(),S("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:g},[i("div",{class:"bg-white rounded-2xl shadow-xl max-w-md w-full mx-4 max-h-[80vh] overflow-hidden",onClick:h[3]||(h[3]=ns(()=>{},["stop"]))},[i("div",zn,[i("div",Vn,[i("h3",Un,"Libur pada "+v(l.value),1),i("button",{onClick:g,class:"text-gray-400 hover:text-gray-600 transition-colors"},[...h[5]||(h[5]=[i("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),i("div",qn,[r.value.length>0?(w(),S("div",Gn,[i("ul",Yn,[(w(!0),S(O,null,W(r.value,d=>(w(),S("li",{key:d.title,class:"flex items-center gap-3 p-3 bg-blue-50 rounded-lg"},[h[6]||(h[6]=i("div",{class:"w-3 h-3 bg-blue-500 rounded-full"},null,-1)),i("span",Xn,v(d.title),1)]))),128))])])):(w(),S("div",Kn,[...h[7]||(h[7]=[i("div",{class:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center"},[i("svg",{class:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1),i("p",{class:"text-gray-500 text-sm"},"Tidak ada hari libur pada tanggal ini",-1)])]))]),i("div",{class:"p-6 border-t border-gray-200"},[i("button",{onClick:g,class:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors"}," Tutup ")])])])):A("",!0)],64))}});export{nr as default};
