import{y as B,e as i,o as d,a as e,d as x,z as J,u as fe,U as Y,b as n,f as g,c as Q,E as C,G as V,n as b,F as M,i as z,t as c,w as H,g as o,h as $,bu as X,H as Z}from"./app-CJkCV51W.js";import{_ as xe}from"./AppLayout-BlEKf3Fz.js";import{P as be}from"./PlusSquareIcon-DA_kLpvy.js";import{S as he}from"./SearchIcon-B0safoHl.js";import{S as ve}from"./ShowIcon-CiA5nZAB.js";import{E as ke}from"./EditIcon-B9T5EQzJ.js";import{U as A,D as E}from"./DownIcon-C_yWQF6q.js";import{u as we,U as _e}from"./index.esm-BvO6AIEM.js";import{T as Se}from"./TrashIcon-DSAHmBPH.js";import{_ as De}from"./Breadcrumb-BJQpsGcc.js";import{_ as Ce}from"./Modal-Ddbg9qvg.js";import{_ as Ve}from"./ConfirmModal-DAlWp-FQ.js";import{_ as $e}from"./Pagination-C2dOEo8X.js";import{_ as ee}from"./Select-D-70zGQm.js";import{u as Be}from"./useAuth-DvuTgkfF.js";import"./FlashMessage-D4C-FUm8.js";import"./LayoutShell-FWpWJLvi.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./LayoutShell.vue_vue_type_style_index_0_lang-CRqqKi3W.js";const je={class:"flex rounded-lg shadow-sm"},Ie=["value"],Te={__name:"RupiahInput",props:{modelValue:{type:[Number,String],default:""}},emits:["update:modelValue"],setup(l,{emit:_}){const j=l,K=_,P=p=>new Intl.NumberFormat("id-ID").format(p||0),L=B(()=>j.modelValue?P(j.modelValue):"");function N(p){const h=p.target.value.replace(/\D/g,""),v=h?parseInt(h,10):"";K("update:modelValue",v)}function m(p){!/[0-9]/.test(p.key)&&!["Backspace","Delete","ArrowLeft","ArrowRight","Tab"].includes(p.key)&&p.preventDefault()}return(p,h)=>(d(),i("div",je,[h[0]||(h[0]=e("span",{class:"inline-flex items-center px-2 rounded-l-lg border border-r-0 border-gray-300 bg-gray-100 text-gray-600 text-sm"}," Rp. ",-1)),e("input",{type:"text",value:L.value,onInput:N,onKeydown:m,placeholder:"Masukkan nominal pembayaran",class:"flex-1 min-w-0 block w-full rounded-r-lg text-sm placeholder-gray-500 text-gray-600 placeholder:font-normal font-medium border-gray-300 dark:border-white dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500"},null,40,Ie)]))}},Ue={class:"flex overflow-hidden flex-col gap-3 px-3 h-full"},Me={class:"flex justify-between items-center h-10"},Ae={class:"flex flex-col overflow-hidden rounded-lg border border-gray-200 bg-white dark:border-gray-600 dark:bg-white/[0.03]"},Ee={class:"flex flex-col gap-2 px-8 h-16 sm:flex-row sm:items-center sm:justify-between"},Ke={class:"flex gap-3 items-center"},Pe={class:"relative py-2"},Le={class:"absolute left-4 top-1/2 -translate-y-1/2"},Ne={class:"overflow-auto","data-simplebar":""},Re={class:"min-w-full text-sm"},Fe={class:"flex gap-2 justify-center items-center px-3 cursor-pointer"},ze={class:"flex flex-col items-center"},He={class:"flex gap-2 justify-center items-center px-3"},Oe={class:"flex flex-col items-center"},We={class:"flex gap-2 justify-center items-center px-3"},qe={class:"flex flex-col items-center"},Ge={class:"flex gap-2 justify-center items-center px-3"},Je={class:"flex flex-col items-center"},Ye={class:"bg-gray-50"},Qe={class:"px-2 py-2 border border-gray-200 dark:border-gray-600"},Xe={class:"flex flex-col gap-1"},Ze={class:"py-2.5 border-gray-200 border-y dark:border-gray-600"},et={class:"flex justify-center items-center whitespace-nowrap"},tt={class:"px-3 text-gray-500 dark:text-gray-400"},rt={class:"py-2.5 border border-gray-200 dark:border-gray-600"},at={class:"flex gap-3 items-center whitespace-nowrap ps-5"},st=["src"],ot={class:"flex flex-col leading-tight"},lt={class:"font-medium text-gray-800 dark:text-white/90"},dt={class:"text-gray-500 dark:text-gray-400"},it={class:"py-2.5 border border-gray-200 dark:border-gray-600"},nt={class:"flex justify-center items-center px-3 whitespace-nowrap"},ct={class:"text-gray-500 dark:text-gray-400"},ut={class:"py-2.5 border border-gray-200 dark:border-gray-600"},gt={class:"flex justify-center items-center px-3 whitespace-nowrap"},yt={class:"text-gray-500 dark:text-gray-400"},mt={class:"py-2.5 border border-gray-200 dark:border-gray-600"},pt={class:"flex justify-center items-center px-3 whitespace-nowrap"},ft={class:"text-gray-500 dark:text-gray-400"},xt={class:"py-2.5 border-gray-200 border-y dark:border-gray-600"},bt={class:"flex gap-3 justify-center px-4 whitespace-nowrap"},ht=["onClick"],vt=["onClick"],kt={key:1},wt={class:"space-y-3"},_t={class:"flex gap-2 justify-between"},St={class:"space-y-1 text-sm w-[50%]"},Dt={class:"space-y-1 text-sm w-[50%]"},Ct={key:0,class:"text-sm text-red-500 text-end"},Vt={class:"flex gap-2 justify-between"},$t={class:"space-y-1 text-sm w-[35%]"},Bt={key:0,class:"text-sm text-red-500"},jt={class:"space-y-1 text-sm w-[30%]"},It={class:"flex rounded-lg shadow-sm"},Tt={key:0,class:"text-sm text-red-500"},Ut={class:"space-y-1 text-sm w-[35%]"},Mt={key:0,class:"text-sm text-red-500"},At={class:"space-y-1 text-sm"},Et={key:0,class:"text-sm text-red-500"},Kt={class:"space-y-1 text-sm"},Pt={key:0,class:"mb-4"},Lt={class:"grid grid-cols-3 gap-3"},Nt=["src","alt"],Rt=["onClick"],Ft={class:"flex gap-8 items-center justify-stretch"},zt={class:"flex flex-col text-start"},Ht={key:0},Ot={key:1},Wt={class:"mt-2 text-sm text-gray-600"},qt={key:1,class:"mt-2 text-sm font-medium text-red-600 dark:text-red-400"},Gt={key:2,class:"mt-2 text-sm font-medium text-red-600 dark:text-red-400"},mr=Object.assign({layout:xe},{__name:"Index",props:{vehicleServices:Object,vehicles:{type:Array,default:()=>[]},branches:{type:Array,default:()=>[]},search:String,sortBy:String,sortDirection:String},setup(l){const{can:_}=Be(),j=B(()=>_("vehicle_services.view")),K=B(()=>_("vehicle_services.create")),P=B(()=>_("vehicle_services.delete")),L=B(()=>_("vehicle_services.edit")),N=[{label:"Kendaraan"},{label:"Riwayat Service"}],m=l;function p(s){return new Date(s).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"})}function h(s){return s?"Rp "+Number(s).toLocaleString("id-ID"):"Rp 0"}function v({sortBy:s=m.sortBy,sortDirection:t=m.sortDirection}={}){Z.get(route("vehicle-services.index"),{search:I.value,sortBy:s,sortDirection:t,date_from:k.value.date_from||null,date_to:k.value.date_to||null},{preserveScroll:!0,preserveState:!0,replace:!0})}const I=x(m.search||""),k=x({date_from:"",date_to:""});function O(){v()}function te(){k.value={date_from:"",date_to:""},v()}let W=null;J(I,()=>{clearTimeout(W),W=setTimeout(()=>{v()},400)});function T(s){let t="asc";m.sortBy===s&&m.sortDirection==="asc"&&(t="desc"),v({sortBy:s,sortDirection:t})}const U=x(!1),S=x(!1),f=x([]),u=x(""),r=fe({id:null,branch_id:"",vehicle_id:"",note:"",date:"",distance:"",cost:"",files:[],deleted_attachments:[]}),re=B(()=>r.branch_id?m.vehicles.filter(s=>s.branch_id===r.branch_id):m.vehicles);J(()=>r.vehicle_id,s=>{const t=m.vehicles.find(y=>y.id===s);t&&(r.branch_id=t.branch_id)});function ae(s,t){r.files=s,s.length>0&&(u.value=""),t.forEach(y=>{y.errors.forEach(D=>{D.code==="file-too-large"?u.value=`File ${y.file.name} terlalu besar!`:D.code==="file-invalid-type"?u.value=`Tipe file ${y.file.name} tidak diperbolehkan!`:D.code==="too-many-files"?u.value="Maksimal hanya 5 file yang diperbolehkan!":console.warn("Unhandled dropzone error:",D.code,y.file)})})}const{getRootProps:se,getInputProps:oe,isDragActive:le}=we({onDrop:ae,multiple:!0,accept:"image/jpeg, image/png",maxFiles:5,maxSize:5*1024*1024});function de(){r.reset(),r.deleted_attachments=[],f.value=[],u.value="",S.value=!1,U.value=!0}function ie(s){r.id=s.id,r.vehicle_id=s.vehicle_id,r.note=s.note,r.distance=s.distance,r.date=s.date,r.cost=s.cost,r.files=[],r.deleted_attachments=[],u.value="",f.value=s.attachments||[],w.value=s,S.value=!0,U.value=!0}function R(){U.value=!1,S.value=!1,w.value=null,f.value=[],u.value="",r.reset(),r.deleted_attachments=[],r.clearErrors()}function ne(s){f.value=f.value.filter(t=>t.id!==s),r.deleted_attachments.includes(s)||r.deleted_attachments.push(s),u.value=""}function ce(s){return s.url?s.url.startsWith("http")||s.url.startsWith("/")?s.url:`/storage/${s.url}`:`/storage/${s.file_path}`}function ue(s){s.target.src="/images/placeholder.png"}function ge(){if(u.value="",S.value){const s=f.value.length,t=r.files.length;if(s===0&&t===0){u.value="Minimal harus ada 1 lampiran. Silakan tambahkan file baru atau batalkan penghapusan gambar yang ada.";return}const y={...r.data(),_method:"PUT",deleted_attachments:r.deleted_attachments};r.files.length>0&&(y.files=r.files),r.transform(()=>y).post(route("vehicle-services.update",r.id),{onSuccess:R})}else{if(r.files.length===0){u.value="Lampiran / Bukti Service wajib diisi.";return}r.post(route("vehicle-services.store"),{onSuccess:R})}}const w=x(null),F=x(!1),ye=s=>{w.value=s,F.value=!0},q=()=>{w.value=null,F.value=!1},me=()=>{Z.delete(route("vehicle-services.destroy",w.value.id),{onSuccess:()=>{q(),v()},preserveScroll:!0})};return(s,t)=>{const y=Y("Head"),D=Y("Link");return d(),i(M,null,[n(y,{title:"Daftar Service Kendaraan"}),e("div",Ue,[e("div",Me,[n(De,{items:N}),K.value?(d(),i("button",{key:0,onClick:de,type:"button",class:"flex gap-2 items-center px-3 py-2 text-white bg-blue-500 rounded"},[n(be),t[13]||(t[13]=e("span",{class:"hidden text-sm md:block"},"Tambah Data Service",-1))])):g("",!0)]),e("div",Ae,[e("div",Ee,[t[14]||(t[14]=e("div",{class:"font-bold text-gray-700 md:text-xl dark:text-gray-300"}," Daftar Service Kendaraan ",-1)),e("div",Ke,[e("div",Pe,[e("div",Le,[n(he,{class:"text-gray-400"})]),C(e("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>I.value=a),type:"text",placeholder:"Cari data service",class:"h-10 w-full rounded-lg border border-gray-200 bg-transparent py-2.5 pl-12 pr-4 text-sm text-gray-800 placeholder:text-gray-400 focus:border-blue-300 focus:outline-hidden focus:ring-3 focus:ring-blue-500/10 dark:border-gray-700 dark:bg-gray-800 dark:text-white/90 dark:placeholder:text-gray-400 dark:focus:border-blue-800 xl:w-[200px]"},null,512),[[V,I.value]])])])]),e("div",Ne,[e("table",Re,[e("thead",null,[e("tr",null,[t[19]||(t[19]=e("th",{class:"py-2.5 bg-gray-100 border-gray-200 border-y dark:border-gray-600 dark:bg-gray-800"},[e("div",{class:"flex justify-center items-center px-3"},[e("p",{class:"flex flex-col items-center font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"}," No. ")])],-1)),e("th",{onClick:t[1]||(t[1]=a=>T("name")),class:"py-3 bg-gray-100 border border-gray-200 dark:border-gray-600 dark:bg-gray-800"},[e("div",Fe,[t[15]||(t[15]=e("p",{class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"}," Nama Kendaraan ",-1)),e("div",ze,[n(A,{class:b(["-mb-1",l.sortBy==="name"&&l.sortDirection==="asc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"]),n(E,{class:b(["-mt-1",l.sortBy==="name"&&l.sortDirection==="desc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"])])])]),e("th",{onClick:t[2]||(t[2]=a=>T("license_code")),class:"py-3 bg-gray-100 border border-gray-200 cursor-pointer dark:border-gray-600 dark:bg-gray-800"},[e("div",He,[t[16]||(t[16]=e("p",{class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"}," Plat Nomor ",-1)),e("div",Oe,[n(A,{class:b(["-mb-1",l.sortBy==="license_code"&&l.sortDirection==="asc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"]),n(E,{class:b(["-mt-1",l.sortBy==="license_code"&&l.sortDirection==="desc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"])])])]),e("th",{onClick:t[3]||(t[3]=a=>T("date")),class:"py-3 bg-gray-100 border border-gray-200 cursor-pointer dark:border-gray-600 dark:bg-gray-800"},[e("div",We,[t[17]||(t[17]=e("p",{class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"}," Tanggal Service ",-1)),e("div",qe,[n(A,{class:b(["-mb-1",l.sortBy==="date"&&l.sortDirection==="asc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"]),n(E,{class:b(["-mt-1",l.sortBy==="date"&&l.sortDirection==="desc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"])])])]),e("th",{onClick:t[4]||(t[4]=a=>T("cost")),class:"py-3 bg-gray-100 border border-gray-200 cursor-pointer dark:border-gray-600 dark:bg-gray-800"},[e("div",Ge,[t[18]||(t[18]=e("p",{class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"}," Biaya Service ",-1)),e("div",Je,[n(A,{class:b(["-mb-1",l.sortBy==="cost"&&l.sortDirection==="asc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"]),n(E,{class:b(["-mt-1",l.sortBy==="cost"&&l.sortDirection==="desc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"])])])]),t[20]||(t[20]=e("th",{class:"bg-gray-100 border-gray-200 border-y dark:border-gray-600 dark:bg-gray-800"},[e("div",{class:"flex justify-center items-center"},[e("p",{class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"}," Aksi ")])],-1))])]),e("thead",Ye,[e("tr",null,[t[21]||(t[21]=e("th",{class:"px-2 py-2 border border-gray-200 dark:border-gray-600"},null,-1)),t[22]||(t[22]=e("th",{class:"px-2 py-2 border border-gray-200 dark:border-gray-600"},null,-1)),t[23]||(t[23]=e("th",{class:"px-2 py-2 border border-gray-200 dark:border-gray-600"},null,-1)),e("th",Qe,[e("div",Xe,[C(e("input",{"onUpdate:modelValue":t[5]||(t[5]=a=>k.value.date_from=a),type:"date",placeholder:"Dari",class:"w-full h-8 px-2 text-xs rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",onChange:O},null,544),[[V,k.value.date_from]]),C(e("input",{"onUpdate:modelValue":t[6]||(t[6]=a=>k.value.date_to=a),type:"date",placeholder:"Sampai",class:"w-full h-8 px-2 text-xs rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",onChange:O},null,544),[[V,k.value.date_to]])])]),t[24]||(t[24]=e("th",{class:"px-2 py-2 border border-gray-200 dark:border-gray-600"},null,-1)),e("th",{class:"px-2 py-2 border border-gray-200 dark:border-gray-600"},[e("button",{onClick:te,class:"px-2 py-1 text-xs text-gray-600 bg-white rounded border border-gray-300 hover:bg-gray-50"}," Clear ")])])]),e("tbody",null,[l.vehicleServices.data&&l.vehicleServices.data.length>0?(d(!0),i(M,{key:0},z(l.vehicleServices.data,(a,G)=>(d(),i("tr",{key:a.id,class:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800"},[e("td",Ze,[e("div",et,[e("p",tt,c((l.vehicleServices.current_page-1)*l.vehicleServices.per_page+G+1)+". ",1)])]),e("td",rt,[e("div",at,[e("img",{class:"object-cover w-10 h-10 rounded-full",src:a.photo?`/storage/${a.photo}`:`https://ui-avatars.com/api/?name=${encodeURIComponent(a.name)}&background=3b82f6&color=fff`,alt:"Vehicle photo",loading:"lazy"},null,8,st),e("div",ot,[e("p",lt,c(a.name),1),e("span",dt,c(a.category),1)])])]),e("td",it,[e("div",nt,[e("p",ct,c(a.vehicle.license_code),1)])]),e("td",ut,[e("div",gt,[e("p",yt,c(p(a.date)),1)])]),e("td",mt,[e("div",pt,[e("p",ft,c(h(a.cost)),1)])]),e("td",xt,[e("div",bt,[j.value?(d(),Q(D,{key:0,href:s.route("vehicle-services.show",a.id)},{default:H(()=>[n(ve,{class:"text-blue-400"})]),_:1},8,["href"])):g("",!0),L.value?(d(),i("button",{key:1,onClick:pe=>ie(a)},[n(ke,{class:"text-yellow-500"})],8,ht)):g("",!0),P.value?(d(),i("button",{key:2,onClick:pe=>ye(a)},[n(Se,{class:"text-red-500"})],8,vt)):g("",!0)])])]))),128)):(d(),i("tr",kt,[...t[25]||(t[25]=[e("td",{colspan:"8",class:"py-6 font-medium text-center text-gray-500 dark:text-gray-400"}," Tidak ada servis ditemukan. ",-1)])]))])]),n(Ce,{show:U.value,title:S.value?`Edit ${w.value?.name}`:"Tambah Data Service",confirmText:"Simpan",maxWidth:"xl",onClose:R,onConfirm:ge},{default:H(()=>[e("div",wt,[t[36]||(t[36]=e("div",{class:"font-semibold text-gray-900 dark:text-white"}," Detail Kendaraan ",-1)),e("div",_t,[e("div",St,[t[26]||(t[26]=e("label",{for:"vehicle_id",class:"text-gray-900 dark:text-white"},"Pilih Cabang",-1)),n(ee,{modelValue:o(r).branch_id,"onUpdate:modelValue":t[7]||(t[7]=a=>o(r).branch_id=a),label:"Pilih kantor cabang",items:l.branches},null,8,["modelValue","items"])]),e("div",Dt,[t[27]||(t[27]=e("label",{for:"vehicle_id",class:"text-gray-900 dark:text-white"},[$("Pilih Kendaraan"),e("span",{class:"text-red-500"},"*")],-1)),n(ee,{modelValue:o(r).vehicle_id,"onUpdate:modelValue":t[8]||(t[8]=a=>o(r).vehicle_id=a),items:re.value,label:"Pilih kendaraan",labelKey:"license_code",searchKey:"license_code"},{item:H(({item:a})=>[e("span",null,c(a.license_code)+" - "+c(a.type.name),1)]),_:1},8,["modelValue","items"])])]),o(r).errors.vehicle_id?(d(),i("div",Ct,c(o(r).errors.vehicle_id[0]),1)):g("",!0),t[37]||(t[37]=e("div",{class:"font-semibold text-gray-900 dark:text-white"}," Detail Service ",-1)),e("div",Vt,[e("div",$t,[t[28]||(t[28]=e("label",{for:"date",class:"text-gray-900 dark:text-white"},[$("Tanggal Service"),e("span",{class:"text-red-500"},"*")],-1)),C(e("input",{id:"date",type:"date","onUpdate:modelValue":t[9]||(t[9]=a=>o(r).date=a),class:"px-4 w-full text-sm font-medium placeholder-gray-500 text-gray-600 rounded-lg border-gray-300 placeholder:font-normal dark:border-white dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500"},null,512),[[V,o(r).date]]),o(r).errors.date?(d(),i("div",Bt,c(o(r).errors.date[0]),1)):g("",!0)]),e("div",jt,[t[30]||(t[30]=e("label",{for:"distance",class:"text-gray-900 dark:text-white"},[$("Jarak Tempuh"),e("span",{class:"text-red-500"},"*")],-1)),e("div",It,[C(e("input",{id:"distance",type:"number","onUpdate:modelValue":t[10]||(t[10]=a=>o(r).distance=a),class:"px-4 w-full text-sm font-medium placeholder-gray-500 text-gray-600 rounded-l-lg border-gray-300 placeholder:font-normal dark:border-white dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"Jarak"},null,512),[[V,o(r).distance]]),t[29]||(t[29]=e("span",{class:"inline-flex items-center px-2 text-sm text-gray-600 bg-gray-100 rounded-r-lg border border-l-0 border-gray-300"}," KM ",-1))]),o(r).errors.distance?(d(),i("div",Tt,c(o(r).errors.distance[0]),1)):g("",!0)]),e("div",Ut,[t[31]||(t[31]=e("label",{for:"cost",class:"text-gray-900 dark:text-white"},[$("Biaya Service"),e("span",{class:"text-red-500"},"*")],-1)),n(Te,{modelValue:o(r).cost,"onUpdate:modelValue":t[11]||(t[11]=a=>o(r).cost=a)},null,8,["modelValue"]),o(r).errors.cost?(d(),i("div",Mt,c(o(r).errors.cost[0]),1)):g("",!0)])]),e("div",At,[t[32]||(t[32]=e("label",{for:"note",class:"text-gray-900 dark:text-white"},[$("Catatan Service"),e("span",{class:"text-red-500"},"*")],-1)),C(e("textarea",{id:"note","onUpdate:modelValue":t[12]||(t[12]=a=>o(r).note=a),rows:"2",class:"px-4 w-full text-sm font-medium placeholder-gray-500 text-gray-600 rounded-lg border-gray-300 placeholder:font-normal dark:border-white dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"Masukkan deskripsi checklist"},null,512),[[V,o(r).note]]),o(r).errors.note?(d(),i("div",Et,c(o(r).errors.note[0]),1)):g("",!0)]),e("div",Kt,[t[35]||(t[35]=e("label",{for:"attachment",class:"text-gray-900 dark:text-white"},[$("Lampiran / Bukti Service"),e("span",{class:"text-red-500"},"*")],-1)),S.value&&f.value.length>0?(d(),i("div",Pt,[t[34]||(t[34]=e("p",{class:"mb-2 text-sm text-gray-600 dark:text-gray-400"},"Gambar yang sudah diupload:",-1)),e("div",Lt,[(d(!0),i(M,null,z(f.value,a=>(d(),i("div",{key:a.id,class:"relative group"},[e("img",{src:ce(a),alt:`Attachment ${a.id}`,class:"object-cover w-full h-32 rounded-lg border border-gray-300 dark:border-gray-600",onError:ue},null,40,Nt),e("button",{type:"button",onClick:G=>ne(a.id),class:"absolute top-1 right-1 p-1 text-white bg-red-500 rounded-full opacity-0 transition-opacity group-hover:opacity-100 hover:bg-red-600",title:"Hapus gambar"},[...t[33]||(t[33]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Rt)]))),128))])])):g("",!0),e("div",X(o(se)(),{class:"p-4 text-center text-blue-500 bg-sky-400 bg-opacity-5 rounded-lg border-2 border-blue-300 cursor-pointer border-1"}),[e("input",X({id:"attachment"},o(oe)()),null,16),e("div",Ft,[n(_e,{class:"w-12 h-12 text-blue-300"}),e("div",zt,[o(le)?(d(),i("p",Ht," Lepaskan file di sini ... ")):(d(),i("p",Ot," Drag & drop file di sini, atau klik untuk pilih ")),e("ul",Wt,[(d(!0),i(M,null,z(o(r).files,a=>(d(),i("li",{key:a.name},c(a.name)+" ("+c(Math.round(a.size/1024))+" KB) ",1))),128))])])])],16),o(r).errors.files?(d(),i("div",qt,c(Array.isArray(o(r).errors.files)?o(r).errors.files[0]:o(r).errors.files),1)):g("",!0),u.value?(d(),i("div",Gt,c(u.value),1)):g("",!0)])])]),_:1},8,["show","title"]),n(Ve,{show:F.value,question:"Yakin ingin menghapus",selected:`${w.value?.name}`,title:"Hapus Data Service",confirmText:"Ya, Hapus!",maxWidth:"md",onClose:q,onConfirm:me},null,8,["show","selected"])]),l.vehicleServices.data&&l.vehicleServices.data.length>0?(d(),Q($e,{key:0,pagination:l.vehicleServices},null,8,["pagination"])):g("",!0)])])],64)}}});export{mr as default};
