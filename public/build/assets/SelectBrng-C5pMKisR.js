import{d as y,y as m,l as D,s as I,e as d,o as u,a as o,E as v,t as n,V as $,G as E,f as F,K as w,F as M,i as N,r as x}from"./app-CJkCV51W.js";const j=["disabled"],T={class:"truncate"},U={class:"absolute mt-2 w-full bg-white border border-gray-200 rounded-lg shadow-lg dark:bg-gray-700 dark:border-gray-600 z-50"},W={class:"p-2"},q={class:"max-h-24 overflow-y-auto","data-simplebar":""},z=["checked"],A={class:"font-medium text-gray-700"},G=["onClick"],O=["checked"],P={key:0,class:"px-4 py-2 text-gray-500 italic"},J={__name:"SelectBrng",props:{items:{type:Array,default:()=>[]},modelValue:{type:[String,Number,null],default:null},label:{type:String,default:"Pilih Item"},labelKey:{type:String,default:"name"},searchKey:{type:String,default:"name"},disabled:{type:Boolean,default:!1},isSuperadmin:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(r,{emit:V}){const e=r,f=V,s=y(!1),i=y(""),c=y(null),g=m(()=>{const t=e.items.find(l=>l.id===e.modelValue);if(t)return t;if(typeof e.modelValue=="string"&&e.modelValue){const l=e.modelValue.toString().toLowerCase();return e.items.find(a=>(a[e.labelKey]||"").toString().toLowerCase()===l)||null}return null}),C=m(()=>g.value?g.value[e.labelKey]:typeof e.modelValue=="string"&&e.modelValue?e.modelValue:e.label);function S(t){return e.labelKey&&t[e.labelKey]?t.type?.name?`${t[e.labelKey]} - ${t.type.name}`:t[e.labelKey]:t.name||""}const b=m(()=>{const t=(i.value||"").toLowerCase();return(e.items||[]).filter(l=>{const a=(l[e.searchKey]||"").toString().toLowerCase(),k=S(l).toLowerCase();return a.includes(t)||k.includes(t)})});function K(){s.value=!s.value}function p(){s.value=!1}function L(t){f("update:modelValue",t.id),p()}function _(){f("update:modelValue",null),p()}function B(t){return e.modelValue===t.id||typeof e.modelValue=="string"&&(t[e.labelKey]||"")===e.modelValue}function h(t){c.value&&!c.value.contains(t.target)&&p()}return D(()=>{document.addEventListener("click",h)}),I(()=>{document.removeEventListener("click",h)}),(t,l)=>(u(),d("div",{class:"relative",ref_key:"dropdownWrapper",ref:c},[o("button",{onClick:K,disabled:e.disabled,type:"button",class:"w-full rounded-md border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 bg-white dark:bg-gray-700 dark:text-white dark:border-gray-600 flex justify-between items-center"},[o("span",T,n(C.value),1),l[3]||(l[3]=o("svg",{class:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1))],8,j),v(o("div",U,[o("div",W,[v(o("input",{"onUpdate:modelValue":l[0]||(l[0]=a=>i.value=a),type:"text",placeholder:"Cari...",class:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-sky-500 dark:bg-gray-600 dark:text-white"},null,512),[[E,i.value]])]),o("ul",q,[o("li",{class:"px-4 py-2 cursor-pointer flex items-center gap-2 hover:bg-gray-100 dark:hover:bg-gray-600 border-b border-gray-200",onClick:_},[o("input",{type:"radio",class:"text-blue-600",checked:!r.modelValue||r.modelValue===null,onChange:l[1]||(l[1]=w(()=>{},["stop"]))},null,40,z),o("span",A,n(r.label),1)]),(u(!0),d(M,null,N(b.value,a=>(u(),d("li",{key:a.id,class:"px-4 py-2 cursor-pointer flex items-center gap-2 hover:bg-gray-100 dark:hover:bg-gray-600",onClick:k=>L(a)},[o("input",{type:"radio",class:"text-blue-600",checked:B(a),onChange:l[2]||(l[2]=w(()=>{},["stop"]))},null,40,O),r.isSuperadmin?x(t.$slots,"item",{key:1,item:a},()=>[o("span",null,n(a.name)+" ("+n(a.branch?.name||"-")+")",1)]):x(t.$slots,"item",{key:0,item:a},()=>[o("span",null,n(a.name),1)])],8,G))),128)),b.value.length===0?(u(),d("li",P," Tidak ada hasil ")):F("",!0)])],512),[[$,s.value]])],512))}};export{J as _};
