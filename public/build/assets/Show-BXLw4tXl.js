import{_ as j}from"./AppLayout-BlEKf3Fz.js";import{_ as I}from"./Breadcrumb-BJQpsGcc.js";import{d as S,y,e as d,o as n,b as c,a as t,g as b,D as N,w as T,h as k,P as C,t as s,F as g,i as u,n as m,f as h}from"./app-CJkCV51W.js";import{u as D}from"./useAuth-DvuTgkfF.js";import"./FlashMessage-D4C-FUm8.js";import"./LayoutShell-FWpWJLvi.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./LayoutShell.vue_vue_type_style_index_0_lang-CRqqKi3W.js";const M={class:"flex flex-col h-full gap-3 px-3 overflow-hidden"},O={class:"flex overflow-hidden flex-col gap-3 p-6 bg-white rounded-lg border border-gray-200 dark:border-gray-600 dark:bg-white/[0.03]"},$={class:"flex items-center justify-between"},K={class:"flex items-center gap-3"},L={class:"grid grid-cols-1 gap-4 lg:grid-cols-3"},R={class:"lg:col-span-2 bg-white rounded-lg border border-gray-200 dark:border-gray-600 dark:bg-white/[0.03]"},A={class:"p-6"},P={class:"flex items-start gap-4"},V={class:"flex-shrink-0"},F=["src","alt"],z={class:"flex-1"},G={class:"text-xl font-bold text-gray-800 dark:text-white"},H={class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},q={class:"flex gap-4 mt-4"},E={class:"text-sm font-medium text-gray-800 dark:text-white"},U={class:"text-sm font-medium text-gray-800 dark:text-white"},J={class:"flex items-center gap-2 mt-4"},Q={class:"text-2xl font-bold text-gray-800 dark:text-white"},W={class:"bg-white rounded-lg border border-gray-200 dark:border-gray-600 dark:bg-white/[0.03]"},X={class:"p-6"},Y={class:"flex items-start gap-3"},Z={class:"flex-1"},tt={class:"text-2xl font-bold text-gray-800 dark:text-white"},et={class:"bg-white rounded-lg border border-gray-200 dark:border-gray-600 dark:bg-white/[0.03]"},rt={class:"p-6"},at={class:"flex items-start gap-3"},st={class:"flex-1"},ot={class:"text-2xl font-bold text-gray-800 dark:text-white"},dt={class:"bg-white rounded-lg border border-gray-200 dark:border-gray-600 dark:bg-white/[0.03]"},nt={class:"px-6 pt-4 border-b border-gray-200 dark:border-gray-600"},lt={class:"flex items-center gap-4"},it=["onClick"],gt={class:"p-6"},ct={key:0,class:"overflow-auto","data-simplebar":""},ut={class:"min-w-full text-sm"},xt={class:"p-3 text-gray-800 dark:text-white"},yt={class:"p-3 text-gray-800 dark:text-white"},bt={key:1},kt={key:1,class:"space-y-3"},mt={class:"flex items-start justify-between"},ht={class:"flex-1"},ft={class:"flex items-center gap-2 mb-2"},vt={class:"text-xs font-medium text-gray-500 dark:text-gray-400"},_t={class:"flex gap-4 text-sm"},pt={class:"font-medium text-gray-800 dark:text-white"},wt={class:"font-medium text-gray-800 dark:text-white"},Bt={key:0,class:"text-green-600 dark:text-green-400"},jt={key:1,class:"text-red-600 dark:text-red-400"},It={class:"font-medium text-gray-800 dark:text-white"},St={class:"text-right"},Nt={class:"text-xs text-gray-500 dark:text-gray-400"},Tt={class:"text-xs text-gray-500 dark:text-gray-400"},Ct={key:0,class:"pt-2 mt-2 border-t border-gray-100 dark:border-gray-700"},Dt={class:"text-xs text-gray-600 dark:text-gray-400"},Mt={key:1,class:"p-8 text-center text-gray-500 dark:text-gray-400"},Ot={components:{InfoRow:{props:{label:String,value:[String,Number,null]},template:`
        <div>
          <label class='block mb-1 text-sm text-gray-600'>{{ label }}</label>
          <div class='p-2 min-h-[40px] rounded border bg-gray-50 text-gray-800'>{{ value ?? '-' }}</div>
        </div>`}}},Gt=Object.assign(Ot,{layout:j},{__name:"Show",props:{item:Object,stocksByBranch:{type:Array,default:()=>[]},movements:{type:Object,default:()=>({data:[]})},stockIn:{type:Number,default:0},stockOut:{type:Number,default:0}},setup(a){D();const x=a,i=S("warehouse"),f=y(()=>[{label:"Gudang",value:"warehouse"},{label:"Riwayat",value:"history"}]),v=y(()=>x.item?.last_stock??0),_=[{label:"Penyimpanan"},{label:"Daftar Barang",href:route("items.index")},{label:x.item?.name||"Detail"}];function l(o){const e=Number(o??0);return Number.isFinite(e)?e.toLocaleString("id-ID"):String(o)}function p(o){if(!o)return"-";const e=new Date(o);return isNaN(e.getTime())?String(o):e.toLocaleString("id-ID")}function w(o){return{In:"Masuk",Out:"Keluar",adjust_in:"Penyesuaian (+)",adjust_out:"Penyesuaian (-)",transfer_in:"Transfer Masuk",transfer_out:"Transfer Keluar",return_in:"Retur Masuk"}[o]||o}function B(o){return o.reference_type?`${o.reference_type} #${o.reference_id||"-"}`:"-"}return(o,e)=>(n(),d(g,null,[c(b(N),{title:`Detail Barang - ${a.item?.name||""}`},null,8,["title"]),t("div",M,[t("div",O,[t("div",$,[t("div",K,[e[1]||(e[1]=t("div",{class:"flex items-center justify-center w-12 h-12 bg-blue-100 rounded-lg dark:bg-blue-900/30"},[t("svg",{class:"text-blue-600 w-7 h-7 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})])],-1)),t("div",null,[e[0]||(e[0]=t("h1",{class:"text-xl font-bold text-gray-800 dark:text-white"},"Detail Barang",-1)),c(I,{items:_})])]),c(b(C),{href:o.route("items.index"),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-700"},{default:T(()=>[...e[2]||(e[2]=[k(" Kembali ",-1)])]),_:1},8,["href"])])]),t("div",L,[t("div",R,[t("div",A,[t("div",P,[t("div",V,[t("img",{src:a.item?.photo?`/storage/${a.item.photo}`:`https://ui-avatars.com/api/?name=${encodeURIComponent(a.item?.name||"Item")}&background=e5e7eb&color=374151&size=128`,alt:a.item?.name,class:"object-cover w-24 h-24 border border-gray-200 rounded-lg dark:border-gray-600"},null,8,F)]),t("div",z,[t("h2",G,s(a.item?.name),1),t("p",H,s(a.item?.code),1),t("div",q,[t("div",null,[e[3]||(e[3]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Kategori",-1)),t("p",E,s(a.item?.category||"-"),1)]),t("div",null,[e[4]||(e[4]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Satuan",-1)),t("p",U,s(a.item?.unit||"-"),1)])]),t("div",J,[e[5]||(e[5]=t("span",{class:"text-xs text-gray-500 dark:text-gray-400"},"Total Persediaan",-1)),t("span",Q,s(l(v.value)),1)])])])])]),t("div",W,[t("div",X,[t("div",Y,[e[7]||(e[7]=t("div",{class:"flex items-center justify-center w-12 h-12 bg-green-100 rounded-lg dark:bg-green-900/30"},[t("svg",{class:"w-6 h-6 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4M12 4v16"})])],-1)),t("div",Z,[t("p",tt,s(l(a.stockIn)),1),e[6]||(e[6]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Total Stok Masuk (Bulan ini)",-1))])])])])]),t("div",et,[t("div",rt,[t("div",at,[e[9]||(e[9]=t("div",{class:"flex items-center justify-center w-12 h-12 bg-red-100 rounded-lg dark:bg-red-900/30"},[t("svg",{class:"w-6 h-6 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})])],-1)),t("div",st,[t("p",ot,s(l(a.stockOut)),1),e[8]||(e[8]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Total Stok Keluar (Bulan ini)",-1))])])])]),t("div",dt,[t("div",nt,[t("div",lt,[(n(!0),d(g,null,u(f.value,r=>(n(),d("button",{key:r.value,class:m(["px-4 py-2 text-sm font-medium rounded-t transition-colors",i.value===r.value?"text-blue-600 border-b-2 border-blue-600 dark:text-blue-400":"text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200"]),onClick:$t=>i.value=r.value},s(r.label),11,it))),128))])]),t("div",gt,[i.value==="warehouse"?(n(),d("div",ct,[t("table",ut,[e[11]||(e[11]=t("thead",null,[t("tr",null,[t("th",{class:"p-3 bg-gray-100 border-gray-200 border-y dark:bg-gray-800 dark:border-gray-600"},[t("div",{class:"font-medium text-left text-gray-600 dark:text-gray-300"},"Gudang/Cabang ")]),t("th",{class:"p-3 bg-gray-100 border-gray-200 border-y dark:bg-gray-800 dark:border-gray-600"},[t("div",{class:"font-medium text-left text-gray-600 dark:text-gray-300"},"Stok Saat Ini ")])])],-1)),t("tbody",null,[a.stocksByBranch&&a.stocksByBranch.length?(n(!0),d(g,{key:0},u(a.stocksByBranch,r=>(n(),d("tr",{key:r.branch_id,class:"border-b border-gray-200 dark:border-gray-600"},[t("td",xt,s(r.branch||"-"),1),t("td",yt,s(l(r.current_stock)),1)]))),128)):(n(),d("tr",bt,[...e[10]||(e[10]=[t("td",{colspan:"2",class:"p-6 text-center text-gray-500 dark:text-gray-400"},"Belum ada data stok",-1)])]))])])])):i.value==="history"?(n(),d("div",kt,[a.movements&&a.movements.data&&a.movements.data.length?(n(!0),d(g,{key:0},u(a.movements.data,r=>(n(),d("div",{key:r.id,class:"p-4 bg-white border border-gray-200 rounded-lg dark:border-gray-600 dark:bg-gray-800/50"},[t("div",mt,[t("div",ht,[t("div",ft,[t("span",vt,s(B(r)),1),t("span",{class:m(["px-2 py-1 text-xs font-medium rounded",r.type==="In"||r.type==="Adjust_In"||r.type==="Transfer_In"||r.type==="Return_In"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":r.type==="Out"||r.type==="Adjust_Out"||r.type==="Transfer_Out"?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"])},s(w(r.type)),3)]),t("div",_t,[t("div",null,[e[12]||(e[12]=t("span",{class:"text-gray-500 dark:text-gray-400"},"Stock sebelumnya",-1)),t("p",pt,s(l(r.current_stock)),1)]),t("div",null,[e[13]||(e[13]=t("span",{class:"text-gray-500 dark:text-gray-400"},"Stok Masuk/Keluar",-1)),t("p",wt,[r.type==="In"||r.type==="Adjust_In"||r.type==="Transfer_In"||r.type==="Return_In"?(n(),d("span",Bt,"▲")):(n(),d("span",jt,"▼")),k(" "+s(l(r.quantity)),1)])]),t("div",null,[e[14]||(e[14]=t("span",{class:"text-gray-500 dark:text-gray-400"},"Stock saat ini",-1)),t("p",It,s(l(r.last_stock)),1)])])]),t("div",St,[t("p",Nt,s(p(r.at)),1),t("p",Tt,s(r.branch||"-"),1)])]),r.notes?(n(),d("div",Ct,[t("p",Dt,s(r.notes),1)])):h("",!0)]))),128)):(n(),d("div",Mt," Belum ada riwayat stok "))])):h("",!0)])])])],64))}});export{Gt as default};
