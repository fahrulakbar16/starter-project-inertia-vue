import{d as x,z as P,u as R,e as y,o as c,b as i,a as e,g as s,D as W,f as u,c as $,E as C,G as j,n as g,F as I,i as Y,t as m,w as K,h as E,H as V}from"./app-CJkCV51W.js";import{_ as G}from"./AppLayout-BlEKf3Fz.js";import{P as J}from"./PlusSquareIcon-DA_kLpvy.js";import{S as Q}from"./SearchIcon-B0safoHl.js";import{E as X}from"./EditIcon-B9T5EQzJ.js";import{U as w,D as _}from"./DownIcon-C_yWQF6q.js";import{T as Z}from"./TrashIcon-DSAHmBPH.js";import{R as ee}from"./RefreshIcon-BE4oV5CY.js";import{_ as te}from"./Breadcrumb-BJQpsGcc.js";import{_ as ae}from"./Modal-Ddbg9qvg.js";import{_ as re}from"./ConfirmModal-DAlWp-FQ.js";import{_ as se}from"./Pagination-C2dOEo8X.js";import{u as oe}from"./useAuth-DvuTgkfF.js";import"./FlashMessage-D4C-FUm8.js";import"./LayoutShell-FWpWJLvi.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./LayoutShell.vue_vue_type_style_index_0_lang-CRqqKi3W.js";const le={class:"flex flex-col h-full gap-3 px-3 overflow-hidden"},ie={class:"flex items-center justify-between h-10"},ne={class:"flex flex-col overflow-hidden rounded-lg border border-gray-200 bg-white dark:border-gray-600 dark:bg-white/[0.03]"},de={class:"flex flex-col gap-2 px-8 py-3 sm:flex-row sm:items-center sm:justify-between"},ce={class:"flex items-center gap-3"},ye={class:"relative py-2"},ue={class:"absolute -translate-y-1/2 left-4 top-1/2"},ge={class:"overflow-auto","data-simplebar":""},me={class:"min-w-full text-sm"},fe={class:"flex items-center justify-center gap-2 px-3"},xe={class:"flex flex-col items-center"},pe={class:"flex items-center justify-center gap-2 px-3"},he={class:"flex flex-col items-center"},be={class:"flex items-center justify-center gap-2 px-3"},ve={class:"flex flex-col items-center"},ke={class:"flex items-center justify-center gap-2 px-3"},we={class:"flex flex-col items-center"},_e={key:0,class:"bg-gray-100 border-gray-200 border-y dark:border-gray-600 dark:bg-gray-800"},Te={class:"py-2.5 border-y border-gray-200 dark:border-gray-600"},De={class:"flex items-center justify-center whitespace-nowrap"},Ce={class:"px-3 text-gray-500 dark:text-gray-400"},je={class:"py-2.5 border border-gray-200 dark:border-gray-600"},Be={class:"flex items-center justify-center whitespace-nowrap"},Se={class:"font-medium text-gray-800 dark:text-white/90"},Me={class:"py-2.5 border border-gray-200 dark:border-gray-600"},$e={class:"flex items-center justify-center px-3 whitespace-nowrap"},Ie={class:"text-gray-500 dark:text-gray-400"},Ke={class:"py-2.5 border border-gray-200 dark:border-gray-600"},Ee={class:"flex items-center justify-center px-3 whitespace-nowrap"},Ve={class:"text-gray-500 dark:text-gray-400"},Ne={class:"py-2.5 border border-gray-200 dark:border-gray-600"},Fe={class:"flex items-center justify-center px-3 whitespace-nowrap"},Ue={class:"text-gray-500 dark:text-gray-400"},qe={key:0,class:"py-2.5 border-y border-gray-200 dark:border-gray-600"},He={class:"flex justify-center gap-3 px-4 whitespace-nowrap"},Oe=["onClick"],Ae=["onClick"],Le={key:1},ze=["colspan"],Pe={class:"flex items-center gap-2"},Re={class:"space-y-3"},We={class:"space-y-1 text-sm"},Ye={key:0,class:"text-sm text-red-500"},Ge={class:"space-y-1 text-sm"},Je={key:0,class:"text-sm text-red-500"},mt=Object.assign({layout:G},{__name:"Index",props:{vehicleTypes:Object,search:String,sortBy:String,sortDirection:String},setup(a){const{can:n}=oe(),N=[{label:"Konfigurasi"},{label:"Manajemen Kendaraan"}],p=a;function F(d){return new Date(d).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}function B({sortBy:d=p.sortBy,sortDirection:t=p.sortDirection}={}){V.get(route("vehicle-types.index"),{search:h.value,sortBy:d,sortDirection:t},{preserveScroll:!0,preserveState:!0,replace:!0})}const h=x(p.search||"");let S=null;P(h,()=>{clearTimeout(S),S=setTimeout(()=>{B()},400)});function b(d){let t="asc";p.sortBy===d&&p.sortDirection==="asc"&&(t="desc"),B({sortBy:d,sortDirection:t})}const v=x(!1),k=x(!1),r=x(!1),o=R({id:null,name:"",category:""});function U(){n("vehicle_categories.create")&&(o.reset(),k.value=!1,r.value=!1,v.value=!0)}function q(d){n("vehicle_categories.edit")&&(o.id=d.id,o.name=d.name,o.category=d.category,f.value=d,k.value=!0,r.value=!1,v.value=!0)}function T(){v.value=!1,r.value=!1,f.value=null,o.reset(),o.clearErrors()}function H(){if(!r.value)if(r.value=!0,k.value){if(!n("vehicle_categories.edit")){r.value=!1;return}o.put(route("vehicle-types.update",o.id),{onSuccess:()=>{T()},onFinish:()=>{r.value=!1}})}else{if(!n("vehicle_categories.create")){r.value=!1;return}o.post(route("vehicle-types.store"),{onSuccess:()=>{T()},onFinish:()=>{r.value=!1}})}}const f=x(null),D=x(!1),O=d=>{n("vehicle_categories.delete")&&(f.value=d,D.value=!0)},M=()=>{f.value=null,D.value=!1,r.value=!1},A=()=>{r.value||n("vehicle_categories.delete")&&(r.value=!0,V.delete(route("vehicle-types.destroy",f.value.id),{onSuccess:()=>{M()},onFinish:()=>{r.value=!1},preserveScroll:!0}))};return(d,t)=>(c(),y(I,null,[i(s(W),{title:"Daftar Tipe Kendaraan"}),e("div",le,[e("div",ie,[i(te,{items:N}),s(n)("vehicle_categories.create")?(c(),y("button",{key:0,onClick:U,type:"button",class:"flex items-center gap-2 px-3 py-2 text-white bg-blue-500 rounded hover:bg-blue-600"},[i(J),t[7]||(t[7]=e("span",{class:"hidden text-sm md:block"},"Tambah Tipe Kendaraan",-1))])):u("",!0)]),e("div",ne,[e("div",de,[t[8]||(t[8]=e("div",{class:"font-bold text-gray-700 md:text-xl dark:text-gray-300"}," Daftar Tipe Kendaraan ",-1)),e("div",ce,[e("div",ye,[e("div",ue,[i(Q,{class:"text-gray-400"})]),C(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>h.value=l),type:"text",placeholder:"Cari tipe kendaraan",class:"h-10 w-full rounded-lg border border-gray-200 bg-transparent py-2.5 pl-12 pr-4 text-sm text-gray-800 placeholder:text-gray-400 focus:border-blue-300 focus:outline-hidden focus:ring-3 focus:ring-blue-500/10 dark:border-gray-700 dark:bg-gray-800 dark:text-white/90 dark:placeholder:text-gray-400 dark:focus:border-blue-800 xl:w-[200px]"},null,512),[[j,h.value]])])])]),e("div",ge,[e("table",me,[e("thead",null,[e("tr",null,[t[14]||(t[14]=e("th",{class:"py-2.5 border-y border-gray-200 dark:border-gray-600 bg-gray-100 dark:bg-gray-800"},[e("div",{class:"flex items-center justify-center px-3"},[e("p",{class:"flex flex-col items-center font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"}," No. ")])],-1)),e("th",{onClick:t[1]||(t[1]=l=>b("name")),class:"py-3 bg-gray-100 border border-gray-200 cursor-pointer dark:border-gray-600 dark:bg-gray-800"},[e("div",fe,[t[9]||(t[9]=e("p",{class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"}," Nama Kendaraan ",-1)),e("div",xe,[i(w,{class:g(["-mb-1",a.sortBy==="name"&&a.sortDirection==="asc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"]),i(_,{class:g(["-mt-1",a.sortBy==="name"&&a.sortDirection==="desc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"])])])]),e("th",{onClick:t[2]||(t[2]=l=>b("category")),class:"py-3 bg-gray-100 border border-gray-200 cursor-pointer dark:border-gray-600 dark:bg-gray-800"},[e("div",pe,[t[10]||(t[10]=e("p",{class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"}," Kategori ",-1)),e("div",he,[i(w,{class:g(["-mb-1",a.sortBy==="category"&&a.sortDirection==="asc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"]),i(_,{class:g(["-mt-1",a.sortBy==="category"&&a.sortDirection==="desc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"])])])]),e("th",{onClick:t[3]||(t[3]=l=>b("total")),class:"py-3 bg-gray-100 border border-gray-200 cursor-pointer dark:border-gray-600 dark:bg-gray-800"},[e("div",be,[t[11]||(t[11]=e("p",{class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"}," Total ",-1)),e("div",ve,[i(w,{class:g(["-mb-1",a.sortBy==="total"&&a.sortDirection==="asc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"]),i(_,{class:g(["-mt-1",a.sortBy==="total"&&a.sortDirection==="desc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"])])])]),e("th",{onClick:t[4]||(t[4]=l=>b("updated_at")),class:"py-3 bg-gray-100 border border-gray-200 cursor-pointer dark:border-gray-600 dark:bg-gray-800"},[e("div",ke,[t[12]||(t[12]=e("p",{class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"}," Terakhir diperbarui ",-1)),e("div",we,[i(w,{class:g(["-mb-1",a.sortBy==="updated_at"&&a.sortDirection==="asc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"]),i(_,{class:g(["-mt-1",a.sortBy==="updated_at"&&a.sortDirection==="desc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"])])])]),s(n)("vehicle_categories.edit")||s(n)("vehicle_categories.delete")?(c(),y("th",_e,[...t[13]||(t[13]=[e("div",{class:"flex items-center justify-center"},[e("p",{class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"}," Aksi ")],-1)])])):u("",!0)])]),e("tbody",null,[a.vehicleTypes.data&&a.vehicleTypes.data.length>0?(c(!0),y(I,{key:0},Y(a.vehicleTypes.data,(l,L)=>(c(),y("tr",{key:l.id,class:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800"},[e("td",Te,[e("div",De,[e("p",Ce,m((a.vehicleTypes.current_page-1)*a.vehicleTypes.per_page+L+1)+". ",1)])]),e("td",je,[e("div",Be,[e("p",Se,m(l.name),1)])]),e("td",Me,[e("div",$e,[e("p",Ie,m(l.category),1)])]),e("td",Ke,[e("div",Ee,[e("p",Ve,m(l.total)+" kendaraan ",1)])]),e("td",Ne,[e("div",Fe,[e("p",Ue,m(F(l.updated_at)),1)])]),s(n)("vehicle_categories.edit")||s(n)("vehicle_categories.delete")?(c(),y("td",qe,[e("div",He,[s(n)("vehicle_categories.edit")?(c(),y("button",{key:0,onClick:z=>q(l),class:"text-yellow-500 hover:text-yellow-600",title:"Edit"},[i(X)],8,Oe)):u("",!0),s(n)("vehicle_categories.delete")?(c(),y("button",{key:1,onClick:z=>O(l),class:"text-red-500 hover:text-red-600",title:"Hapus"},[i(Z)],8,Ae)):u("",!0)])])):u("",!0)]))),128)):(c(),y("tr",Le,[e("td",{colspan:s(n)("vehicle_categories.edit")||s(n)("vehicle_categories.delete")?6:5,class:"py-6 font-medium text-center text-gray-500 dark:text-gray-400"}," Tidak ada tipe kendaraan ditemukan ",8,ze)]))])]),i(ae,{show:v.value,title:k.value?`Edit ${f.value?.name}`:"Tambah Tipe Kendaraan",confirmText:r.value?"Menyimpan...":"Simpan",disabled:r.value,maxWidth:"lg",onClose:T,onConfirm:H},{confirmButton:K(()=>[e("div",Pe,[r.value?(c(),$(ee,{key:0,class:"w-4 h-4 animate-spin"})):u("",!0),e("span",null,m(r.value?"Menyimpan...":"Simpan"),1)])]),default:K(()=>[e("div",Re,[e("div",We,[t[15]||(t[15]=e("label",{for:"name",class:"font-semibold text-gray-900 dark:text-white"},[E("Nama"),e("span",{class:"text-red-500"},"*")],-1)),C(e("input",{id:"name",class:"w-full text-sm font-medium text-gray-600 placeholder-gray-500 border-gray-400 rounded-lg placeholder:font-normal dark:border-white dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",type:"text","onUpdate:modelValue":t[5]||(t[5]=l=>s(o).name=l),required:"",placeholder:"Masukkan nama kendaraan"},null,512),[[j,s(o).name]]),s(o).errors.name?(c(),y("div",Ye,m(s(o).errors.name),1)):u("",!0)]),e("div",Ge,[t[16]||(t[16]=e("label",{for:"category",class:"font-semibold text-gray-900 dark:text-white"},[E("Kategori"),e("span",{class:"text-red-500"},"*")],-1)),C(e("input",{id:"category",class:"w-full text-sm font-medium text-gray-600 placeholder-gray-500 border-gray-400 rounded-lg placeholder:font-normal dark:border-white dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",type:"text","onUpdate:modelValue":t[6]||(t[6]=l=>s(o).category=l),required:"",placeholder:"Masukkan kategori kendaraan"},null,512),[[j,s(o).category]]),s(o).errors.category?(c(),y("div",Je,m(s(o).errors.category),1)):u("",!0)])])]),_:1},8,["show","title","confirmText","disabled"]),i(re,{show:D.value,question:"Yakin ingin menghapus",selected:`${f.value?.name}`,title:"Hapus Tipe Kendaraan",confirmText:r.value?"Menghapus...":"Ya, Hapus!",disabled:r.value,maxWidth:"md",onClose:M,onConfirm:A},null,8,["show","selected","confirmText","disabled"])]),a.vehicleTypes.data&&a.vehicleTypes.data.length>0?(c(),$(se,{key:0,pagination:a.vehicleTypes},null,8,["pagination"])):u("",!0)])])],64))}});export{mt as default};
