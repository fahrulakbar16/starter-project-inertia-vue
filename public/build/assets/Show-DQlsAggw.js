import{_ as D}from"./AppLayout-BlEKf3Fz.js";import{_ as $}from"./Breadcrumb-BJQpsGcc.js";import{_ as B}from"./Modal-Ddbg9qvg.js";import{d as v,e as o,o as d,b as n,a as e,g as x,D as R,w as y,h as g,P as M,f as b,t as s,F as f,i as N}from"./app-CJkCV51W.js";import"./FlashMessage-D4C-FUm8.js";import"./LayoutShell-FWpWJLvi.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useAuth-DvuTgkfF.js";import"./LayoutShell.vue_vue_type_style_index_0_lang-CRqqKi3W.js";const K={class:"flex overflow-hidden flex-col gap-3 px-3 h-full"},T={class:"flex justify-between items-center h-10"},E={class:"flex flex-col overflow-auto rounded-lg border border-gray-200 bg-white dark:border-gray-600 dark:bg-white/[0.03]"},L={key:0,class:"space-y-8 px-6 py-6"},V={class:"grid md:grid-cols-2 gap-6"},F={class:"flex items-center gap-4"},O=["src"],P={class:"font-medium text-gray-900 dark:text-white text-lg"},W={class:"text-sm text-gray-500 dark:text-gray-400"},z={class:"flex flex-col justify-center"},A={class:"font-medium text-gray-900 dark:text-white"},U={class:"grid md:grid-cols-3 gap-6"},G={class:"font-medium text-gray-900 dark:text-white"},H={class:"font-medium text-gray-900 dark:text-white"},J={class:"font-medium text-gray-900 dark:text-white"},q={class:"p-4 bg-gray-50 rounded-lg dark:bg-gray-800 min-h-[68px]"},Q={class:"text-gray-700 dark:text-gray-300 whitespace-pre-line"},X={key:0},Y={class:"grid grid-cols-2 gap-4 md:grid-cols-3 lg:grid-cols-4"},Z=["onClick"],ee=["src","alt"],te={key:1},re={key:0,class:"relative"},ae={class:"relative w-full h-[500px] bg-gray-100 rounded-lg dark:bg-gray-800 flex items-center justify-center"},ie=["src","alt"],se={class:"flex justify-between items-center mt-4"},le=["disabled"],oe={class:"text-sm text-gray-600 dark:text-gray-400"},de=["disabled"],fe=Object.assign({layout:D},{__name:"Show",props:{vehicleService:Object},setup(a){const k=[{label:"Kendaraan"},{label:"Riwayat Service",href:route("vehicle-services.index")},{label:"Detail"}];function p(r){return new Date(r).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"})}function w(r){return r?"Rp "+Number(r).toLocaleString("id-ID"):"Rp 0"}function m(r){return r.url?r.url.startsWith("http")||r.url.startsWith("/")?r.url:`/storage/${r.url}`:`/storage/${r.file_path}`}function h(r){r.target.src="/images/placeholder.png"}const c=v(!1),l=v([]),i=v(0);function S(r,t=0){l.value=r,i.value=t,c.value=!0}function _(){c.value=!1,l.value=[],i.value=0}function C(){i.value>0&&i.value--}function j(){i.value<l.value.length-1&&i.value++}return(r,t)=>(d(),o(f,null,[n(x(R),{title:"Detail Riwayat Service"}),e("div",K,[e("div",T,[n($,{items:k}),n(x(M),{href:r.route("vehicle-services.index"),class:"flex gap-2 items-center px-3 py-2 text-sm text-gray-700 bg-white border border-gray-300 rounded hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-700"},{default:y(()=>[...t[0]||(t[0]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),g(" Kembali ",-1)])]),_:1},8,["href"])]),e("div",E,[t[11]||(t[11]=e("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-600"},[e("h1",{class:"text-xl font-bold text-gray-900 dark:text-white"}," Detail Riwayat Service ")],-1)),a.vehicleService?(d(),o("div",L,[e("div",null,[t[2]||(t[2]=e("h3",{class:"mb-2 text-base font-semibold text-gray-900 dark:text-white"}," Detail Kendaraan ",-1)),e("div",V,[e("div",F,[e("img",{class:"object-cover w-14 h-14 rounded-full border border-gray-300 dark:border-gray-700",src:a.vehicleService.photo?`/storage/${a.vehicleService.photo}`:`https://ui-avatars.com/api/?name=${encodeURIComponent(a.vehicleService.name||"")}&background=3b82f6&color=fff`,alt:"Foto Kendaraan",loading:"lazy"},null,8,O),e("div",null,[e("div",P,s(a.vehicleService.name),1),e("div",W,s(a.vehicleService.category),1)])]),e("div",z,[t[1]||(t[1]=e("div",{class:"text-sm text-gray-500 dark:text-gray-400"},"Plat Nomor",-1)),e("div",A,s(a.vehicleService.vehicle?.license_code||"-"),1)])])]),e("div",null,[t[6]||(t[6]=e("h3",{class:"mb-2 text-base font-semibold text-gray-900 dark:text-white"}," Detail Service ",-1)),e("div",U,[e("div",null,[t[3]||(t[3]=e("div",{class:"text-sm text-gray-500 dark:text-gray-400"},"Tanggal Service",-1)),e("div",G,s(p(a.vehicleService.date)),1)]),e("div",null,[t[4]||(t[4]=e("div",{class:"text-sm text-gray-500 dark:text-gray-400"},"Jarak Tempuh",-1)),e("div",H,s(a.vehicleService.distance?`${a.vehicleService.distance} KM`:"-"),1)]),e("div",null,[t[5]||(t[5]=e("div",{class:"text-sm text-gray-500 dark:text-gray-400"},"Biaya Service",-1)),e("div",J,s(w(a.vehicleService.cost)),1)])])]),e("div",null,[t[7]||(t[7]=e("h3",{class:"mb-2 text-base font-semibold text-gray-900 dark:text-white"}," Catatan Service ",-1)),e("div",q,[e("div",Q,s(a.vehicleService.note||"-"),1)])]),e("div",null,[t[10]||(t[10]=e("h3",{class:"mb-2 text-base font-semibold text-gray-900 dark:text-white"}," Lampiran / Bukti Service ",-1)),a.vehicleService.attachments&&a.vehicleService.attachments.length>0?(d(),o("div",X,[e("div",Y,[(d(!0),o(f,null,N(a.vehicleService.attachments,(u,I)=>(d(),o("div",{key:u.id,class:"relative group cursor-pointer",onClick:ne=>S(a.vehicleService.attachments,I)},[e("img",{src:m(u),alt:`Attachment ${u.id}`,class:"object-cover w-full h-32 rounded-lg border border-gray-300 dark:border-gray-600 hover:opacity-80 transition-opacity",onError:h},null,40,ee),t[8]||(t[8]=e("div",{class:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-0 group-hover:bg-opacity-30 rounded-lg transition-all"},[e("svg",{class:"w-8 h-8 text-white opacity-0 group-hover:opacity-100 transition-opacity",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})])],-1))],8,Z))),128))])])):(d(),o("div",te,[...t[9]||(t[9]=[e("div",{class:"text-gray-500 dark:text-gray-400"},"Tidak ada lampiran",-1)])]))])])):b("",!0)]),n(B,{show:c.value,title:"Preview Gambar",maxWidth:"4xl",onClose:_},{default:y(()=>[l.value.length>0?(d(),o("div",re,[e("div",ae,[e("img",{src:m(l.value[i.value]),alt:`Image ${i.value+1}`,class:"max-w-full max-h-full object-contain rounded-lg",onError:h},null,40,ie)]),e("div",se,[e("button",{onClick:C,class:"flex items-center gap-2 px-4 py-2 text-white bg-blue-500 rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",disabled:i.value===0},[...t[12]||(t[12]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),g(" Sebelumnya ",-1)])],8,le),e("span",oe,s(i.value+1)+" / "+s(l.value.length),1),e("button",{onClick:j,class:"flex items-center gap-2 px-4 py-2 text-white bg-blue-500 rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",disabled:i.value===l.value.length-1},[...t[13]||(t[13]=[g(" Selanjutnya ",-1),e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],8,de)])])):b("",!0)]),_:1},8,["show"])])],64))}});export{fe as default};
