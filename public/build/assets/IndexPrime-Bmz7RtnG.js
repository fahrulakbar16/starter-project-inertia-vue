import{y as c,d as g,u as N,Q as b,e as R,o as U,a,b as o,w as i,h as x,g as t,t as $,K as D,H as I}from"./app-CJkCV51W.js";import{_ as M}from"./AppLayout-BlEKf3Fz.js";import{s as r,a as j}from"./index-0NiEyZ8l.js";import{s as y}from"./index-B9o0VbjL.js";import{s as L}from"./index-D_jvqarE.js";import{s as A,a as d,b as H}from"./index-CMR089Yl.js";import{s as K}from"./index-CLpgtvfm.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./FlashMessage-D4C-FUm8.js";import"./LayoutShell-FWpWJLvi.js";import"./useAuth-DvuTgkfF.js";import"./LayoutShell.vue_vue_type_style_index_0_lang-CRqqKi3W.js";import"./index-BD4Vkpl0.js";import"./index-DgaiydM3.js";import"./index-B6ZB8t6H.js";import"./index-jsubnK9F.js";import"./index-BQecbcTn.js";import"./index-CCXKkwqV.js";import"./index-B_J-fD_o.js";const O={class:"px-6 py-6"},B={class:"flex justify-between items-center mb-4"},E={class:"bg-white rounded-lg border border-gray-200"},W={class:"flex justify-between items-center px-4 py-3 border-b"},q={class:"flex gap-2 items-center"},z={class:"py-0"},G={style:{"overflow-x":"auto"}},J={class:"flex gap-2 justify-center items-center"},Q=["onClick"],X=["onClick"],Y={class:"grid grid-cols-1 gap-4"},Z={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},ee={class:"flex gap-3 items-center mt-6"},te=Object.assign({layout:M},{__name:"IndexPrime",props:{branches:Object},setup(v){const h=v,C=c(()=>h.branches?.data??[]),u=g(!1),m=g(null),w=g(!1),l=N({name:"",region:"",head_name:"",email:"",phone:"",address:""}),p=g({global:{value:null,matchMode:b.CONTAINS},name:{value:null,matchMode:b.STARTS_WITH},region:{value:null,matchMode:b.STARTS_WITH},head_name:{value:null,matchMode:b.STARTS_WITH}}),k=c(()=>m.value?"Ubah Cabang":"Tambah Cabang");function V(){m.value=null,l.reset(),u.value=!0}function P(n){m.value=n.id,l.name=n.name,l.region=n.region,l.head_name=n.head_name,l.email=n.email,l.phone=n.phone,l.address=n.address,u.value=!0}function f(){u.value=!1}const T=c(()=>l.processing);function S(){m.value?l.put(`/branches/${m.value}`,{onSuccess:()=>f()}):l.post("/branches",{onSuccess:()=>f()})}function _(n){I.delete(`/branches/${n.id}`)}return(n,e)=>(U(),R("div",O,[a("div",B,[e[10]||(e[10]=a("h1",{class:"text-2xl font-bold text-gray-800"},"Data Cabang",-1)),o(t(y),{severity:"info",onClick:V},{default:i(()=>[...e[9]||(e[9]=[a("i",{class:"mr-2 lni lni-plus"},null,-1),x(" Tambah Data Cabang ",-1)])]),_:1})]),a("div",E,[a("div",W,[e[12]||(e[12]=a("h1",{class:"text-xl font-semibold text-gray-800"}," Daftar Seluruh Cabang ",-1)),a("div",q,[o(t(H),null,{default:i(()=>[o(t(A),null,{default:i(()=>[...e[11]||(e[11]=[a("i",{class:"lni lni-search-alt"},null,-1)])]),_:1}),o(t(d),{modelValue:p.value.global.value,"onUpdate:modelValue":e[0]||(e[0]=s=>p.value.global.value=s),placeholder:"Pencarian kata kunci"},null,8,["modelValue"])]),_:1})])]),a("div",z,[a("div",G,[o(t(j),{filters:p.value,"onUpdate:filters":e[1]||(e[1]=s=>p.value=s),value:C.value,dataKey:"id",responsiveLayout:"scroll",paginator:!0,rows:10,class:"w-full p-datatable-sm",rowHover:!0,showGridlines:!1,rowsPerPageOptions:[10,25,50,100],paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink",pt:{thead:{class:"bg-gray-50"},headerRow:{class:"text-left"},headerCell:{class:"bg-gray-50 text-gray-500 uppercase text-[11px] tracking-wide px-2"},bodyRow:{class:"text-gray-800"},bodyCell:{class:"text-gray-800 px-2"}},ptOptions:{mergeSections:!0,mergeProps:!0},globalFilterFields:["name","region","head_name"],loading:w.value,tableStyle:{minWidth:"max-content",width:"100%"}},{empty:i(()=>[...e[13]||(e[13]=[x(" Data cabang tidak ditemukan. ",-1)])]),loading:i(()=>[...e[14]||(e[14]=[x(" Memuat data cabang... ",-1)])]),default:i(()=>[o(t(r),{header:"No",style:{width:"80px"},headerClass:"bg-gray-50 text-gray-500 uppercase text-xs text-center px-2",bodyClass:"text-gray-800 px-2 text-center"},{body:i(({index:s})=>[x($(s+1),1)]),_:1}),o(t(r),{field:"name",header:"Nama Kantor",sortable:"",headerClass:"bg-gray-50 text-gray-500 uppercase text-xs text-start px-2",bodyClass:"text-gray-700 px-2"}),o(t(r),{field:"region",header:"Cabang",sortable:"",filter:!0,filterPlaceholder:"Cari cabang",headerClass:"bg-gray-50 text-gray-500 uppercase text-xs text-start px-2",bodyClass:"text-gray-700 px-2"}),o(t(r),{field:"head_name",header:"Kepala Cabang",headerClass:"bg-gray-50 text-gray-500 uppercase text-xs text-start px-2",bodyClass:"text-gray-700 px-2"}),o(t(r),{field:"employees_count",header:"Jumlah Pegawai",headerClass:"bg-gray-50 text-gray-500 uppercase text-xs text-center px-2",bodyClass:"text-gray-700 px-2 text-center"}),o(t(r),{header:"Aksi",style:{width:"120px"},headerClass:"bg-gray-50 text-gray-500 uppercase text-xs text-center px-2",bodyClass:"px-2 text-center"},{body:i(({data:s})=>[a("div",J,[a("button",{type:"button","aria-label":"Edit",class:"inline-flex justify-center items-center w-8 h-8 text-white bg-indigo-500 rounded hover:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-indigo-300",onClick:()=>P(s)},[...e[15]||(e[15]=[a("i",{class:"text-sm lni lni-pencil-1"},null,-1)])],8,Q),a("button",{type:"button","aria-label":"Hapus",class:"inline-flex justify-center items-center w-8 h-8 text-white bg-red-500 rounded hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-300",onClick:()=>_(s)},[...e[16]||(e[16]=[a("i",{class:"text-sm lni lni-trash-3"},null,-1)])],8,X)])]),_:1})]),_:1},8,["filters","value","loading"])])])]),o(t(L),{visible:u.value,"onUpdate:visible":e[8]||(e[8]=s=>u.value=s),modal:!0,header:k.value,class:"w-full md:w-2/3 lg:w-1/2"},{default:i(()=>[a("form",{onSubmit:D(S,["prevent"])},[a("div",Y,[a("div",null,[e[17]||(e[17]=a("label",{class:"block mb-1 text-sm font-medium"},"Nama Kantor",-1)),o(t(d),{modelValue:t(l).name,"onUpdate:modelValue":e[2]||(e[2]=s=>t(l).name=s),class:"w-full",required:""},null,8,["modelValue"])]),a("div",null,[e[18]||(e[18]=a("label",{class:"block mb-1 text-sm font-medium"},"Cabang",-1)),o(t(d),{modelValue:t(l).region,"onUpdate:modelValue":e[3]||(e[3]=s=>t(l).region=s),class:"w-full"},null,8,["modelValue"])]),a("div",null,[e[19]||(e[19]=a("label",{class:"block mb-1 text-sm font-medium"},"Kepala Cabang",-1)),o(t(d),{modelValue:t(l).head_name,"onUpdate:modelValue":e[4]||(e[4]=s=>t(l).head_name=s),class:"w-full"},null,8,["modelValue"])]),a("div",Z,[a("div",null,[e[20]||(e[20]=a("label",{class:"block mb-1 text-sm font-medium"},"Email Resmi Cabang",-1)),o(t(d),{modelValue:t(l).email,"onUpdate:modelValue":e[5]||(e[5]=s=>t(l).email=s),class:"w-full"},null,8,["modelValue"])]),a("div",null,[e[21]||(e[21]=a("label",{class:"block mb-1 text-sm font-medium"},"No Telepon Resmi Cabang",-1)),o(t(d),{modelValue:t(l).phone,"onUpdate:modelValue":e[6]||(e[6]=s=>t(l).phone=s),class:"w-full"},null,8,["modelValue"])])]),a("div",null,[e[22]||(e[22]=a("label",{class:"block mb-1 text-sm font-medium"},"Alamat Cabang",-1)),o(t(K),{modelValue:t(l).address,"onUpdate:modelValue":e[7]||(e[7]=s=>t(l).address=s),autoResize:"",rows:"3",class:"w-full"},null,8,["modelValue"])])]),a("div",ee,[o(t(y),{type:"submit",label:"Simpan",icon:"pi pi-check",loading:T.value},null,8,["loading"]),o(t(y),{type:"button",label:"Batal",severity:"secondary",icon:"pi pi-times",onClick:f})])],32)]),_:1},8,["visible","header"])]))}}),Ce=F(te,[["__scopeId","data-v-dfa32c1f"]]);export{Ce as default};
