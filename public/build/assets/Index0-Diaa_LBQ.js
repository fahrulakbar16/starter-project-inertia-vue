import{d as c,z as D,u as B,U as k,e as b,o as g,b as s,a as t,c as C,f as S,E as $,G as I,n as o,F as p,i as N,t as n,O as U,w as z,H as K}from"./app-CJkCV51W.js";import{_ as L}from"./AppLayout-BlEKf3Fz.js";import{S as T}from"./SearchIcon-B0safoHl.js";import{U as y,D as x}from"./DownIcon-C_yWQF6q.js";import{S as V}from"./ShowIcon-CiA5nZAB.js";import{_ as F}from"./Breadcrumb-BJQpsGcc.js";import{_ as H}from"./Pagination-C2dOEo8X.js";import"./FlashMessage-D4C-FUm8.js";import"./LayoutShell-FWpWJLvi.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useAuth-DvuTgkfF.js";import"./LayoutShell.vue_vue_type_style_index_0_lang-CRqqKi3W.js";const O={class:"flex overflow-hidden flex-col gap-3 px-3 h-full"},R={class:"flex justify-between items-center h-10"},E={class:"flex flex-col overflow-hidden rounded-lg border border-gray-200 bg-white dark:border-gray-600 dark:bg-white/[0.03]"},P={class:"flex flex-col gap-2 px-8 py-1 sm:flex-row sm:items-center sm:justify-between"},q={class:"flex gap-3 items-center"},A={class:"relative py-2"},G={class:"absolute left-4 top-1/2 -translate-y-1/2"},J={class:"overflow-auto","data-simplebar":""},M={class:"min-w-full text-sm"},Q={class:"flex gap-2 justify-center items-center cursor-pointer"},W={class:"flex flex-col items-center"},X={class:"flex gap-2 justify-center items-center cursor-pointer"},Y={class:"flex flex-col items-center"},Z={class:"flex gap-2 justify-center items-center cursor-pointer"},tt={class:"flex flex-col items-center"},et={class:"flex gap-2 justify-center items-center cursor-pointer"},rt={class:"flex flex-col items-center"},at={class:"flex gap-2 justify-center items-center cursor-pointer"},st={class:"flex flex-col items-center"},ot={class:"p-2.5 border-gray-200 border-y dark:border-gray-600"},dt={class:"flex justify-center items-center whitespace-nowrap"},nt={class:"text-gray-500 dark:text-gray-400"},it={class:"py-2.5 border border-gray-200 dark:border-gray-600"},lt={class:"flex items-center gap-3 ps-5 whitespace-nowrap"},ct=["src"],gt={class:"flex flex-col leading-tight"},yt={class:"font-medium text-gray-800 dark:text-white/90"},xt={class:"text-gray-500 dark:text-gray-400"},ut={class:"p-2.5 border border-gray-200 dark:border-gray-600"},bt={class:"flex justify-center items-center px-3 whitespace-nowrap"},mt={class:"text-gray-500 dark:text-gray-400"},ft={class:"p-2.5 border border-gray-200 dark:border-gray-600"},kt={class:"flex justify-center items-center px-3 whitespace-nowrap"},pt={class:"text-gray-500 dark:text-gray-400"},ht={class:"p-2.5 border border-gray-200 dark:border-gray-600"},vt={class:"flex justify-center items-center whitespace-nowrap"},wt={class:"text-gray-500 dark:text-gray-400"},_t={class:"p-2.5 border border-gray-200 dark:border-gray-600"},jt={class:"flex justify-center mb-1"},Dt={class:"text-blue-700 dark:text-white"},Bt={class:"w-full bg-gray-200 rounded-full h-2 dark:bg-gray-700"},Ct={class:"p-2.5 border border-gray-200 dark:border-gray-600"},St={class:"flex justify-center items-center whitespace-nowrap"},$t={class:"px-8 py-2.5 border-gray-200 border-y dark:border-gray-600"},It={class:"flex gap-3 justify-center whitespace-nowrap"},Nt={key:1},qt=Object.assign({layout:L},{__name:"Index0",props:{checklists:Object,search:String,sortBy:String,sortDirection:String},setup(r){const h=[{label:"Kendaraan"},{label:"Riwayat Inspeksi"}],i=r;function m({sortBy:d=i.sortBy,sortDirection:e=i.sortDirection}={}){K.get(route("vehicle-inspections.index"),{search:u.value,sortBy:d,sortDirection:e},{preserveScroll:!0,preserveState:!0,replace:!0})}const u=c(i.search||"");let f=null;D(u,()=>{clearTimeout(f),f=setTimeout(()=>{m()},400)});function l(d){let e="asc";i.sortBy===d&&i.sortDirection==="asc"&&(e="desc"),m({sortBy:d,sortDirection:e})}c(!1),c(!1),B({id:null,name:"",start_time:"",late_tolerance:"",end_time:""}),c(null),c(!1);function v(d){switch((d||"").toLowerCase()){case"active":return"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300";case"inactive":return"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300";case"draft":default:return"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300"}}return(d,e)=>{const w=k("Head"),_=k("Link");return g(),b(p,null,[s(w,{title:"Riwayat Inspeksi Kendaraan"}),t("div",O,[t("div",R,[s(F,{items:h})]),t("div",E,[t("div",P,[e[6]||(e[6]=t("div",{class:"font-bold text-gray-700 md:text-xl dark:text-gray-300"}," Data Inspeksi Kendaraan ",-1)),t("div",q,[t("div",A,[t("div",G,[s(T,{class:"text-gray-400"})]),$(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>u.value=a),type:"text",placeholder:"Cari inspeksi",class:"dark:bg-dark-900 h-10 w-full rounded-lg border border-gray-200 bg-transparent py-2.5 pl-12 pr-4 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-blue-300 focus:outline-hidden focus:ring-3 focus:ring-blue-500/10 dark:border-gray-800 dark:bg-gray-900 dark:bg-white/[0.03] dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-blue-800 xl:w-[200px]"},null,512),[[I,u.value]])])])]),t("div",J,[t("table",M,[t("thead",null,[t("tr",null,[e[12]||(e[12]=t("th",{class:"p-2.5 bg-gray-100 border-gray-200 border-y dark:border-gray-600 dark:bg-gray-800"},[t("div",{class:"flex justify-center items-center"},[t("p",{class:"flex flex-col items-center font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"}," No. ")])],-1)),t("th",{onClick:e[1]||(e[1]=a=>l("name")),class:"p-3 bg-gray-100 border border-gray-200 dark:border-gray-600 dark:bg-gray-800"},[t("div",Q,[e[7]||(e[7]=t("p",{class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"}," Nama & No. Kendaraan ",-1)),t("div",W,[s(y,{class:o(["-mb-1",r.sortBy==="name"&&r.sortDirection==="asc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"]),s(x,{class:o(["-mt-1",r.sortBy==="name"&&r.sortDirection==="desc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"])])])]),t("th",{onClick:e[2]||(e[2]=a=>l("driver")),class:"p-3 bg-gray-100 border border-gray-200 dark:border-gray-600 dark:bg-gray-800"},[t("div",X,[e[8]||(e[8]=t("p",{class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"}," Driver ",-1)),t("div",Y,[s(y,{class:o(["-mb-1",r.sortBy==="driver"&&r.sortDirection==="asc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"]),s(x,{class:o(["-mt-1",r.sortBy==="driver"&&r.sortDirection==="desc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"])])])]),t("th",{onClick:e[3]||(e[3]=a=>l("branch")),class:"p-3 bg-gray-100 border border-gray-200 dark:border-gray-600 dark:bg-gray-800"},[t("div",Z,[e[9]||(e[9]=t("p",{class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"}," Cabang ",-1)),t("div",tt,[s(y,{class:o(["-mb-1",r.sortBy==="branch"&&r.sortDirection==="asc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"]),s(x,{class:o(["-mt-1",r.sortBy==="branch"&&r.sortDirection==="desc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"])])])]),t("th",{onClick:e[4]||(e[4]=a=>l("total")),class:"p-3 bg-gray-100 border border-gray-200 dark:border-gray-600 dark:bg-gray-800"},[t("div",et,[e[10]||(e[10]=t("p",{class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"}," Jumlah Pertanyaan ",-1)),t("div",rt,[s(y,{class:o(["-mb-1",r.sortBy==="total"&&r.sortDirection==="asc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"]),s(x,{class:o(["-mt-1",r.sortBy==="total"&&r.sortDirection==="desc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"])])])]),t("th",{onClick:e[5]||(e[5]=a=>l("progress")),class:"p-3 bg-gray-100 border border-gray-200 dark:border-gray-600 dark:bg-gray-800"},[t("div",at,[e[11]||(e[11]=t("p",{class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"}," Progress ",-1)),t("div",st,[s(y,{class:o(["-mb-1",r.sortBy==="progress"&&r.sortDirection==="asc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"]),s(x,{class:o(["-mt-1",r.sortBy==="progress"&&r.sortDirection==="desc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"])])])]),e[13]||(e[13]=t("th",{class:"p-3 bg-gray-100 border border-gray-200 dark:border-gray-600 dark:bg-gray-800"},[t("div",{class:"flex justify-center items-center"},[t("p",{class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"}," Status ")])],-1)),e[14]||(e[14]=t("th",{class:"p-3 bg-gray-100 border-gray-200 border-y dark:border-gray-600 dark:bg-gray-800"},[t("div",{class:"flex justify-center items-center"},[t("p",{class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"}," Aksi ")])],-1))])]),t("tbody",null,[r.checklists.data&&r.checklists.data.length>0?(g(!0),b(p,{key:0},N(r.checklists.data,(a,j)=>(g(),b("tr",{key:a.id,class:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800"},[t("td",ot,[t("div",dt,[t("p",nt,n((r.checklists.current_page-1)*r.checklists.per_page+j+1)+". ",1)])]),t("td",it,[t("div",lt,[t("img",{class:"h-10 w-10 rounded-full object-cover",src:a.photo?`/storage/${a.photo}`:`https://ui-avatars.com/api/?name=${encodeURIComponent(a.vehicle?.type.name)}&background=3b82f6&color=fff`,alt:"checklist photo",loading:"lazy"},null,8,ct),t("div",gt,[t("p",yt,n(a.vehicle?.license_code),1),t("span",xt,n(a.vehicle?.type.name),1)])])]),t("td",ut,[t("div",bt,[t("p",mt,n(a.vehicle?.driver?.name),1)])]),t("td",ft,[t("div",kt,[t("p",pt,n(a.department?.branch?.name),1)])]),t("td",ht,[t("div",vt,[t("p",wt,n(a.questions_count??0),1)])]),t("td",_t,[t("div",jt,[t("span",Dt,n(a.progress)+"%",1)]),t("div",Bt,[t("div",{class:"bg-blue-600 h-2 rounded-full",style:U({width:a.progress+"%"})},null,4)])]),t("td",Ct,[t("div",St,[t("span",{class:o([v(a.status),"px-2 py-0.5 rounded-full text-xs font-medium"])},n(a.status),3)])]),t("td",$t,[t("div",It,[s(_,{href:d.route("checklists.show",a.id)},{default:z(()=>[s(V,{class:"text-blue-400"})]),_:1},8,["href"])])])]))),128)):(g(),b("tr",Nt,[...e[15]||(e[15]=[t("td",{colspan:"9",class:"py-6 font-medium text-center text-gray-500 dark:text-gray-400"}," Tidak ada data ditemukan ",-1)])]))])])]),r.checklists.data&&r.checklists.data.length>0?(g(),C(H,{key:0,pagination:r.checklists},null,8,["pagination"])):S("",!0)])])],64)}}});export{qt as default};
