import{d as _,y as M,z as ae,u as Ee,U as ze,e as a,o,b as U,a as e,f as y,w as ce,bq as qe,F as m,i as j,n as $,h as C,t as l,O as ge,E as v,V as X,G as D,J as Z,bu as Ge,g as f,c6 as Je,cK as Qe,K as We,H as q}from"./app-CJkCV51W.js";import{_ as Ye}from"./AppLayout-BlEKf3Fz.js";import{P as Xe}from"./PlusSquareIcon-DA_kLpvy.js";import{E as et}from"./EditIcon-B9T5EQzJ.js";import{u as tt,U as rt}from"./index.esm-BvO6AIEM.js";import{T as st}from"./TrashIcon-DSAHmBPH.js";import{_ as at}from"./Breadcrumb-BJQpsGcc.js";import{_ as ot}from"./Modal-Ddbg9qvg.js";import{_ as lt}from"./ConfirmModal-DAlWp-FQ.js";import"./FlashMessage-D4C-FUm8.js";import"./LayoutShell-FWpWJLvi.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useAuth-DvuTgkfF.js";import"./LayoutShell.vue_vue_type_style_index_0_lang-CRqqKi3W.js";const dt={class:"flex overflow-hidden flex-col gap-3 px-3 h-full"},nt={class:"flex justify-between items-center h-10"},it={class:"grid grid-cols-1 gap-4 lg:grid-cols-3"},ut={class:"bg-white rounded-lg lg:col-span-2"},ct={class:"flex flex-col gap-5 p-5 md:flex-row"},gt={key:0,class:"relative rounded-lg"},bt=["src","alt"],yt={class:"flex absolute bottom-2 left-1/2 gap-1 -translate-x-1/2"},vt=["onClick"],pt={key:1,class:"flex justify-center items-center h-40 w-full max-w-[220px] sm:h-[180px] bg-gray-50 rounded-xl border border-dashed border-gray-300"},ft={class:"flex flex-col gap-3 justify-between px-3 w-full text-gray-800"},mt={class:"flex justify-between"},xt={class:"space-y-1 w-3/5"},ht={class:"text-lg font-bold"},_t={class:"flex justify-between"},kt={class:"flex justify-between"},wt={class:"flex flex-col gap-4 items-end"},Ct={key:0},jt={class:"flex justify-center mb-1"},Dt={class:"text-blue-700 font- dark:text-white"},St={class:"w-full h-2 bg-gray-200 rounded-full dark:bg-gray-700"},It={key:0,class:"inline-flex items-center px-3 h-7 text-xs font-medium text-emerald-700 bg-emerald-50 rounded-full border border-emerald-200"},$t={key:1,class:"inline-flex items-center px-3 h-7 text-xs font-medium text-rose-700 bg-rose-50 rounded-full border border-rose-200"},Mt={class:"grid grid-cols-1 gap-6 text-sm font-semibold sm:grid-cols-3"},Vt={class:"space-y-1"},Pt={class:"text-gray-800"},Nt={class:"space-y-1"},Tt={class:"text-gray-800"},Ut={class:"space-y-1"},Ft={class:"text-gray-800"},Ht={class:"mb-6 bg-white rounded-lg lg:col-span-1"},Ot={class:"p-4"},Bt={class:"flex flex-col gap-4"},Lt={class:"flex justify-between items-center"},At={class:"text-base font-medium text-gray-800"},Rt={class:"flex justify-between items-center"},Kt={class:"text-base font-medium text-gray-800"},Zt={class:"mt-5 mb-6 bg-white rounded-lg lg:col-span-3"},Et={class:"p-4"},zt={class:"grid grid-cols-1 gap-4 md:grid-cols-3"},qt={class:"flex justify-between items-center md:flex-col md:items-start"},Gt={class:"text-right md:text-left"},Jt={class:"text-lg font-bold"},Qt={key:0,class:"text-xs text-gray-400"},Wt={class:"flex justify-between items-center md:flex-col md:items-start"},Yt={class:"text-right md:text-left"},Xt={class:"text-lg font-bold"},er={key:0,class:"text-xs text-gray-400"},tr={class:"flex justify-between items-center md:flex-col md:items-start"},rr={class:"text-right md:text-left"},sr={class:"text-lg font-bold"},ar={key:0,class:"text-xs text-gray-400"},or={class:"bg-white rounded-lg"},lr={class:"flex justify-between items-center pr-10"},dr={class:"flex flex-wrap -mb-px text-sm font-medium text-center",role:"tablist"},nr={role:"presentation"},ir={role:"presentation"},ur={role:"presentation"},cr={role:"presentation"},gr={class:"border-t border-gray-200"},br={class:"p-5 rounded-b-lg dark:bg-gray-800",role:"tabpanel"},yr={class:"overflow-x-auto bg-white shadow-sm"},vr={class:"flex justify-between items-center mb-4"},pr={class:"flex gap-2 items-center"},fr={class:"w-full text-sm border border-1"},mr={class:"py-3 border-gray-200 border-y dark:border-gray-600"},xr={class:"flex justify-center items-center whitespace-nowrap"},hr={class:"px-3 text-gray-500 dark:text-gray-400"},_r={class:"py-3 border border-gray-200 dark:border-gray-600"},kr={class:"flex justify-center items-center px-3 whitespace-nowrap"},wr={class:"text-gray-500 dark:text-gray-400"},Cr={class:"py-3 border border-gray-200 dark:border-gray-600"},jr={class:"flex justify-center items-center px-3 whitespace-nowrap"},Dr=["src","onClick"],Sr={class:"py-3 border border-gray-200 dark:border-gray-600"},Ir={class:"flex justify-center items-center px-3 whitespace-nowrap"},$r={class:"text-gray-500 dark:text-gray-400"},Mr={class:"py-3 border border-gray-200 dark:border-gray-600"},Vr={class:"flex justify-center items-center px-3 whitespace-nowrap"},Pr={class:"text-gray-500 dark:text-gray-400"},Nr={class:"py-3 border-gray-200 border-y dark:border-gray-600"},Tr={class:"flex gap-3 justify-center whitespace-nowrap"},Ur=["onClick"],Fr=["onClick"],Hr={key:1},Or={class:"flex justify-between items-center px-4 py-3 bg-gray-50 border-t border-gray-200 dark:bg-gray-700 dark:border-gray-600"},Br={class:"flex gap-4 items-center"},Lr={class:"text-sm text-gray-700 dark:text-gray-300"},Ar={class:"font-medium"},Rr={class:"font-medium"},Kr={class:"py-3 rounded-b-lg dark:bg-gray-800",role:"tabpanel"},Zr={class:"overflow-auto","data-simplebar":""},Er={class:"min-w-full text-sm"},zr={class:"bg-gray-50"},qr={class:"px-2 py-2 border border-gray-200 dark:border-gray-600"},Gr={class:"flex flex-col gap-1"},Jr={class:"px-2 py-2 border border-gray-200 dark:border-gray-600"},Qr=["value"],Wr={class:"px-2 py-2 border border-gray-200 dark:border-gray-600"},Yr={class:"py-3 border-gray-200 border-y dark:border-gray-600"},Xr={class:"flex justify-center items-center whitespace-nowrap"},es={class:"px-3 text-gray-500 dark:text-gray-400"},ts={class:"py-3 border border-gray-200 dark:border-gray-600"},rs={class:"flex justify-center items-center px-3 whitespace-nowrap"},ss={class:"text-gray-500 dark:text-gray-400"},as={class:"py-3 border border-gray-200 dark:border-gray-600"},os={class:"flex justify-center items-center px-3 whitespace-nowrap"},ls={class:"text-gray-500 dark:text-gray-400"},ds={class:"py-3 border border-gray-200 dark:border-gray-600"},ns={class:"px-14 whitespace-nowrap"},is={class:"flex justify-center mb-1"},us={class:"text-blue-700 dark:text-white"},cs={class:"w-full h-2 bg-gray-200 rounded-full dark:bg-gray-700"},gs={class:"py-3 border border-gray-200 dark:border-gray-600"},bs={class:"flex justify-center items-center px-3 whitespace-nowrap"},ys={class:"py-3 border-gray-200 border-y dark:border-gray-600"},vs={class:"flex gap-2 justify-center items-center px-3 whitespace-nowrap"},ps=["onClick"],fs={key:1},ms={key:0,class:"flex justify-between items-center px-4 py-3 bg-gray-50 border-t border-gray-200 dark:bg-gray-700 dark:border-gray-600"},xs={class:"flex gap-4 items-center"},hs={class:"text-sm text-gray-700 dark:text-gray-300"},_s={class:"font-medium"},ks={class:"font-medium"},ws={class:"flex items-center space-x-1"},Cs=["disabled"],js=["onClick"],Ds={key:1,class:"px-2 text-gray-500"},Ss=["disabled"],Is={class:"py-3 rounded-b-lg dark:bg-gray-800",role:"tabpanel"},$s={class:"overflow-x-auto"},Ms={class:"min-w-full text-sm"},Vs={class:"bg-gray-50"},Ps={class:"px-2 py-2 border border-gray-200 dark:border-gray-600"},Ns={class:"flex flex-col gap-1"},Ts={class:"px-2 py-2 border border-gray-200 dark:border-gray-600"},Us={class:"flex flex-col gap-1"},Fs={class:"px-2 py-2 border border-gray-200 dark:border-gray-600"},Hs={class:"flex flex-col gap-1"},Os={class:"py-3 border border-gray-200 dark:border-gray-600"},Bs={class:"flex justify-center items-center px-3 whitespace-nowrap"},Ls={class:"px-3 text-gray-500 dark:text-gray-400"},As={class:"py-3 border border-gray-200 dark:border-gray-600"},Rs={class:"flex justify-center items-center px-3"},Ks=["src","onClick"],Zs={key:1,class:"flex justify-center items-center w-12 h-12 bg-gray-200 rounded-full"},Es={class:"py-3 border border-gray-200 dark:border-gray-600"},zs={class:"flex items-center px-3 whitespace-nowrap"},qs={class:"text-gray-800 dark:text-gray-300"},Gs={class:"py-3 border border-gray-200 dark:border-gray-600"},Js={class:"flex justify-center items-center px-3 whitespace-nowrap"},Qs={class:"text-gray-800 dark:text-gray-300"},Ws={class:"py-3 border border-gray-200 dark:border-gray-600"},Ys={class:"flex justify-center items-center px-3 whitespace-nowrap"},Xs={class:"text-gray-800 dark:text-gray-300"},ea={class:"py-3 border-gray-200 border-y dark:border-gray-600"},ta={class:"flex gap-2 justify-center items-center px-3 whitespace-nowrap"},ra=["onClick"],sa={key:1},aa={key:0,class:"flex justify-between items-center px-4 py-3 bg-gray-50 border-t border-gray-200 dark:bg-gray-700 dark:border-gray-600"},oa={class:"flex gap-4 items-center"},la={class:"text-sm text-gray-700 dark:text-gray-300"},da={class:"font-medium"},na={class:"font-medium"},ia={class:"flex items-center space-x-1"},ua=["disabled"],ca=["onClick"],ga={key:1,class:"px-2 text-gray-500"},ba=["disabled"],ya={class:"py-3 rounded-b-lg dark:bg-gray-800",role:"tabpanel"},va={class:"overflow-x-auto"},pa={class:"min-w-full text-sm"},fa={class:"bg-gray-50"},ma={class:"px-2 py-2 border border-gray-200 dark:border-gray-600"},xa={class:"flex flex-col gap-1"},ha={class:"py-3 border border-gray-200 dark:border-gray-600"},_a={class:"flex justify-center items-center px-3 whitespace-nowrap"},ka={class:"px-3 text-gray-500 dark:text-gray-400"},wa={class:"py-3 border border-gray-200 dark:border-gray-600"},Ca={class:"flex items-center px-3 whitespace-nowrap"},ja={class:"text-gray-800 dark:text-gray-300"},Da={class:"py-3 border border-gray-200 dark:border-gray-600"},Sa={class:"flex justify-center items-center px-3 whitespace-nowrap"},Ia={class:"text-gray-800 dark:text-gray-300"},$a={class:"py-3 border-gray-200 border-y dark:border-gray-600"},Ma={class:"flex justify-center items-center px-3 whitespace-nowrap"},Va={class:"text-gray-800 dark:text-gray-300"},Pa={key:1},Na={key:0,class:"flex justify-between items-center px-4 py-3 bg-gray-50 border-t border-gray-200 dark:bg-gray-700 dark:border-gray-600"},Ta={class:"flex gap-4 items-center"},Ua={class:"text-sm text-gray-700 dark:text-gray-300"},Fa={class:"font-medium"},Ha={class:"font-medium"},Oa={class:"flex items-center space-x-1"},Ba=["disabled"],La=["onClick"],Aa={key:1,class:"px-2 text-gray-500"},Ra=["disabled"],Ka={class:"space-y-3"},Za={key:0,class:"space-y-1 text-sm"},Ea={class:"flex flex-wrap gap-2"},za=["src","alt"],qa={class:"space-y-1 text-sm"},Ga={class:"font-semibold text-gray-900 dark:text-white"},Ja={key:0,class:"text-red-500"},Qa={key:1,class:"font-normal text-gray-500"},Wa={key:0,class:"mb-3"},Ya={class:"grid grid-cols-3 gap-2"},Xa=["src","alt","onClick"],eo=["onClick"],to=["onClick"],ro={key:2,class:"flex absolute inset-0 justify-center items-center rounded-lg bg-red-500/20"},so={key:1,class:"mb-3"},ao={class:"grid grid-cols-3 gap-2"},oo=["src","alt"],lo=["onClick"],no={class:"flex gap-8 items-center justify-stretch"},io={class:"flex flex-col text-start"},uo={key:0},co={key:1},go={key:2,class:"mt-2 text-sm text-gray-600"},bo={key:2,class:"text-sm text-red-500"},yo={class:"space-y-1 text-sm"},vo={key:0,class:"text-sm text-red-500"},po={class:"flex gap-x-5 justify-between text-sm"},fo={for:"renewal_date",class:"space-y-1 w-1/2 font-semibold text-gray-900 dark:text-white"},mo={class:"relative"},xo={key:0,class:"text-sm text-red-500"},ho={for:"expired_date",class:"space-y-1 w-1/2 font-semibold text-gray-900 dark:text-white"},_o={class:"relative"},ko={key:0,class:"text-sm text-red-500"},wo={class:"w-full max-w-5xl bg-white rounded-lg shadow-lg"},Co={class:"flex justify-between items-center px-5 py-2.5 border-b"},jo={class:"font-semibold"},Do={class:"relative bg-gray-100 rounded-lg"},So={class:"overflow-hidden h-[90vh] flex items-center justify-center"},Io=["src","alt"],$o={class:"flex absolute bottom-3 left-1/2 gap-2 -translate-x-1/2"},Mo=["onClick"],zo=Object.assign({layout:Ye},{__name:"Show",props:{vehicle:Object,vehicleDocuments:Object,vehicleInspections:Object,vehicleServices:Object,vehicleOdometerHistory:{type:Array,default:()=>[]},images:Array},setup(u){const be=[{label:"Kendaraan"},{label:"Detail Kendaraan"}],g=u;console.log(g.vehicleInspections);const V=_("documents"),b=_({date_from:"",date_to:"",inspector:"",progress_from:null,progress_to:null,status:""}),ye=M(()=>{if(!g.vehicleInspections||!Array.isArray(g.vehicleInspections))return[];const s=new Map;return g.vehicleInspections.forEach(t=>{t.submitted_by?.id&&t.submitted_by?.name&&(s.has(t.submitted_by.id)||s.set(t.submitted_by.id,{id:t.submitted_by.id,name:t.submitted_by.name}))}),Array.from(s.values()).sort((t,n)=>t.name.localeCompare(n.name))}),N=M(()=>{if(!g.vehicleInspections||!Array.isArray(g.vehicleInspections))return[];let s=[...g.vehicleInspections];if((b.value.date_from||b.value.date_to)&&(s=s.filter(t=>{if(!t.submit_date)return!1;const n=new Date(t.submit_date);if(n.setHours(0,0,0,0),b.value.date_from){const r=new Date(b.value.date_from);if(r.setHours(0,0,0,0),n<r)return!1}if(b.value.date_to){const r=new Date(b.value.date_to);if(r.setHours(23,59,59,999),n>r)return!1}return!0})),b.value.inspector&&(s=s.filter(t=>t.submitted_by?.id===parseInt(b.value.inspector))),b.value.progress_from!==null&&b.value.progress_from!==""&&b.value.progress_from!==void 0){const t=Number(b.value.progress_from);isNaN(t)||(s=s.filter(n=>(Number(n.progress)||0)>=t))}if(b.value.progress_to!==null&&b.value.progress_to!==""&&b.value.progress_to!==void 0){const t=Number(b.value.progress_to);isNaN(t)||(s=s.filter(n=>(Number(n.progress)||0)<=t))}return b.value.status&&(s=s.filter(t=>t.status?.toLowerCase()===b.value.status.toLowerCase())),s});function ve(){b.value={date_from:"",date_to:"",inspector:"",progress_from:null,progress_to:null,status:""},k.value=1}const k=_(1),E=_(10),pe=M(()=>{const s=(k.value-1)*E.value,t=s+E.value;return N.value.slice(s,t)}),B=M(()=>Math.ceil(N.value.length/E.value));function fe(s){s>=1&&s<=B.value&&(k.value=s)}function me(){k.value>1&&k.value--}function xe(){k.value<B.value&&k.value++}const d=_({date_from:"",date_to:"",distance_from:null,distance_to:null,cost_from:null,cost_to:null}),T=M(()=>{if(!g.vehicleServices||!Array.isArray(g.vehicleServices))return[];let s=[...g.vehicleServices];if((d.value.date_from||d.value.date_to)&&(s=s.filter(t=>{if(!t.date)return!1;const n=new Date(t.date);if(n.setHours(0,0,0,0),d.value.date_from){const r=new Date(d.value.date_from);if(r.setHours(0,0,0,0),n<r)return!1}if(d.value.date_to){const r=new Date(d.value.date_to);if(r.setHours(23,59,59,999),n>r)return!1}return!0})),d.value.distance_from!==null&&d.value.distance_from!==""&&d.value.distance_from!==void 0){const t=Number(d.value.distance_from);isNaN(t)||(s=s.filter(n=>(Number(n.distance)||0)>=t))}if(d.value.distance_to!==null&&d.value.distance_to!==""&&d.value.distance_to!==void 0){const t=Number(d.value.distance_to);isNaN(t)||(s=s.filter(n=>(Number(n.distance)||0)<=t))}if(d.value.cost_from!==null&&d.value.cost_from!==""&&d.value.cost_from!==void 0){const t=Number(d.value.cost_from);isNaN(t)||(s=s.filter(n=>(Number(n.cost)||0)>=t))}if(d.value.cost_to!==null&&d.value.cost_to!==""&&d.value.cost_to!==void 0){const t=Number(d.value.cost_to);isNaN(t)||(s=s.filter(n=>(Number(n.cost)||0)<=t))}return s.sort((t,n)=>{const r=new Date(t.date);return new Date(n.date)-r}),s});function he(){d.value={date_from:"",date_to:"",distance_from:null,distance_to:null,cost_from:null,cost_to:null},w.value=1}const w=_(1),z=_(10),_e=M(()=>{const s=(w.value-1)*z.value,t=s+z.value;return T.value.slice(s,t)}),L=M(()=>Math.ceil(T.value.length/z.value));function ke(s){s>=1&&s<=L.value&&(w.value=s)}function we(){w.value>1&&w.value--}function Ce(){w.value<L.value&&w.value++}const S=_({date_from:"",date_to:""}),x=_(1),A=_(10);function G(s){V.value=s,k.value=1,w.value=1,x.value=1,s!=="odometer"&&(S.value={date_from:"",date_to:""})}ae(()=>b.value,()=>{k.value=1},{deep:!0}),ae(()=>d.value,()=>{w.value=1},{deep:!0}),ae(()=>S.value,()=>{x.value=1},{deep:!0});const R=M(()=>{if(!g.vehicleOdometerHistory||!Array.isArray(g.vehicleOdometerHistory))return[];let s=[...g.vehicleOdometerHistory];return(S.value.date_from||S.value.date_to)&&(s=s.filter(t=>{if(!t.tanggal)return!1;const n=new Date(t.tanggal);if(n.setHours(0,0,0,0),S.value.date_from){const r=new Date(S.value.date_from);if(r.setHours(0,0,0,0),n<r)return!1}if(S.value.date_to){const r=new Date(S.value.date_to);if(r.setHours(23,59,59,999),n>r)return!1}return!0})),s});function je(){S.value={date_from:"",date_to:""},x.value=1}const J=M(()=>{const s=(x.value-1)*A.value,t=s+A.value;return R.value.slice(s,t)}),K=M(()=>Math.ceil(R.value.length/A.value));function De(s){s>=1&&s<=K.value&&(x.value=s)}function Se(){x.value>1&&x.value--}function Ie(){x.value<K.value&&x.value++}function F(s){return new Date(s).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"})}function oe(s){const t={submitted:{label:"Selesai",class:"text-green-600 bg-green-100 border-green-300"},approved:{label:"Selesai",class:"text-green-600 bg-green-100 border-green-300"},draft:{label:"Belum Selesai",class:"text-yellow-600 bg-yellow-100 border-yellow-300"},on_progress:{label:"Sedang Berjalan",class:"text-blue-600 bg-blue-100 border-blue-300"},rejected:{label:"Ditolak",class:"text-red-600 bg-red-100 border-red-300"}},n=s?.toLowerCase()||"";return t[n]||{label:s||"-",class:"text-gray-600 bg-gray-100 border-gray-300"}}const Q=_(!1),P=_(!1),H=_([]),i=Ee({id:null,vehicle_id:g.vehicle.id,name:"",renewal_date:"",expired_date:"",files:[]}),W=M(()=>!i.files||i.files.length===0?[]:i.files.map(s=>s instanceof File?URL.createObjectURL(s):null).filter(Boolean));function $e(s,t){i.files=s,t.forEach(n=>{n.errors.forEach(r=>{r.code==="file-too-large"?flash.error(`File ${n.file.name} terlalu besar!`):r.code==="file-invalid-type"?flash.error(`Tipe file ${n.file.name} tidak diperbolehkan!`):r.code==="too-many-files"?flash.error("Maksimal hanya 5 file yang diperbolehkan!"):console.warn("Unhandled dropzone error:",r.code,n.file)})})}function Me(s){const t=i.files[s];if(t instanceof File){const n=URL.createObjectURL(t);URL.revokeObjectURL(n)}i.files.splice(s,1)}function Ve(s){H.value.push(s)}function Pe(s){H.value=H.value.filter(t=>t!==s)}function ee(s){return H.value.includes(s)}const{getRootProps:Ne,getInputProps:Te,isDragActive:Ue}=tt({onDrop:$e,multiple:!0,accept:"image/jpeg, image/png",maxFiles:5,maxSize:5*1024*1024});function Fe(){i.reset(),P.value=!1,H.value=[],Q.value=!0}function He(s){i.id=s.id,i.vehicle_id=g.vehicle.id,i.name=s.name,i.renewal_date=s.renewal_date,i.expired_date=s.expired_date,i.files=[],h.value=s,P.value=!0,Q.value=!0}function te(){W.value.length>0&&W.value.forEach(s=>{URL.revokeObjectURL(s)}),Q.value=!1,h.value=null,H.value=[],i.reset(),i.clearErrors()}function Oe(){if(P.value){const s=i.files&&i.files.length>0,n=h.value?.files&&h.value.files.length>0&&H.value.length===h.value.files.length;if(!s&&n){i.setError("files","Minimal harus ada satu file dokumen");return}}P.value?i.transform(s=>({...s,_method:"PUT"})).post(route("vehicle-documents.update",i.id),{forceFormData:!0,preserveScroll:!0,onSuccess:()=>{te(),q.reload({only:["vehicle","vehicleDocuments"]})}}):i.post(route("vehicle-documents.store"),{onSuccess:()=>{te(),q.reload({only:["vehicle","vehicleDocuments"]})}})}const h=_(null),re=_(!1),Be=s=>{h.value=s,re.value=!0},le=()=>{h.value=null,re.value=!1},Le=()=>{q.delete(route("vehicle-documents.destroy",h.value.id),{onSuccess:()=>{le()},preserveScroll:!0})},se=_(!1),p=_(0),O=_([]);function Y(s,t=0){O.value=s,p.value=t,se.value=!0}function de(){se.value=!1}function ne(){p.value=p.value===0?O.value.length-1:p.value-1}function ie(){p.value=p.value===O.value.length-1?0:p.value+1}function Ae(s){q.visit(route("inspections.show",s))}function Re(s){q.visit(route("vehicle-services.show",s))}function ue(s){return g.images&&g.images.length>0?g.images[0]?.file_path:g.vehicle?.files&&g.vehicle.files.length>0?(g.vehicle.files.find(n=>n.type==="photo")||g.vehicle.files[0])?.file_path:null}function Ke(s){return g.images&&g.images.length>0?g.images.map(t=>({id:t.id,file_path:t.file_path})):g.vehicle?.files&&g.vehicle.files.length>0?g.vehicle.files.map(t=>({id:t.id,file_path:t.file_path})):[]}return(s,t)=>{const n=ze("Head");return o(),a(m,null,[U(n,{title:"Detail Kendaraan"}),e("div",dt,[e("div",nt,[U(at,{items:be})]),e("div",it,[e("div",ut,[t[36]||(t[36]=e("div",{class:"px-5 py-3 border-b border-gray-200"},[e("h1",{class:"text-lg font-semibold text-gray-800"}," Detail Informasi ")],-1)),e("div",ct,[u.images&&u.images.length>0?(o(),a("div",gt,[U(qe,{name:"fade",mode:"out-in"},{default:ce(()=>[u.images.length>0?(o(),a("img",{key:u.images[p.value].id??p.value,src:`/storage/${u.images[p.value].file_path}`,alt:`Foto Barang ${p.value+1}`,class:"h-40 w-full max-w-[220px] rounded-xl object-contain cursor-pointer sm:h-[180px]",onClick:t[0]||(t[0]=r=>Y(u.images,p.value))},null,8,bt)):y("",!0)]),_:1}),p.value>0?(o(),a("button",{key:0,onClick:ne,class:"absolute left-2 top-1/2 p-1 text-white rounded-full -translate-y-1/2 bg-black/50"}," ‹ ")):y("",!0),p.value<O.value.length-1?(o(),a("button",{key:1,onClick:ie,class:"absolute right-2 top-1/2 p-1 text-white rounded-full -translate-y-1/2 bg-black/50"}," › ")):y("",!0),e("div",yt,[(o(!0),a(m,null,j(u.images,(r,c)=>(o(),a("span",{key:r.id??c,class:$(["w-2 h-2 rounded-full cursor-pointer",c===p.value?"bg-white":"bg-gray-400"]),onClick:I=>p.value=c},null,10,vt))),128))])])):(o(),a("div",pt,[...t[32]||(t[32]=[e("span",{class:"flex gap-2 justify-center items-center text-sm text-gray-400"},[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M21 19V7a2 2 0 0 0-2-2H5C3.9 5 3 5.9 3 7v12a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2ZM8.5 11A2.5 2.5 0 1 0 8.5 6a2.5 2.5 0 0 0 0 5Zm12.5 6-6-8-5 6-3-4-5 6h19Z",fill:"currentColor"})]),C(" Tidak ada foto kendaraan ")],-1)])])),e("div",ft,[e("div",mt,[e("div",xt,[e("div",ht,l(u.vehicle.type?.name)+" - "+l(u.vehicle.license_code),1),e("div",_t,[e("div",null,l(u.vehicle.branch?.name),1)]),e("div",kt,[e("div",null,l(u.vehicle.track),1)])]),e("div",wt,[u.vehicle.progress?(o(),a("div",Ct,[e("div",jt,[e("span",Dt,l(u.vehicle.progress)+"%",1)]),e("div",St,[e("div",{class:"h-2 bg-blue-600 rounded-full",style:ge({width:u.vehicle.progress+"%"})},null,4)])])):y("",!0),e("div",null,[u.vehicle.status?(o(),a("span",It,"Aktif")):(o(),a("span",$t,"Non Aktif"))])])]),e("div",Mt,[e("div",Vt,[t[33]||(t[33]=e("div",{class:"text-gray-500"},"Nama Driver",-1)),e("div",Pt,l(u.vehicle.driver?.name??"-"),1)]),e("div",Nt,[t[34]||(t[34]=e("div",{class:"text-gray-500"},"Nomor Rangka",-1)),e("div",Tt,l(u.vehicle.chassis_code??"-"),1)]),e("div",Ut,[t[35]||(t[35]=e("div",{class:"text-gray-500"},"Nomor Mesin",-1)),e("div",Ft,l(u.vehicle.machine_code??"-"),1)])])])])]),e("div",Ht,[t[39]||(t[39]=e("div",{class:"px-5 py-3 border-b border-gray-200"},[e("h1",{class:"text-lg font-semibold text-gray-800"}," Rute Perjalanan ")],-1)),e("div",Ot,[e("div",Bt,[e("div",Lt,[t[37]||(t[37]=e("span",{class:"text-base text-gray-500"},"Rute Penugasan",-1)),e("span",At,l(u.vehicle.track??"-"),1)]),e("div",Rt,[t[38]||(t[38]=e("span",{class:"text-base text-gray-500"},"Cabang",-1)),e("span",Kt,l(u.vehicle.branch?.name??"-"),1)])])])]),e("div",Zt,[t[43]||(t[43]=e("div",{class:"px-5 py-3 border-b border-gray-200"},[e("h1",{class:"text-lg font-semibold text-gray-800"}," Riwayat Terakhir ")],-1)),e("div",Et,[e("div",zt,[e("div",qt,[t[40]||(t[40]=e("span",{class:"text-base text-gray-500"},"Jarak Tempuh",-1)),e("div",Gt,[e("div",Jt,l(u.vehicle.service?.distance??0)+" KM ",1),u.vehicle.service?(o(),a("div",Qt,l(Math.floor((new Date-new Date(u.vehicle.service.date))/(1e3*60*60*24)))+" hari lalu ",1)):y("",!0)])]),e("div",Wt,[t[41]||(t[41]=e("span",{class:"text-base text-gray-500"},"Inspeksi Terakhir",-1)),e("div",Yt,[e("div",Xt,l(u.vehicle.inspection?F(u.vehicle.inspection.created_at):"Tidak ditemukan"),1),u.vehicle.inspection?(o(),a("div",er,l(Math.floor((new Date-new Date(u.vehicle.inspection.created_at))/(1e3*60*60*24)))+" hari lalu ",1)):y("",!0)])]),e("div",tr,[t[42]||(t[42]=e("span",{class:"text-base text-gray-500"},"Servis Terakhir",-1)),e("div",rr,[e("div",sr,l(u.vehicle.service?F(u.vehicle.service.date):"Tidak ditemukan"),1),u.vehicle.service?(o(),a("div",ar,l(Math.floor((new Date-new Date(u.vehicle.service.date))/(1e3*60*60*24)))+" hari lalu ",1)):y("",!0)])])])])])]),e("div",or,[e("div",lr,[e("ul",dr,[e("li",nr,[e("button",{onClick:t[1]||(t[1]=r=>G("documents")),class:$(["inline-block p-4 border-b-2 rounded-t-lg transition-colors",V.value==="documents"?"border-blue-600 text-blue-700":"border-transparent text-gray-500 hover:text-gray-600 hover:border-gray-300"]),type:"button",role:"tab"}," Dokumen Kendaraan ("+l(u.vehicleDocuments?.length||0)+") ",3)]),e("li",ir,[e("button",{onClick:t[2]||(t[2]=r=>G("inspections")),class:$(["inline-block p-4 border-b-2 rounded-t-lg transition-colors",V.value==="inspections"?"border-blue-600 text-blue-700":"border-transparent text-gray-500 hover:text-gray-600 hover:border-gray-300"]),type:"button",role:"tab"}," Riwayat Inspeksi ("+l(N.value?.length||0)+") ",3)]),e("li",ur,[e("button",{onClick:t[3]||(t[3]=r=>G("services")),class:$(["inline-block p-4 border-b-2 rounded-t-lg transition-colors",V.value==="services"?"border-blue-600 text-blue-700":"border-transparent text-gray-500 hover:text-gray-600 hover:border-gray-300"]),type:"button",role:"tab"}," Riwayat Service ("+l(T.value?.length||0)+") ",3)]),e("li",cr,[e("button",{onClick:t[4]||(t[4]=r=>G("odometer")),class:$(["inline-block p-4 border-b-2 rounded-t-lg transition-colors",V.value==="odometer"?"border-blue-600 text-blue-700":"border-transparent text-gray-500 hover:text-gray-600 hover:border-gray-300"]),type:"button",role:"tab"}," Riwayat Kilometer ("+l(R.value?.length||0)+") ",3)])]),V.value==="documents"?(o(),a("button",{key:0,onClick:Fe,type:"button",class:"flex gap-2 items-center px-3 py-2 text-white bg-blue-500 rounded transition-colors hover:bg-blue-600"},[U(Xe),t[44]||(t[44]=e("span",{class:"hidden text-sm md:block"},"Tambah Dokumen",-1))])):y("",!0)]),e("div",gr,[v(e("div",br,[e("div",yr,[e("div",vr,[e("div",pr,[v(e("input",{"onUpdate:modelValue":t[5]||(t[5]=r=>s.searchQuery=r),type:"text",placeholder:"Cari dokumen...",class:"px-3 py-2 text-sm rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[D,s.searchQuery]])])]),e("table",fr,[t[46]||(t[46]=e("thead",null,[e("tr",null,[e("th",{class:"py-3 border-gray-200 border-y dark:border-gray-600 dark:bg-gray-800"},[e("div",{class:"flex justify-center items-center px-3"},[e("p",{class:"flex flex-col items-center font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"}," No. ")])]),e("th",{class:"py-3 border border-gray-200 cursor-pointer dark:border-gray-600 dark:bg-gray-800"},[e("div",{class:"flex gap-2 justify-center items-center px-3"},[e("p",{class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"}," Nama Dokumen ")])]),e("th",{class:"py-3 border border-gray-200 cursor-pointer dark:border-gray-600 dark:bg-gray-800"},[e("div",{class:"flex gap-2 justify-center items-center px-3"},[e("p",{class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"}," Lampiran ")])]),e("th",{class:"py-3 border border-gray-200 cursor-pointer dark:border-gray-600 dark:bg-gray-800"},[e("div",{class:"flex gap-2 justify-center items-center px-3"},[e("p",{class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"}," Tanggal Perpanjangan ")])]),e("th",{class:"py-3 border border-gray-200 cursor-pointer dark:border-gray-600 dark:bg-gray-800"},[e("div",{class:"flex gap-2 justify-center items-center px-3"},[e("p",{class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"}," Tanggal Kadaluarsa ")])]),e("th",{class:"py-3 border-gray-200 cursor-pointer border-y dark:border-gray-600 dark:bg-gray-800"},[e("div",{class:"flex gap-2 justify-center items-center px-3"},[e("p",{class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"}," Aksi ")])])])],-1)),e("tbody",null,[u.vehicleDocuments&&u.vehicleDocuments.length>0?(o(!0),a(m,{key:0},j(u.vehicleDocuments,(r,c)=>(o(),a("tr",{key:r.id,class:"cursor-pointer hover: dark:hover:bg-gray-800"},[e("td",mr,[e("div",xr,[e("p",hr,l(c+1)+". ",1)])]),e("td",_r,[e("div",kr,[e("p",wr,l(r.name),1)])]),e("td",Cr,[e("div",jr,[(o(!0),a(m,null,j(r.files,(I,Ze)=>(o(),a("img",{key:I.id,src:`/storage/${I.file_path}`,onClick:Vo=>Y(r.files,Ze),class:"object-contain w-10 h-10 transition-opacity duration-500 cursor-pointer"},null,8,Dr))),128))])]),e("td",Sr,[e("div",Ir,[e("p",$r,l(F(r.renewal_date)),1)])]),e("td",Mr,[e("div",Vr,[e("p",Pr,l(F(r.expired_date)),1)])]),e("td",Nr,[e("div",Tr,[e("button",{onClick:I=>He(r)},[U(et,{class:"text-yellow-500"})],8,Ur),e("button",{onClick:I=>Be(r)},[U(st,{class:"text-red-500"})],8,Fr)])])]))),128)):(o(),a("tr",Hr,[...t[45]||(t[45]=[e("td",{colspan:"6",class:"py-8 font-medium text-center text-gray-500 dark:text-gray-400"},[e("div",{class:"flex flex-col gap-2 items-center"},[e("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6Zm4 18H6V4h7v5h5v11Z",fill:"currentColor"})]),e("div",null," Tidak ada dokumen ditemukan. ")])],-1)])]))])]),e("div",Or,[e("div",Br,[v(e("select",{"onUpdate:modelValue":t[6]||(t[6]=r=>s.perPage=r),class:"px-3 py-2 text-sm rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-white"},[...t[47]||(t[47]=[e("option",{value:"10"},"10 per halaman",-1),e("option",{value:"25"},"25 per halaman",-1),e("option",{value:"50"},"50 per halaman",-1)])],512),[[Z,s.perPage]]),e("div",Lr,[t[48]||(t[48]=C(" Menampilkan ",-1)),e("span",Ar,l(s.paginatedDocuments?.length||0),1),t[49]||(t[49]=C(" dari ",-1)),e("span",Rr,l(s.filteredDocuments?.length||0),1),t[50]||(t[50]=C(" dokumen ",-1))])]),t[51]||(t[51]=e("div",{class:"flex items-center space-x-1"},[e("button",{class:"px-3 py-1 text-sm text-gray-500 bg-white rounded-md border border-gray-300 hover:bg-gray-50 disabled:opacity-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-400 dark:hover:bg-gray-700",disabled:""}," ‹ Sebelumnya "),e("button",{class:"px-3 py-1 text-sm text-white bg-blue-500 rounded-md border border-blue-500"}," 1 "),e("button",{class:"px-3 py-1 text-sm text-gray-500 bg-white rounded-md border border-gray-300 hover:bg-gray-50 disabled:opacity-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-400 dark:hover:bg-gray-700",disabled:""}," Selanjutnya › ")],-1))])])],512),[[X,V.value==="documents"]]),v(e("div",Kr,[e("div",Zr,[e("table",Er,[t[57]||(t[57]=e("thead",null,[e("tr",null,[e("th",{class:"py-3 border-gray-200 border-y dark:border-gray-600 dark:bg-gray-800"},[e("div",{class:"flex justify-center items-center px-3"},[e("p",{class:"flex flex-col items-center font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"}," No. ")])]),e("th",{class:"py-3 border border-gray-200 cursor-pointer dark:border-gray-600 dark:bg-gray-800"},[e("div",{class:"flex gap-2 justify-center items-center px-3"},[e("p",{class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"}," Tanggal Inspeksi ")])]),e("th",{class:"py-3 border border-gray-200 cursor-pointer dark:border-gray-600 dark:bg-gray-800"},[e("div",{class:"flex gap-2 justify-center items-center px-3"},[e("p",{class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"}," Inspektor ")])]),e("th",{class:"py-3 border border-gray-200 cursor-pointer dark:border-gray-600 dark:bg-gray-800"},[e("div",{class:"flex gap-2 justify-center items-center px-3"},[e("p",{class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"}," % Kondisi ")])]),e("th",{class:"py-3 border border-gray-200 cursor-pointer dark:border-gray-600 dark:bg-gray-800"},[e("div",{class:"flex gap-2 justify-center items-center px-3"},[e("p",{class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"}," Status ")])]),e("th",{class:"py-3 border-gray-200 cursor-pointer border-y dark:border-gray-600 dark:bg-gray-800"},[e("div",{class:"flex gap-2 justify-center items-center px-3"},[e("p",{class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"}," Aksi ")])])])],-1)),e("thead",zr,[e("tr",null,[t[54]||(t[54]=e("th",{class:"px-2 py-2 border border-gray-200 dark:border-gray-600"},null,-1)),e("th",qr,[e("div",Gr,[v(e("input",{"onUpdate:modelValue":t[7]||(t[7]=r=>b.value.date_from=r),type:"date",placeholder:"Dari",class:"px-2 w-full h-8 text-xs rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[D,b.value.date_from]]),v(e("input",{"onUpdate:modelValue":t[8]||(t[8]=r=>b.value.date_to=r),type:"date",placeholder:"Sampai",class:"px-2 w-full h-8 text-xs rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[D,b.value.date_to]])])]),e("th",Jr,[v(e("select",{"onUpdate:modelValue":t[9]||(t[9]=r=>b.value.inspector=r),class:"px-2 py-1 w-full text-xs rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"},[t[52]||(t[52]=e("option",{value:""}," Semua Inspektor ",-1)),(o(!0),a(m,null,j(ye.value,r=>(o(),a("option",{key:r.id,value:r.id},l(r.name),9,Qr))),128))],512),[[Z,b.value.inspector]])]),t[55]||(t[55]=e("th",{class:"px-2 py-2 border border-gray-200 dark:border-gray-600"},null,-1)),e("th",Wr,[v(e("select",{"onUpdate:modelValue":t[10]||(t[10]=r=>b.value.status=r),class:"px-2 py-1 w-full text-xs rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"},[...t[53]||(t[53]=[e("option",{value:""}," Semua Status ",-1),e("option",{value:"draft"}," Belum Selesai ",-1),e("option",{value:"on_progress"}," Sedang Berjalan ",-1),e("option",{value:"submitted"}," Selesai ",-1)])],512),[[Z,b.value.status]])]),e("th",{class:"px-2 py-2 border border-gray-200 dark:border-gray-600"},[e("button",{onClick:ve,class:"px-2 py-1 text-xs text-gray-600 bg-white rounded border border-gray-300 hover:bg-gray-50"}," Clear ")])])]),e("tbody",null,[N.value&&N.value.length>0?(o(!0),a(m,{key:0},j(N.value,(r,c)=>(o(),a("tr",{key:r.id,class:"border-b border-gray-200 hover:bg-gray-50"},[e("td",Yr,[e("div",Xr,[e("p",es,l(c+1)+". ",1)])]),e("td",ts,[e("div",rs,[e("p",ss,l(F(r.created_at)),1)])]),e("td",as,[e("div",os,[e("p",ls,l(r.submitted_by?.name??"-"),1)])]),e("td",ds,[e("div",ns,[e("div",is,[e("span",us,l(r.progress)+"%",1)]),e("div",cs,[e("div",{class:"h-2 bg-blue-600 rounded-full",style:ge({width:r.progress+"%"})},null,4)])])]),e("td",gs,[e("div",bs,[e("span",{class:$([oe(r.status).class,"px-2 py-1 font-normal rounded-lg border-2"])},l(oe(r.status).label),3)])]),e("td",ys,[e("div",vs,[e("button",{onClick:I=>Ae(r.id),class:"px-3 py-1 text-xs text-blue-600 bg-blue-50 rounded-lg border border-blue-200 hover:bg-blue-100"}," Lihat Detail ",8,ps)])])]))),128)):(o(),a("tr",fs,[...t[56]||(t[56]=[e("td",{colspan:"6",class:"py-8 font-medium text-center text-gray-500"},[e("div",{class:"flex flex-col gap-2 items-center"},[e("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M9 11H7v2h2v-2Zm4 0h-2v2h2v-2Zm4 0h-2v2h2v-2Zm2-7h-1V2h-2v2H8V2H6v2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2Zm0 16H5V9h14v11Z",fill:"currentColor"})]),e("div",null," Belum ada riwayat inspeksi ")])],-1)])]))])]),N.value&&N.value.length>0?(o(),a("div",ms,[e("div",xs,[v(e("select",{"onUpdate:modelValue":t[11]||(t[11]=r=>E.value=r),onChange:t[12]||(t[12]=r=>k.value=1),class:"px-3 py-2 text-sm rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-white"},[...t[58]||(t[58]=[e("option",{value:10},"10 per halaman",-1),e("option",{value:25},"25 per halaman",-1),e("option",{value:50},"50 per halaman",-1)])],544),[[Z,E.value,void 0,{number:!0}]]),e("div",hs,[t[59]||(t[59]=C(" Menampilkan ",-1)),e("span",_s,l(pe.value?.length||0),1),t[60]||(t[60]=C(" dari ",-1)),e("span",ks,l(N.value?.length||0),1),t[61]||(t[61]=C(" inspeksi ",-1))])]),e("div",ws,[e("button",{onClick:me,disabled:k.value===1,class:"px-3 py-1 text-sm text-gray-500 bg-white rounded-md border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed dark:bg-gray-800 dark:border-gray-600 dark:text-gray-400 dark:hover:bg-gray-700"}," ‹ Sebelumnya ",8,Cs),(o(!0),a(m,null,j(B.value,r=>(o(),a(m,{key:r},[r===1||r===B.value||r>=k.value-1&&r<=k.value+1?(o(),a("button",{key:0,onClick:c=>fe(r),class:$(["px-3 py-1 text-sm rounded-md border",k.value===r?"text-white bg-blue-500 border-blue-500":"text-gray-500 bg-white border-gray-300 hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-400 dark:hover:bg-gray-700"])},l(r),11,js)):r===k.value-2||r===k.value+2?(o(),a("span",Ds," ... ")):y("",!0)],64))),128)),e("button",{onClick:xe,disabled:k.value===B.value||B.value===0,class:"px-3 py-1 text-sm text-gray-500 bg-white rounded-md border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed dark:bg-gray-800 dark:border-gray-600 dark:text-gray-400 dark:hover:bg-gray-700"}," Selanjutnya › ",8,Ss)])])):y("",!0)])],512),[[X,V.value==="inspections"]]),v(e("div",Is,[e("div",$s,[e("table",Ms,[t[66]||(t[66]=e("thead",null,[e("tr",null,[e("th",{class:"p-3 bg-gray-100 border-gray-200 border-y"},[e("div",{class:"font-medium text-center text-gray-600"}," No ")]),e("th",{class:"p-3 bg-gray-100 border border-gray-200"},[e("div",{class:"font-medium text-center text-gray-600"}," Gambar Kendaraan ")]),e("th",{class:"p-3 bg-gray-100 border border-gray-200"},[e("div",{class:"font-medium text-left text-gray-600"}," Tanggal Service ")]),e("th",{class:"p-3 bg-gray-100 border border-gray-200"},[e("div",{class:"font-medium text-center text-gray-600"}," Jarak Tempuh ")]),e("th",{class:"p-3 bg-gray-100 border border-gray-200"},[e("div",{class:"font-medium text-center text-gray-600"}," Biaya Service ")]),e("th",{class:"p-3 bg-gray-100 border-gray-200 border-y"},[e("div",{class:"font-medium text-center text-gray-600"}," Aksi ")])])],-1)),e("thead",Vs,[e("tr",null,[t[62]||(t[62]=e("th",{class:"px-2 py-2 border border-gray-200 dark:border-gray-600"},null,-1)),t[63]||(t[63]=e("th",{class:"px-2 py-2 border border-gray-200 dark:border-gray-600"},null,-1)),e("th",Ps,[e("div",Ns,[v(e("input",{"onUpdate:modelValue":t[13]||(t[13]=r=>d.value.date_from=r),type:"date",placeholder:"Dari",class:"px-2 w-full h-8 text-xs rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[D,d.value.date_from]]),v(e("input",{"onUpdate:modelValue":t[14]||(t[14]=r=>d.value.date_to=r),type:"date",placeholder:"Sampai",class:"px-2 w-full h-8 text-xs rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[D,d.value.date_to]])])]),e("th",Ts,[e("div",Us,[v(e("input",{"onUpdate:modelValue":t[15]||(t[15]=r=>d.value.distance_from=r),type:"number",min:"0",step:"1",placeholder:"Min (≥)",class:"px-2 w-full h-8 text-xs rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",onInput:t[16]||(t[16]=r=>d.value.distance_from=d.value.distance_from===""?null:d.value.distance_from)},null,544),[[D,d.value.distance_from,void 0,{number:!0}]]),v(e("input",{"onUpdate:modelValue":t[17]||(t[17]=r=>d.value.distance_to=r),type:"number",min:"0",step:"1",placeholder:"Max (≤)",class:"px-2 w-full h-8 text-xs rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",onInput:t[18]||(t[18]=r=>d.value.distance_to=d.value.distance_to===""?null:d.value.distance_to)},null,544),[[D,d.value.distance_to,void 0,{number:!0}]])])]),e("th",Fs,[e("div",Hs,[v(e("input",{"onUpdate:modelValue":t[19]||(t[19]=r=>d.value.cost_from=r),type:"number",min:"0",step:"1",placeholder:"Min (≥)",class:"px-2 w-full h-8 text-xs rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",onInput:t[20]||(t[20]=r=>d.value.cost_from=d.value.cost_from===""?null:d.value.cost_from)},null,544),[[D,d.value.cost_from,void 0,{number:!0}]]),v(e("input",{"onUpdate:modelValue":t[21]||(t[21]=r=>d.value.cost_to=r),type:"number",min:"0",step:"1",placeholder:"Max (≤)",class:"px-2 w-full h-8 text-xs rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",onInput:t[22]||(t[22]=r=>d.value.cost_to=d.value.cost_to===""?null:d.value.cost_to)},null,544),[[D,d.value.cost_to,void 0,{number:!0}]])])]),e("th",{class:"px-2 py-2 border border-gray-200 dark:border-gray-600"},[e("button",{onClick:he,class:"px-2 py-1 text-xs text-gray-600 bg-white rounded border border-gray-300 hover:bg-gray-50"}," Clear ")])])]),e("tbody",null,[T.value&&T.value.length>0?(o(!0),a(m,{key:0},j(T.value,(r,c)=>(o(),a("tr",{key:r.id,class:"border-b border-gray-200 hover:bg-gray-50"},[e("td",Os,[e("div",Bs,[e("p",Ls,l(c+1)+". ",1)])]),e("td",As,[e("div",Rs,[ue()?(o(),a("img",{key:0,src:`/storage/${ue()}`,onClick:I=>Y(Ke(),0),class:"object-cover w-12 h-12 rounded-full transition-opacity cursor-pointer hover:opacity-80",alt:"Vehicle photo",loading:"lazy"},null,8,Ks)):(o(),a("div",Zs,[...t[64]||(t[64]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M21 19V7a2 2 0 0 0-2-2H5C3.9 5 3 5.9 3 7v12a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2ZM8.5 11A2.5 2.5 0 1 0 8.5 6a2.5 2.5 0 0 0 0 5Zm12.5 6-6-8-5 6-3-4-5 6h19Z",fill:"currentColor",class:"text-gray-400"})],-1)])]))])]),e("td",Es,[e("div",zs,[e("p",qs,l(F(r.date)),1)])]),e("td",Gs,[e("div",Js,[e("p",Qs,l(r.distance?.toLocaleString("id-ID")||0)+" km ",1)])]),e("td",Ws,[e("div",Ys,[e("p",Xs," Rp "+l(r.cost?.toLocaleString("id-ID")||0),1)])]),e("td",ea,[e("div",ta,[e("button",{onClick:I=>Re(r.id),class:"px-3 py-1 text-xs text-blue-600 bg-blue-50 rounded-lg border border-blue-200 hover:bg-blue-100"}," Lihat Detail ",8,ra)])])]))),128)):(o(),a("tr",sa,[...t[65]||(t[65]=[e("td",{colspan:"6",class:"py-8 font-medium text-center text-gray-500"},[e("div",{class:"flex flex-col gap-2 items-center"},[e("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M22.7 19-9.1 9.6c.1-.3.2-.6.2-1 0-2.2-1.8-4-4-4S5 6.4 5 8.6c0 2.2 1.8 4 4 4 .4 0 .7-.1 1-.2l9.4 9.4c.4.4 1 .4 1.4 0l1.9-1.9c.4-.4.4-1 0-1.4ZM7 8.6c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2Zm3.85 5.15c-.3.3-.7.5-1.1.6l-1.9-1.9c.1-.4.3-.8.6-1.1l1.4 1.4 1 1Z",fill:"currentColor"}),e("path",{d:"M17.5 10c1.4 0 2.5-1.1 2.5-2.5V2H4v5.5C4 8.9 5.1 10 6.5 10h1.6c.2.6.6 1.1 1 1.5L7.7 13H4v9h16v-9h-3.7l-1.4-1.5c.4-.4.8-.9 1-1.5h1.6Z",fill:"currentColor"})]),e("div",null," Belum ada riwayat service ")])],-1)])]))])]),T.value&&T.value.length>0?(o(),a("div",aa,[e("div",oa,[v(e("select",{"onUpdate:modelValue":t[23]||(t[23]=r=>z.value=r),onChange:t[24]||(t[24]=r=>w.value=1),class:"px-3 py-2 text-sm rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-white"},[...t[67]||(t[67]=[e("option",{value:10},"10 per halaman",-1),e("option",{value:25},"25 per halaman",-1),e("option",{value:50},"50 per halaman",-1)])],544),[[Z,z.value,void 0,{number:!0}]]),e("div",la,[t[68]||(t[68]=C(" Menampilkan ",-1)),e("span",da,l(_e.value?.length||0),1),t[69]||(t[69]=C(" dari ",-1)),e("span",na,l(T.value?.length||0),1),t[70]||(t[70]=C(" service ",-1))])]),e("div",ia,[e("button",{onClick:we,disabled:w.value===1,class:"px-3 py-1 text-sm text-gray-500 bg-white rounded-md border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed dark:bg-gray-800 dark:border-gray-600 dark:text-gray-400 dark:hover:bg-gray-700"}," ‹ Sebelumnya ",8,ua),(o(!0),a(m,null,j(L.value,r=>(o(),a(m,{key:r},[r===1||r===L.value||r>=w.value-1&&r<=w.value+1?(o(),a("button",{key:0,onClick:c=>ke(r),class:$(["px-3 py-1 text-sm rounded-md border",w.value===r?"text-white bg-blue-500 border-blue-500":"text-gray-500 bg-white border-gray-300 hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-400 dark:hover:bg-gray-700"])},l(r),11,ca)):r===w.value-2||r===w.value+2?(o(),a("span",ga," ... ")):y("",!0)],64))),128)),e("button",{onClick:Ce,disabled:w.value===L.value||L.value===0,class:"px-3 py-1 text-sm text-gray-500 bg-white rounded-md border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed dark:bg-gray-800 dark:border-gray-600 dark:text-gray-400 dark:hover:bg-gray-700"}," Selanjutnya › ",8,ba)])])):y("",!0)])],512),[[X,V.value==="services"]]),v(e("div",ya,[e("div",va,[e("table",pa,[t[74]||(t[74]=e("thead",null,[e("tr",null,[e("th",{class:"p-3 bg-gray-100 border-gray-200 border-y"},[e("div",{class:"font-medium text-center text-gray-600"}," No ")]),e("th",{class:"p-3 bg-gray-100 border border-gray-200"},[e("div",{class:"font-medium text-left text-gray-600"}," Tanggal ")]),e("th",{class:"p-3 bg-gray-100 border border-gray-200"},[e("div",{class:"font-medium text-center text-gray-600"}," Kilometer Terakhir ")]),e("th",{class:"p-3 bg-gray-100 border-gray-200 border-y"},[e("div",{class:"font-medium text-center text-gray-600"}," Kilometer Terbaru ")])])],-1)),e("thead",fa,[e("tr",null,[t[71]||(t[71]=e("th",{class:"px-2 py-2 border border-gray-200 dark:border-gray-600"},null,-1)),e("th",ma,[e("div",xa,[v(e("input",{"onUpdate:modelValue":t[25]||(t[25]=r=>S.value.date_from=r),type:"date",placeholder:"Dari",class:"px-2 w-full h-8 text-xs rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[D,S.value.date_from]]),v(e("input",{"onUpdate:modelValue":t[26]||(t[26]=r=>S.value.date_to=r),type:"date",placeholder:"Sampai",class:"px-2 w-full h-8 text-xs rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[D,S.value.date_to]])])]),t[72]||(t[72]=e("th",{class:"px-2 py-2 border border-gray-200 dark:border-gray-600"},null,-1)),e("th",{class:"px-2 py-2 border border-gray-200 dark:border-gray-600"},[e("button",{onClick:je,class:"px-2 py-1 text-xs text-gray-600 bg-white rounded border border-gray-300 hover:bg-gray-50"}," Clear ")])])]),e("tbody",null,[J.value&&J.value.length>0?(o(!0),a(m,{key:0},j(J.value,(r,c)=>(o(),a("tr",{key:r.id,class:"border-b border-gray-200 hover:bg-gray-50"},[e("td",ha,[e("div",_a,[e("p",ka,l((x.value-1)*A.value+c+1)+". ",1)])]),e("td",wa,[e("div",Ca,[e("p",ja,l(F(r.tanggal)),1)])]),e("td",Da,[e("div",Sa,[e("p",Ia,l(r.last_km?.toLocaleString("id-ID")||0)+" km ",1)])]),e("td",$a,[e("div",Ma,[e("p",Va,l(r.current_km?.toLocaleString("id-ID")||0)+" km ",1)])])]))),128)):(o(),a("tr",Pa,[...t[73]||(t[73]=[e("td",{colspan:"4",class:"py-8 font-medium text-center text-gray-500"},[e("div",{class:"flex flex-col gap-2 items-center"},[e("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z",fill:"currentColor"})]),e("div",null," Belum ada riwayat kilometer ")])],-1)])]))])]),R.value&&R.value.length>0?(o(),a("div",Na,[e("div",Ta,[v(e("select",{"onUpdate:modelValue":t[27]||(t[27]=r=>A.value=r),onChange:t[28]||(t[28]=r=>x.value=1),class:"px-3 py-2 text-sm rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-white"},[...t[75]||(t[75]=[e("option",{value:10},"10 per halaman",-1),e("option",{value:25},"25 per halaman",-1),e("option",{value:50},"50 per halaman",-1)])],544),[[Z,A.value,void 0,{number:!0}]]),e("div",Ua,[t[76]||(t[76]=C(" Menampilkan ",-1)),e("span",Fa,l(J.value?.length||0),1),t[77]||(t[77]=C(" dari ",-1)),e("span",Ha,l(R.value?.length||0),1),t[78]||(t[78]=C(" riwayat kilometer ",-1))])]),e("div",Oa,[e("button",{onClick:Se,disabled:x.value===1,class:"px-3 py-1 text-sm text-gray-500 bg-white rounded-md border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed dark:bg-gray-800 dark:border-gray-600 dark:text-gray-400 dark:hover:bg-gray-700"}," ‹ Sebelumnya ",8,Ba),(o(!0),a(m,null,j(K.value,r=>(o(),a(m,{key:r},[r===1||r===K.value||r>=x.value-1&&r<=x.value+1?(o(),a("button",{key:0,onClick:c=>De(r),class:$(["px-3 py-1 text-sm rounded-md border",x.value===r?"text-white bg-blue-500 border-blue-500":"text-gray-500 bg-white border-gray-300 hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-400 dark:hover:bg-gray-700"])},l(r),11,La)):r===x.value-2||r===x.value+2?(o(),a("span",Aa," ... ")):y("",!0)],64))),128)),e("button",{onClick:Ie,disabled:x.value===K.value||K.value===0,class:"px-3 py-1 text-sm text-gray-500 bg-white rounded-md border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed dark:bg-gray-800 dark:border-gray-600 dark:text-gray-400 dark:hover:bg-gray-700"}," Selanjutnya › ",8,Ra)])])):y("",!0)])],512),[[X,V.value==="odometer"]])])]),U(ot,{show:Q.value,title:P.value?`Edit ${h.value?.name}`:"Tambah Dokumen Kendaraan",confirmText:"Simpan",maxWidth:"lg",onClose:te,onConfirm:Oe},{default:ce(()=>[e("div",Ka,[P.value&&h.value?.files?.length>0?(o(),a("div",Za,[t[79]||(t[79]=e("label",{class:"font-semibold text-gray-900 dark:text-white"}," File Saat Ini ",-1)),e("div",Ea,[(o(!0),a(m,null,j(h.value.files,r=>(o(),a("div",{key:r.id,class:"relative"},[e("img",{src:`/storage/${r.file_path}`,class:"object-cover w-20 h-20 rounded border border-gray-300",alt:h.value.name},null,8,za)]))),128))]),t[80]||(t[80]=e("p",{class:"text-xs text-gray-500"}," Upload file baru untuk mengganti file yang ada ",-1))])):y("",!0),e("div",qa,[e("label",Ga,[t[81]||(t[81]=C(" File Dokumen",-1)),P.value?y("",!0):(o(),a("span",Ja,"*")),P.value?(o(),a("span",Qa,"(Opsional)")):y("",!0)]),P.value&&h.value&&h.value.files&&h.value.files.length>0?(o(),a("div",Wa,[t[83]||(t[83]=e("p",{class:"mb-2 text-xs text-gray-600"},"File Saat Ini:",-1)),e("div",Ya,[(o(!0),a(m,null,j(h.value.files,(r,c)=>(o(),a("div",{key:r.id||c,class:$(["relative group",{"opacity-50 border-red-500":ee(r.id)}])},[e("img",{src:`/storage/${r.file_path}`,alt:`Document file ${c+1}`,class:"object-cover w-full h-24 rounded-lg border border-gray-300 cursor-pointer",onClick:I=>Y(h.value.files,c)},null,8,Xa),ee(r.id)?(o(),a("div",{key:1,class:"flex absolute top-1 right-1 z-10 justify-center items-center w-6 h-6 text-xs text-white bg-green-500 rounded-full cursor-pointer hover:bg-green-600",onClick:I=>Pe(r.id)}," ↺ ",8,to)):(o(),a("div",{key:0,class:"flex absolute top-1 right-1 z-10 justify-center items-center w-6 h-6 text-xs text-white bg-red-500 rounded-full cursor-pointer hover:bg-red-600",onClick:I=>Ve(r.id)}," × ",8,eo)),ee(r.id)?(o(),a("div",ro,[...t[82]||(t[82]=[e("span",{class:"text-xs font-semibold text-red-600"},"Akan dihapus",-1)])])):y("",!0)],2))),128))])])):y("",!0),W.value.length>0?(o(),a("div",so,[t[84]||(t[84]=e("p",{class:"mb-2 text-xs text-gray-600"}," Preview File Baru: ",-1)),e("div",ao,[(o(!0),a(m,null,j(W.value,(r,c)=>(o(),a("div",{key:c,class:"relative group"},[e("img",{src:r,alt:`Preview ${c+1}`,class:"object-cover w-full h-24 rounded-lg border border-gray-300"},null,8,oo),e("div",{class:"flex absolute top-1 right-1 justify-center items-center w-6 h-6 text-xs text-white bg-red-500 rounded-full cursor-pointer hover:bg-red-600",onClick:I=>Me(c)}," × ",8,lo)]))),128))])])):y("",!0),e("div",Ge(f(Ne)(),{class:["p-6 text-center rounded-lg border-2 cursor-pointer border-1",f(i).errors.files?"text-red-500 bg-red-50 border-red-300 dark:bg-red-900/20 dark:border-red-500":"text-blue-500 bg-sky-400 bg-opacity-5 border-blue-300"]}),[e("input",Je(Qe(f(Te)())),null,16),e("div",no,[U(rt,{class:$(f(i).errors.files?"w-12 h-12 text-red-300":"w-12 h-12 text-blue-300")},null,8,["class"]),e("div",io,[f(Ue)?(o(),a("p",uo," Lepaskan file di sini ... ")):(o(),a("p",co,l(P.value?"Ganti atau tambah file dengan drag & drop":"Drag & drop file di sini, atau klik untuk pilih"),1)),f(i).files.length>0?(o(),a("ul",go,[(o(!0),a(m,null,j(f(i).files,r=>(o(),a("li",{key:r.name},l(r.name)+" ("+l(Math.round(r.size/1024))+" KB) ",1))),128))])):y("",!0)])])],16),f(i).errors.files?(o(),a("div",bo,l(f(i).errors.files),1)):y("",!0)]),e("div",yo,[t[85]||(t[85]=e("label",{for:"name",class:"font-semibold text-gray-900 dark:text-white"},[C("Nama Dokumen"),e("span",{class:"text-red-500"},"*")],-1)),v(e("input",{"onUpdate:modelValue":t[29]||(t[29]=r=>f(i).name=r),id:"name",class:"px-4 w-full text-sm font-medium placeholder-gray-500 text-gray-600 rounded-lg border-gray-300 placeholder:font-normal dark:border-white dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",type:"text",required:"",placeholder:"Masukkan nama dokumen"},null,512),[[D,f(i).name]]),f(i).errors.name?(o(),a("div",vo,l(f(i).errors.name[0]),1)):y("",!0)]),e("div",po,[e("label",fo,[t[86]||(t[86]=C("Tanggal Perpanjangan",-1)),t[87]||(t[87]=e("span",{class:"text-red-500"},"*",-1)),e("div",mo,[v(e("input",{"onUpdate:modelValue":t[30]||(t[30]=r=>f(i).renewal_date=r),id:"renewal_date",type:"date",class:"w-full text-sm font-medium leading-none placeholder-gray-500 text-gray-600 rounded-lg border border-gray-400 placeholder:font-normal dark:border-white dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500 ps-2.5"},null,512),[[D,f(i).renewal_date]])]),f(i).errors.renewal_date?(o(),a("div",xo,l(f(i).errors.renewal_date[0]),1)):y("",!0)]),e("label",ho,[t[88]||(t[88]=C("Tanggal Kadaluarsa",-1)),t[89]||(t[89]=e("span",{class:"text-red-500"},"*",-1)),e("div",_o,[v(e("input",{"onUpdate:modelValue":t[31]||(t[31]=r=>f(i).expired_date=r),id:"expired_date",type:"date",class:"w-full text-sm font-medium leading-none placeholder-gray-500 text-gray-600 rounded-lg border border-gray-400 placeholder:font-normal dark:border-white dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500 ps-2.5"},null,512),[[D,f(i).expired_date]])]),f(i).errors.expired_date?(o(),a("div",ko,l(f(i).errors.expired_date[0]),1)):y("",!0)])])])]),_:1},8,["show","title"]),U(lt,{show:re.value,question:"Yakin ingin menghapus",selected:`${h.value?.name}`,title:"Hapus Dokumen Kendaraan",confirmText:"Ya, Hapus!",maxWidth:"md",onClose:le,onConfirm:Le},null,8,["show","selected"]),se.value?(o(),a("div",{key:0,onClick:We(de,["self"]),class:"flex fixed inset-0 z-50 justify-center items-center bg-black/60"},[e("div",wo,[e("div",Co,[e("h5",jo," Preview "+l(u.vehicle.type.name),1),e("button",{onClick:de,class:"font-bold text-gray-500 hover:text-gray-700"}," ✕ ")]),e("div",Do,[e("div",So,[(o(!0),a(m,null,j(O.value,(r,c)=>(o(),a("img",{key:c,src:`/storage/${r.file_path}`,alt:`Foto ${c+1}`,class:$(["object-contain absolute max-w-full max-h-full transition-opacity duration-500",c===p.value?"opacity-100 relative":"opacity-0"])},null,10,Io))),128))]),p.value>0?(o(),a("button",{key:0,onClick:ne,class:"flex absolute left-4 top-1/2 justify-center items-center w-10 h-10 text-white rounded-full -translate-y-1/2 bg-black/50"}," ‹ ")):y("",!0),e("div",$o,[(o(!0),a(m,null,j(O.value,(r,c)=>(o(),a("span",{key:r.id??c,class:$(["w-2 h-2 rounded-full cursor-pointer",c===p.value?"bg-white":"0"]),onClick:I=>p.value=c},null,10,Mo))),128))]),p.value<O.value.length-1?(o(),a("button",{key:1,onClick:ie,class:"flex absolute right-4 top-1/2 justify-center items-center w-10 h-10 text-white rounded-full -translate-y-1/2 bg-black/50"}," › ")):y("",!0)])])])):y("",!0)])],64)}}});export{zo as default};
