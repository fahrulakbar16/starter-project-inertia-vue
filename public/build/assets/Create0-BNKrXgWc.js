import{y as x,d as C,z as $,u as z,U as B,e as n,o as i,b as c,a as e,E as d,f as _,G as u,g as a,t as g,J as U,F as w,i as P,h as H,N as K,S as E}from"./app-CJkCV51W.js";import{_ as F}from"./AppLayout-BlEKf3Fz.js";import{_ as J}from"./Breadcrumb-BJQpsGcc.js";import{_ as h}from"./Select-D-70zGQm.js";import{v as k}from"./v4-BKrj-4V8.js";import"./FlashMessage-D4C-FUm8.js";import"./LayoutShell-FWpWJLvi.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useAuth-DvuTgkfF.js";import"./LayoutShell.vue_vue_type_style_index_0_lang-CRqqKi3W.js";const L={class:"flex overflow-hidden flex-col gap-3 px-3 py-0.5 h-full"},Q={class:"flex justify-between items-center h-10"},A={class:"flex flex-col overflow-hidden rounded-lg border border-gray-200 bg-white dark:border-gray-600 dark:bg-white/[0.03]"},G={class:"p-6 space-y-4"},I={class:"grid grid-cols-1 gap-4 md:grid-cols-3"},R={key:0,class:"text-sm text-red-500"},W={key:0,class:"text-sm text-red-500"},X={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},Y={class:"grid grid-cols-1 gap-4 mt-2 md:grid-cols-2"},Z={class:"md:col-span-2"},q={class:"flex flex-col overflow-hidden rounded-lg border border-gray-200 bg-white dark:border-gray-600 dark:bg-white/[0.03]"},ee={class:"p-6 space-y-4"},te={class:"space-y-4"},re={class:"space-y-5"},oe={class:"grid grid-cols-12 gap-4"},se={class:"col-span-12 md:col-span-1"},ae={class:"flex gap-3 items-center md:flex-col md:items-start"},le={class:"flex gap-2 items-center"},de={class:"flex justify-center items-center w-8 h-8 text-sm font-medium text-gray-700 bg-gray-100 rounded-full border"},ne={class:"text-sm font-medium text-gray-700 md:hidden"},ie={class:"hidden text-sm font-medium text-gray-700 md:block"},ue=["onClick"],ce={class:"col-span-12 space-y-4 md:col-span-11"},pe={class:"grid grid-cols-1 gap-4 lg:grid-cols-12"},be={class:"lg:col-span-8"},ge={class:"relative z-0 w-full group"},me=["onUpdate:modelValue"],ye={class:"lg:col-span-4"},fe={class:"inline-flex gap-2 items-center text-gray-800 cursor-pointer"},xe=["onUpdate:modelValue"],he={class:"grid grid-cols-1 gap-4 lg:grid-cols-12"},ke={class:"lg:col-span-6"},ve={class:"relative z-0 w-full group"},_e=["onUpdate:modelValue"],we={class:"lg:col-span-3"},Ve={class:"lg:col-span-3"},Ce=["onUpdate:modelValue"],Ue={key:0,class:"mt-4"},Pe={class:"overflow-x-auto"},Oe={class:"w-full text-sm rounded border border-gray-200"},je={class:"p-3 border-b border-gray-100"},Te=["onUpdate:modelValue"],Me={class:"p-3 border-b border-gray-100"},Ne=["onUpdate:modelValue"],Se={class:"p-3 text-center border-b border-gray-100"},De=["onClick"],$e=["onClick"],Ge=Object.assign({layout:F},{__name:"Create0",props:{categories:Object,departments:Object,branches:Object,questionCategories:Object},setup(m){const O=[{label:"Konfigurasi"},{label:"Checklists",href:route("checklists.index")},{label:"Tambah Checklist"}],p=m;x(()=>(p.categories??[]).map(s=>({label:s.name,value:s.id}))),x(()=>(p.departments??[]).map(s=>({label:s.name,value:s.id}))),x(()=>(p.branches??[]).map(s=>({label:s.name,value:s.id}))),x(()=>(p.questionCategories??[]).map(s=>({label:s.name,value:s.id})));const v=C([...p.questionCategories??[]]),b=C([{uid:k(),question:"",description:"",answer_type:"",required:!1,options:[],category:null}]);$(b,s=>{s.forEach(t=>{t.category&&typeof t.category=="string"&&(v.value.some(r=>r.name===t.category||r.id===t.category)||v.value.push({id:t.category,name:t.category}))})},{deep:!0});const j=()=>{b.value.push({uid:k(),question:"",description:"",answer_type:"",required:!1,options:[],category:null})},T=s=>{b.value.splice(s,1)},M=s=>{s.options.push({uid:k(),label:"",value:""})},N=(s,t)=>{s.options.splice(t,1)},o=z({name:"",sop_code:"",category_id:null,department_id:null,status:"active",description:"",type:"single",questions:[{uid:k(),title:"",answer_type:"text",required:!1,guidance:"",category_id:null,options:[]}]}),S=()=>{o.questions=b.value,o.post(route("checklists.store"))};return(s,t)=>{const V=B("Head");return i(),n(w,null,[c(V,{title:"Tambah Checklist"}),e("div",L,[e("div",Q,[c(J,{items:O})]),e("div",A,[e("div",G,[t[15]||(t[15]=e("h2",{class:"text-xl font-semibold text-gray-800"}," Informasi Checklist ",-1)),e("div",I,[e("div",null,[t[7]||(t[7]=e("label",{for:"name",class:"block mb-1 text-sm text-gray-600"},"Nama Checklist",-1)),d(e("input",{id:"name",class:"w-full text-sm font-medium placeholder-gray-500 text-gray-600 rounded-lg border-gray-400 placeholder:font-normal dark:border-white dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",type:"text","onUpdate:modelValue":t[0]||(t[0]=r=>a(o).name=r),required:"",placeholder:"Masukkan nama checklist"},null,512),[[u,a(o).name]]),a(o).errors.name?(i(),n("div",R,g(a(o).errors.name[0]),1)):_("",!0)]),e("div",null,[t[8]||(t[8]=e("label",{for:"sop_code",class:"block mb-1 text-sm text-gray-600"},"Nomor SOP",-1)),d(e("input",{id:"sop_code",class:"w-full text-sm font-medium placeholder-gray-500 text-gray-600 rounded-lg border-gray-400 placeholder:font-normal dark:border-white dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",type:"text","onUpdate:modelValue":t[1]||(t[1]=r=>a(o).sop_code=r),required:"",placeholder:"Masukkan kode SOP"},null,512),[[u,a(o).sop_code]]),a(o).errors.sop_code?(i(),n("div",W,g(a(o).errors.sop_code[0]),1)):_("",!0)]),e("div",null,[t[9]||(t[9]=e("label",{class:"block mb-1 text-sm text-gray-600"},"Kategori Checklist",-1)),c(h,{modelValue:a(o).category_id,"onUpdate:modelValue":t[2]||(t[2]=r=>a(o).category_id=r),label:"Pilih Kategori",items:m.categories,taggable:!0},null,8,["modelValue","items"])])]),e("div",X,[e("div",null,[t[10]||(t[10]=e("label",{class:"block mb-1 text-sm text-gray-600"},"Cabang",-1)),c(h,{modelValue:a(o).branch_id,"onUpdate:modelValue":t[3]||(t[3]=r=>a(o).branch_id=r),label:"Pilih Cabang",items:m.branches},null,8,["modelValue","items"])]),e("div",null,[t[11]||(t[11]=e("label",{class:"block mb-1 text-sm text-gray-600"},"Departemen",-1)),c(h,{modelValue:a(o).department_id,"onUpdate:modelValue":t[4]||(t[4]=r=>a(o).department_id=r),label:"Pilih Departemen",items:m.departments},null,8,["modelValue","items"])])]),e("div",Y,[e("div",Z,[t[12]||(t[12]=e("label",{for:"description",class:"block mb-1 text-sm text-gray-600"},"Deskripsi",-1)),d(e("textarea",{id:"description","onUpdate:modelValue":t[5]||(t[5]=r=>a(o).description=r),rows:"3",class:"w-full text-sm font-medium placeholder-gray-500 text-gray-600 rounded-lg border-gray-400 placeholder:font-normal dark:border-white dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"Masukkan deskripsi checklist"},null,512),[[u,a(o).description]])]),e("div",null,[t[14]||(t[14]=e("label",{for:"type",class:"block mb-1 text-sm text-gray-600"},"Jenis",-1)),d(e("select",{id:"type","onUpdate:modelValue":t[6]||(t[6]=r=>a(o).type=r),class:"w-full text-sm font-medium placeholder-gray-500 text-gray-600 rounded-lg border-gray-400 placeholder:font-normal dark:border-white dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500"},[...t[13]||(t[13]=[e("option",{value:"single"},"Perorang",-1),e("option",{value:"multiple"},"Banyak Orang",-1)])],512),[[U,a(o).type]])])])])]),e("div",q,[e("div",ee,[t[23]||(t[23]=e("h2",{class:"text-xl font-semibold text-gray-800"}," Daftar Pertanyaan ",-1)),e("div",te,[(i(!0),n(w,null,P(b.value,(r,y)=>(i(),n("div",{key:r.uid,class:"p-4 bg-white rounded-lg border border-gray-200 shadow-sm"},[e("div",re,[e("div",oe,[e("div",se,[e("div",ae,[e("div",le,[e("div",de,g(y+1),1),e("label",ne," Pertanyaan "+g(y+1),1)]),e("label",ie," Pertanyaan "+g(y+1),1),e("button",{type:"button",onClick:l=>T(y),class:"px-2 py-1 text-xs text-red-600 rounded border border-red-300 hover:bg-red-50"}," Hapus ",8,ue)])]),e("div",ce,[e("div",pe,[e("div",be,[e("div",ge,[d(e("input",{"onUpdate:modelValue":l=>r.title=l,type:"text",class:"block px-0 py-2.5 w-full text-sm placeholder-transparent placeholder-gray-300 text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none peer focus:border-blue-600 focus:placeholder-gray-400 focus:outline-none focus:ring-0 dark:border-gray-600 dark:text-white dark:focus:border-blue-500",placeholder:"Masukkan pertanyaan"},null,8,me),[[u,r.title]]),t[16]||(t[16]=e("label",{class:"absolute top-3 -z-10 origin-[0] -translate-y-6 scale-75 transform text-sm text-gray-500 duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:start-0 peer-focus:-translate-y-6 peer-focus:scale-75 peer-focus:font-medium peer-focus:text-blue-600 rtl:peer-focus:translate-x-1/4 dark:text-gray-400 peer-focus:dark:text-blue-500"}," Pertanyaan ",-1))])]),e("div",ye,[e("label",fe,[d(e("input",{type:"checkbox","onUpdate:modelValue":l=>r.required=l,class:"sr-only peer"},null,8,xe),[[K,r.required]]),t[17]||(t[17]=e("div",{class:"relative w-11 h-6 bg-gray-200 rounded-full peer peer-focus:ring-4 peer-focus:ring-sky-300 dark:peer-focus:ring-sky-800 dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-sky-600 dark:peer-checked:bg-sky-600"},null,-1)),t[18]||(t[18]=H(" Wajib? ",-1))])])]),e("div",he,[e("div",ke,[e("div",ve,[d(e("input",{"onUpdate:modelValue":l=>r.description=l,type:"text",class:"block px-0 py-2.5 w-full text-sm placeholder-transparent placeholder-gray-300 text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none peer focus:border-blue-600 focus:placeholder-gray-400 focus:outline-none focus:ring-0 dark:border-gray-600 dark:text-white dark:focus:border-blue-500",placeholder:"Masukkan petunjuk pertanyaan"},null,8,_e),[[u,r.description]]),t[19]||(t[19]=e("label",{class:"absolute top-3 -z-10 origin-[0] -translate-y-6 scale-75 transform text-sm text-gray-500 duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:start-0 peer-focus:-translate-y-6 peer-focus:scale-75 peer-focus:font-medium peer-focus:text-blue-600 rtl:peer-focus:translate-x-1/4 dark:text-gray-400 peer-focus:dark:text-blue-500"}," Petunjuk Pertanyaan ",-1))])]),e("div",we,[c(h,{modelValue:r.category,"onUpdate:modelValue":l=>r.category=l,items:v.value,label:"Pilih Kategori",class:"w-full",taggable:!0},null,8,["modelValue","onUpdate:modelValue","items"])]),e("div",Ve,[d(e("select",{"onUpdate:modelValue":l=>r.answer_type=l,class:"p-2 w-full text-gray-700 bg-white rounded-lg border border-gray-300"},[...t[20]||(t[20]=[E('<option disabled value=""> Pilih Tipe </option><option value="text"> Text </option><option value="textarea"> Textarea </option><option value="select"> Select </option><option value="radio"> Radio </option><option value="checkbox"> Checkbox </option>',6)])],8,Ce),[[U,r.answer_type]])])]),["select","radio","checkbox"].includes(r.answer_type)?(i(),n("div",Ue,[t[22]||(t[22]=e("div",{class:"mb-2"},[e("h4",{class:"text-sm font-medium text-gray-700"}," Opsi Jawaban ")],-1)),e("div",Pe,[e("table",Oe,[t[21]||(t[21]=e("thead",null,[e("tr",{class:"bg-gray-50"},[e("th",{class:"p-3 text-left border-b border-gray-200"}," Label "),e("th",{class:"p-3 text-left border-b border-gray-200"}," Value "),e("th",{class:"p-3 w-20 text-center border-b border-gray-200"}," Aksi ")])],-1)),e("tbody",null,[(i(!0),n(w,null,P(r.options,(l,D)=>(i(),n("tr",{key:l.uid,class:"hover:bg-gray-50"},[e("td",je,[d(e("input",{"onUpdate:modelValue":f=>l.label=f,type:"text",class:"p-2 w-full text-sm rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Label opsi"},null,8,Te),[[u,l.label]])]),e("td",Me,[d(e("input",{"onUpdate:modelValue":f=>l.value=f,type:"text",class:"p-2 w-full text-sm rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Value opsi"},null,8,Ne),[[u,l.value]])]),e("td",Se,[e("button",{type:"button",onClick:f=>N(r,D),class:"px-2 py-1 text-xs text-red-600 rounded border border-red-300 hover:bg-red-50"}," Hapus ",8,De)])]))),128))])])]),e("button",{type:"button",onClick:l=>M(r),class:"px-4 py-2 mt-3 text-sm text-white bg-blue-600 rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"}," + Tambah Opsi ",8,$e)])):_("",!0)])])])]))),128)),e("div",{class:"flex justify-between items-center"},[e("button",{type:"button",onClick:j,class:"px-4 py-2 text-white bg-green-500 rounded"}," + Tambah Pertanyaan "),e("button",{type:"submit",onClick:S,class:"px-4 py-2 text-white bg-blue-600 rounded"}," Simpan ")])])])])])],64)}}});export{Ge as default};
