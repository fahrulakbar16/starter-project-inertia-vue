import{d as m,z as A,u as L,e as c,o as n,b as d,a as e,g as a,D as z,f as u,c as P,E as C,G as D,n as y,F as $,i as W,t as f,w as Y,h as G,H as K}from"./app-CJkCV51W.js";import{_ as J}from"./AppLayout-BlEKf3Fz.js";import{P as Q}from"./PlusSquareIcon-DA_kLpvy.js";import{S as R}from"./SearchIcon-B0safoHl.js";import{E as X}from"./EditIcon-B9T5EQzJ.js";import{U as B,D as S}from"./DownIcon-C_yWQF6q.js";import{T as Z}from"./TrashIcon-DSAHmBPH.js";import{_ as ee}from"./Breadcrumb-BJQpsGcc.js";import{_ as te}from"./Modal-Ddbg9qvg.js";import{_ as re}from"./ConfirmModal-DAlWp-FQ.js";import{_ as ae}from"./Pagination-C2dOEo8X.js";import{u as se}from"./useAuth-DvuTgkfF.js";import"./FlashMessage-D4C-FUm8.js";import"./LayoutShell-FWpWJLvi.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./LayoutShell.vue_vue_type_style_index_0_lang-CRqqKi3W.js";const oe={class:"flex flex-col h-full gap-3 px-3 py-0.5 overflow-hidden"},ie={class:"flex items-center justify-between"},de={class:"flex flex-col overflow-hidden rounded-lg border border-gray-200 bg-white dark:border-gray-600 dark:bg-white/[0.03]"},le={class:"flex flex-col gap-2 px-8 py-1 sm:flex-row sm:items-center sm:justify-between"},ne={class:"flex items-center gap-3"},ce={class:"relative py-2"},ge={class:"absolute -translate-y-1/2 left-4 top-1/2"},ue={class:"overflow-auto","data-simplebar":""},me={class:"min-w-full text-sm"},ye={class:"flex items-center justify-center gap-2 cursor-pointer"},fe={class:"flex flex-col items-center"},xe={class:"flex items-center justify-center gap-2"},pe={class:"flex flex-col items-center"},be={class:"flex items-center justify-center gap-2"},ke={class:"flex flex-col items-center"},he={key:0,class:"p-3 bg-gray-100 border-gray-200 border-y dark:border-gray-600 dark:bg-gray-800"},ve={class:"p-2.5 border-y border-gray-200 dark:border-gray-600"},we={class:"flex items-center justify-center whitespace-nowrap"},_e={class:"text-gray-500 dark:text-gray-400"},Ce={class:"p-2.5 px-8 border border-gray-200 dark:border-gray-600"},De={class:"flex items-center whitespace-nowrap"},Be={class:"flex flex-col leading-tight"},Se={class:"font-medium text-gray-800 dark:text-white/90"},Te={class:"p-2.5 border border-gray-200 dark:border-gray-600"},je={class:"flex items-center justify-center px-3"},Me={class:"text-gray-500 dark:text-gray-400"},$e={class:"p-2.5 border border-gray-200 dark:border-gray-600"},Ke={class:"flex items-center justify-center px-3 whitespace-nowrap"},Ee={class:"text-gray-500 dark:text-gray-400"},Ie={key:0,class:"py-2.5 px-8 border-y border-gray-200 dark:border-gray-600"},Ne={class:"flex justify-center gap-3 whitespace-nowrap"},Ve=["onClick"],Fe=["onClick"],Ue={key:1},He=["colspan"],Oe={class:"space-y-5"},qe={class:"space-y-1 text-sm"},Ae={key:0,class:"text-sm text-red-500"},Le={class:"space-y-1 text-sm"},ze={key:0,class:"text-sm text-red-500"},dt=Object.assign({layout:J},{__name:"Index",props:{itemCategories:Object,search:String,sortBy:String,sortDirection:String},setup(r){const{can:o}=se(),E=[{label:"Konfigurasi"},{label:"Kategori Barang"}],x=r;function I(l){return new Date(l).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}function T({sortBy:l=x.sortBy,sortDirection:t=x.sortDirection}={}){K.get(route("item-categories.index"),{search:p.value,sortBy:l,sortDirection:t},{preserveScroll:!0,preserveState:!0,replace:!0})}const p=m(x.search||"");let j=null;A(p,()=>{clearTimeout(j),j=setTimeout(()=>T(),400)});function v(l){let t="asc";x.sortBy===l&&x.sortDirection==="asc"&&(t="desc"),T({sortBy:l,sortDirection:t})}const b=m(!1),k=m(!1),g=m(!1),s=L({id:null,name:"",description:""});function N(){o("item_categories.create")&&(s.reset(),k.value=!1,b.value=!0)}function V(l){o("item_categories.edit")&&(s.id=l.id,s.name=l.name,s.description=l.description,k.value=!0,b.value=!0)}function w(){b.value=!1,s.reset(),s.clearErrors(),g.value=!1}function F(){if(!g.value)if(g.value=!0,k.value){if(!o("item_categories.edit")){g.value=!1;return}s.put(route("item-categories.update",s.id),{onSuccess:w,onFinish:()=>{g.value=!1}})}else{if(!o("item_categories.create")){g.value=!1;return}s.post(route("item-categories.store"),{onSuccess:w,onFinish:()=>{g.value=!1}})}}const h=m(null),_=m(!1),U=l=>{o("item_categories.delete")&&(h.value=l,_.value=!0)},M=()=>{h.value=null,_.value=!1},H=()=>{o("item_categories.delete")&&K.delete(route("item-categories.destroy",h.value.id),{onSuccess:M,preserveScroll:!0})};return(l,t)=>(n(),c($,null,[d(a(z),{title:"Kategori Barang"}),e("div",oe,[e("div",ie,[d(ee,{items:E}),a(o)("item_categories.create")?(n(),c("button",{key:0,onClick:N,type:"button",class:"flex items-center gap-2 px-3 py-2 text-white bg-blue-500 rounded"},[d(Q),t[6]||(t[6]=e("span",{class:"hidden text-sm md:block"},"Tambah Kategori Barang",-1))])):u("",!0)]),e("div",de,[e("div",le,[t[7]||(t[7]=e("div",{class:"font-bold text-gray-700 md:text-xl dark:text-gray-300"}," Daftar Kategori Barang ",-1)),e("div",ne,[e("div",ce,[e("div",ge,[d(R,{class:"text-gray-400"})]),C(e("input",{"onUpdate:modelValue":t[0]||(t[0]=i=>p.value=i),type:"text",placeholder:"Cari kategori barang",class:"dark:bg-dark-900 h-10 w-full rounded-lg border border-gray-200 bg-transparent py-2.5 pl-12 pr-4 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-blue-300 focus:outline-hidden focus:ring-3 focus:ring-blue-500/10 dark:border-gray-800 dark:bg-gray-900 dark:bg-white/[0.03] dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-blue-800 xl:w-[200px]"},null,512),[[D,p.value]])])])]),e("div",ue,[e("table",me,[e("thead",null,[e("tr",null,[t[12]||(t[12]=e("th",{class:"p-3 bg-gray-100 border-gray-200 border-y dark:border-gray-600 dark:bg-gray-800"},[e("div",{class:"flex items-center justify-center"},[e("p",{class:"flex flex-col items-center font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"},"No.")])],-1)),e("th",{onClick:t[1]||(t[1]=i=>v("name")),class:"p-3 bg-gray-100 border border-gray-200 dark:border-gray-600 dark:bg-gray-800"},[e("div",ye,[t[8]||(t[8]=e("p",{class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"},"Nama kategori",-1)),e("div",fe,[d(B,{class:y(["-mb-1",r.sortBy==="name"&&r.sortDirection==="asc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"]),d(S,{class:y(["-mt-1",r.sortBy==="name"&&r.sortDirection==="desc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"])])])]),e("th",{onClick:t[2]||(t[2]=i=>v("description")),class:"p-3 bg-gray-100 border border-gray-200 cursor-pointer dark:border-gray-600 dark:bg-gray-800"},[e("div",xe,[t[9]||(t[9]=e("p",{class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"},"Deskripsi kategori",-1)),e("div",pe,[d(B,{class:y(["-mb-1",r.sortBy==="description"&&r.sortDirection==="asc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"]),d(S,{class:y(["-mt-1",r.sortBy==="description"&&r.sortDirection==="desc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"])])])]),e("th",{onClick:t[3]||(t[3]=i=>v("updated_at")),class:"p-3 bg-gray-100 border border-gray-200 cursor-pointer dark:border-gray-600 dark:bg-gray-800"},[e("div",be,[t[10]||(t[10]=e("p",{class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"},"Tanggal diperbarui",-1)),e("div",ke,[d(B,{class:y(["-mb-1",r.sortBy==="updated_at"&&r.sortDirection==="asc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"]),d(S,{class:y(["-mt-1",r.sortBy==="updated_at"&&r.sortDirection==="desc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"])])])]),a(o)("item_categories.edit")||a(o)("item_categories.delete")?(n(),c("th",he,[...t[11]||(t[11]=[e("div",{class:"flex items-center justify-center"},[e("p",{class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"},"Aksi")],-1)])])):u("",!0)])]),e("tbody",null,[r.itemCategories.data&&r.itemCategories.data.length>0?(n(!0),c($,{key:0},W(r.itemCategories.data,(i,O)=>(n(),c("tr",{key:i.id,class:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800"},[e("td",ve,[e("div",we,[e("p",_e,f((r.itemCategories.current_page-1)*r.itemCategories.per_page+O+1)+". ",1)])]),e("td",Ce,[e("div",De,[e("div",Be,[e("p",Se,f(i.name),1)])])]),e("td",Te,[e("div",je,[e("p",Me,f(i.description),1)])]),e("td",$e,[e("div",Ke,[e("p",Ee,f(I(i.updated_at)),1)])]),a(o)("item_categories.edit")||a(o)("item_categories.delete")?(n(),c("td",Ie,[e("div",Ne,[a(o)("item_categories.edit")?(n(),c("button",{key:0,onClick:q=>V(i),title:"Edit"},[d(X,{class:"text-yellow-500"})],8,Ve)):u("",!0),a(o)("item_categories.delete")?(n(),c("button",{key:1,onClick:q=>U(i),title:"Hapus"},[d(Z,{class:"text-red-500"})],8,Fe)):u("",!0)])])):u("",!0)]))),128)):(n(),c("tr",Ue,[e("td",{colspan:a(o)("item_categories.edit")||a(o)("item_categories.delete")?5:4,class:"py-6 font-medium text-center text-gray-500 dark:text-gray-400"}," Tidak ada data ditemukan ",8,He)]))])]),d(te,{show:b.value,title:k.value?"Edit  Kategori Barang":"Tambah Kategori Barang",confirmText:g.value?"Menyimpan...":"Simpan",disabled:g.value,maxWidth:"md",onClose:w,onConfirm:F},{default:Y(()=>[e("div",Oe,[e("div",qe,[t[13]||(t[13]=e("label",{for:"name",class:"font-semibold text-gray-900 dark:text-white"},[G(" Nama Kategori"),e("span",{class:"text-red-500"},"*")],-1)),C(e("input",{id:"name",class:"w-full text-sm font-medium text-gray-600 placeholder-gray-500 border-gray-400 rounded-lg placeholder:font-normal dark:border-white dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",type:"text","onUpdate:modelValue":t[4]||(t[4]=i=>a(s).name=i),required:"",placeholder:"Masukkan nama kategori barang"},null,512),[[D,a(s).name]]),a(s).errors.name?(n(),c("div",Ae,f(a(s).errors.name[0]),1)):u("",!0)]),e("div",Le,[t[14]||(t[14]=e("label",{for:"description",class:"font-semibold text-gray-900 dark:text-white"}," Deskripsi Kategori ",-1)),C(e("textarea",{id:"description",class:"w-full text-sm font-medium text-gray-600 placeholder-gray-500 border-gray-400 rounded-lg placeholder:font-normal dark:border-white dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500","onUpdate:modelValue":t[5]||(t[5]=i=>a(s).description=i),placeholder:"Masukkan deskripsi kategori barang"},null,512),[[D,a(s).description]]),a(s).errors.description?(n(),c("div",ze,f(a(s).errors.description[0]),1)):u("",!0)])])]),_:1},8,["show","title","confirmText","disabled"]),d(re,{show:_.value,question:"Yakin ingin menghapus",selected:`${h.value?.name}`,title:"Hapus Kategori Barang",confirmText:"Ya, Hapus!",maxWidth:"md",onClose:M,onConfirm:H},null,8,["show","selected"])]),r.itemCategories.data&&r.itemCategories.data.length>0?(n(),P(ae,{key:0,pagination:r.itemCategories},null,8,["pagination"])):u("",!0)])])],64))}});export{dt as default};
