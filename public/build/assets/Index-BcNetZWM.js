import{d as h,z as N,H as k,y as C,e as d,o,b as s,a as e,g as c,D as H,c as b,f as n,w as D,P as S,K as V,E as q,G as A,n as m,F as B,i as O,t as f}from"./app-CJkCV51W.js";import{_ as P}from"./AppLayout-BlEKf3Fz.js";import{_ as U}from"./Breadcrumb-BJQpsGcc.js";import{_ as z}from"./ConfirmModal-DAlWp-FQ.js";import{_ as F}from"./Pagination-C2dOEo8X.js";import{P as Y}from"./PlusSquareIcon-DA_kLpvy.js";import{E as G}from"./EditIcon-B9T5EQzJ.js";import{T as L}from"./TrashIcon-DSAHmBPH.js";import{S as W}from"./SearchIcon-B0safoHl.js";import{U as j,D as I}from"./DownIcon-C_yWQF6q.js";import{u as J}from"./useAuth-DvuTgkfF.js";import"./FlashMessage-D4C-FUm8.js";import"./LayoutShell-FWpWJLvi.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./LayoutShell.vue_vue_type_style_index_0_lang-CRqqKi3W.js";const Q={class:"flex flex-col h-full gap-3 px-4"},R={class:"flex items-center justify-between"},X={class:"h-[90%] grid-cols-12 gap-3 md:gap-6 overflow-hidden rounded-lg border border-gray-200 bg-white dark:border-gray-600 dark:bg-white/[0.03]"},Z={class:"flex flex-col gap-2 px-8 py-1 sm:flex-row sm:items-center sm:justify-between"},ee={class:"flex items-center gap-3"},te={type:"button",class:"absolute -translate-y-1/2 left-4 top-1/2"},re={class:"w-full overflow-auto","data-simplebar":""},se={class:"min-w-full overflow-auto text-sm"},ae={class:"flex items-center justify-center gap-2"},oe={class:"flex flex-col items-center"},ie={class:"flex items-center justify-center gap-2"},le={class:"flex flex-col items-center"},de={key:0,class:"py-3 bg-gray-100 border-gray-200 border-y dark:border-gray-600 dark:bg-gray-800"},ce={class:"py-2.5 border-gray-200 border-y dark:border-gray-600"},ne={class:"flex items-center justify-center px-3 whitespace-nowrap"},ge={class:"text-gray-500 dark:text-gray-400"},ye={class:"py-2.5 border border-gray-200 dark:border-gray-600"},ue={class:"flex items-center whitespace-nowrap"},me={class:"flex flex-col px-8 leading-tight"},fe={class:"font-mono text-gray-800 dark:text-white/90"},xe={class:"py-2.5 border border-gray-200 dark:border-gray-600"},pe={class:"flex items-center whitespace-nowrap"},he={class:"flex flex-col px-8 leading-tight"},ke={class:"font-medium text-gray-800 dark:text-white/90"},be={class:"py-2.5 border border-gray-200 dark:border-gray-600"},ve={class:"flex items-center whitespace-nowrap"},we={class:"flex flex-col px-8 leading-tight"},_e={class:"text-gray-600 dark:text-gray-400"},Ce={key:0,class:"py-2.5 border-gray-200 border-y dark:border-gray-600"},De={class:"flex justify-center gap-3 px-4 whitespace-nowrap sm:px-0"},Se=["onClick"],Be={key:1},je=["colspan"],Ye=Object.assign({layout:P},{__name:"Index",props:{categories:Object,sortBy:String,sortDirection:String,search:String},setup(r){const{can:l}=J(),g=r,K=[{label:"Konfigurasi"},{label:"Kategori Checklist"}],y=h(g.search||"");let v=null;N(y,i=>{clearTimeout(v),v=setTimeout(()=>{k.get(route("checklist-categories.index"),{search:i,sortBy:g.sortBy,sortDirection:g.sortDirection},{preserveScroll:!0,preserveState:!0,replace:!0})},400)});function w(i){let t="asc";g.sortBy===i&&g.sortDirection==="asc"&&(t="desc"),k.get(route("checklist-categories.index"),{search:y.value,sortBy:i,sortDirection:t},{preserveState:!0,preserveScroll:!0})}const u=h(null),x=h(!1),T=i=>{l("checklist_categories.delete")&&(u.value=i,x.value=!0)},_=()=>{x.value=!1,u.value=null},$=()=>{l("checklist_categories.delete")&&k.delete(route("checklist-categories.destroy",u.value.id),{onSuccess:()=>_(),preserveScroll:!0})},p=C(()=>l("checklist_categories.edit")||l("checklist_categories.delete")),E=C(()=>p.value?5:4);return(i,t)=>(o(),d(B,null,[s(c(H),{title:"Kategori Checklist"}),e("div",Q,[e("div",R,[s(U,{items:K}),c(l)("checklist_categories.create")?(o(),b(c(S),{key:0,href:i.route("checklist-categories.create"),class:"flex items-center gap-2 px-3 py-2 text-white bg-blue-500 rounded"},{default:D(()=>[s(Y,{class:"w-4 h-4"}),t[4]||(t[4]=e("span",{class:"hidden text-sm md:block"},"Tambah Kategori",-1))]),_:1},8,["href"])):n("",!0)]),e("div",X,[e("div",Z,[t[5]||(t[5]=e("div",{class:"font-bold text-gray-700 md:text-xl dark:text-gray-300"}," Daftar Kategori Checklist ",-1)),e("div",ee,[e("form",{class:"relative py-2",onSubmit:t[1]||(t[1]=V(()=>{},["prevent"]))},[e("button",te,[s(W,{class:"text-gray-400"})]),q(e("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>y.value=a),type:"text",placeholder:"Cari kategori",class:"dark:bg-dark-900 h-10 w-full rounded-lg border border-gray-200 bg-transparent py-2.5 pl-12 pr-4 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-blue-300 focus:outline-hidden focus:ring-3 focus:ring-blue-500/10 dark:border-gray-800 dark:bg-gray-900 dark:bg-white/[0.03] dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-blue-800 xl:w-[200px]"},null,512),[[A,y.value]])],32)])]),e("div",re,[e("table",se,[e("thead",null,[e("tr",null,[t[9]||(t[9]=e("th",{class:"py-2.5 bg-gray-100 border-gray-200 border-y dark:border-gray-600 dark:bg-gray-800"},[e("div",{class:"flex items-center justify-center"},[e("p",{class:"flex flex-col items-center font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"},"No.")])],-1)),e("th",{onClick:t[2]||(t[2]=a=>w("code")),class:"py-3 bg-gray-100 border border-gray-200 cursor-pointer dark:border-gray-600 dark:bg-gray-800"},[e("div",ae,[t[6]||(t[6]=e("p",{class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"},"Kode",-1)),e("div",oe,[s(j,{class:m(["-mb-1",r.sortBy==="code"&&r.sortDirection==="asc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"]),s(I,{class:m(["-mt-1",r.sortBy==="code"&&r.sortDirection==="desc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"])])])]),e("th",{onClick:t[3]||(t[3]=a=>w("name")),class:"py-3 bg-gray-100 border border-gray-200 cursor-pointer dark:border-gray-600 dark:bg-gray-800"},[e("div",ie,[t[7]||(t[7]=e("p",{class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"},"Nama",-1)),e("div",le,[s(j,{class:m(["-mb-1",r.sortBy==="name"&&r.sortDirection==="asc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"]),s(I,{class:m(["-mt-1",r.sortBy==="name"&&r.sortDirection==="desc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"])])])]),t[10]||(t[10]=e("th",{class:"py-3 bg-gray-100 border border-gray-200 dark:border-gray-600 dark:bg-gray-800"},[e("div",{class:"flex items-center justify-center gap-2"},[e("p",{class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"},"Deskripsi")])],-1)),p.value?(o(),d("th",de,[...t[8]||(t[8]=[e("div",{class:"flex items-center justify-center"},[e("p",{class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"},"Aksi")],-1)])])):n("",!0)])]),e("tbody",null,[r.categories.data&&r.categories.data.length>0?(o(!0),d(B,{key:0},O(r.categories.data,(a,M)=>(o(),d("tr",{key:a.id,class:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800"},[e("td",ce,[e("div",ne,[e("p",ge,f((r.categories.current_page-1)*r.categories.per_page+M+1)+". ",1)])]),e("td",ye,[e("div",ue,[e("div",me,[e("p",fe,f(a.code),1)])])]),e("td",xe,[e("div",pe,[e("div",he,[e("p",ke,f(a.name),1)])])]),e("td",be,[e("div",ve,[e("div",we,[e("p",_e,f(a.description||"-"),1)])])]),p.value?(o(),d("td",Ce,[e("div",De,[c(l)("checklist_categories.edit")?(o(),b(c(S),{key:0,href:i.route("checklist-categories.edit",a.id),title:"Edit"},{default:D(()=>[s(G,{class:"text-yellow-500"})]),_:1},8,["href"])):n("",!0),c(l)("checklist_categories.delete")?(o(),d("button",{key:1,onClick:Ie=>T(a),title:"Hapus"},[s(L,{class:"text-red-500"})],8,Se)):n("",!0)])])):n("",!0)]))),128)):(o(),d("tr",Be,[e("td",{colspan:E.value,class:"py-6 font-medium text-center text-gray-500 dark:text-gray-400"}," Tidak ada data ditemukan ",8,je)]))])]),s(z,{show:x.value,question:`Yakin ingin menghapus '${u.value?.name}' ?`,title:"Hapus Kategori",confirmText:"Ya, Hapus!",maxWidth:"md",onClose:_,onConfirm:$},null,8,["show","question"])]),r.categories.data&&r.categories.data.length>0?(o(),b(F,{key:0,pagination:r.categories},null,8,["pagination"])):n("",!0)])])],64))}});export{Ye as default};
