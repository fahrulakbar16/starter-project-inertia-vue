import{d as y,z as L,u as z,e as u,o as c,b as i,a as e,g as r,D as W,f as g,E as S,G as D,n as x,F as $,i as Y,t as p,w as G,h as K,H as E}from"./app-CJkCV51W.js";import{_ as J}from"./AppLayout-BlEKf3Fz.js";import{P as Q}from"./PlusSquareIcon-DA_kLpvy.js";import{S as R}from"./SearchIcon-B0safoHl.js";import{E as X}from"./EditIcon-B9T5EQzJ.js";import{U as B,D as C}from"./DownIcon-C_yWQF6q.js";import{T as Z}from"./TrashIcon-DSAHmBPH.js";import{_ as ee}from"./Breadcrumb-BJQpsGcc.js";import{_ as te}from"./Modal-Ddbg9qvg.js";import{_ as ae}from"./ConfirmModal-DAlWp-FQ.js";import{_ as re}from"./Pagination-C2dOEo8X.js";import{u as se}from"./useAuth-DvuTgkfF.js";import"./FlashMessage-D4C-FUm8.js";import"./LayoutShell-FWpWJLvi.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./LayoutShell.vue_vue_type_style_index_0_lang-CRqqKi3W.js";const oe={class:"flex flex-col h-full gap-3 px-3 py-0.5 overflow-hidden"},ne={class:"flex items-center justify-between h-10"},le={class:"flex flex-col overflow-hidden rounded-lg border border-gray-200 bg-white dark:border-gray-600 dark:bg-white/[0.03]"},ie={class:"flex flex-col gap-2 px-8 py-1 sm:flex-row sm:items-center sm:justify-between"},de={class:"flex items-center gap-3"},ue={class:"relative py-2"},ce={class:"absolute -translate-y-1/2 left-4 top-1/2"},ge={class:"overflow-auto","data-simplebar":""},me={class:"min-w-full text-sm"},ye={class:"flex items-center justify-center gap-2 cursor-pointer"},fe={class:"flex flex-col items-center"},xe={class:"flex items-center justify-center gap-2"},pe={class:"flex flex-col items-center"},be={class:"flex items-center justify-center gap-2"},he={class:"flex flex-col items-center"},ke={key:0,class:"p-3 bg-gray-100 border-gray-200 border-y dark:border-gray-600 dark:bg-gray-800"},ve={class:"p-2.5 border-y border-gray-200 dark:border-gray-600"},we={class:"flex items-center justify-center whitespace-nowrap"},_e={class:"text-gray-500 dark:text-gray-400"},Se={class:"p-2.5 px-8 border border-gray-200 dark:border-gray-600"},De={class:"flex items-center whitespace-nowrap"},Be={class:"flex flex-col leading-tight"},Ce={class:"font-medium text-gray-800 dark:text-white/90"},Te={class:"p-2.5 border border-gray-200 dark:border-gray-600"},je={class:"flex items-center justify-center px-3"},Me={class:"text-gray-500 dark:text-gray-400"},$e={class:"p-2.5 border border-gray-200 dark:border-gray-600"},Ee={class:"flex items-center justify-center px-3 whitespace-nowrap"},Ie={class:"text-gray-500 dark:text-gray-400"},Ne={key:0,class:"py-2.5 px-8 border-y border-gray-200 dark:border-gray-600"},Ue={class:"flex justify-center gap-3 whitespace-nowrap"},Ve=["onClick"],Fe=["onClick"],Pe={key:1},He=["colspan"],Oe={class:"space-y-5"},qe={class:"space-y-1 text-sm"},Ae={key:0,class:"text-sm text-red-500"},Le={class:"space-y-1 text-sm"},ze={key:0,class:"text-sm text-red-500"},We={key:0,class:"w-full px-5"},it=Object.assign({layout:J},{__name:"Index",props:{units:Object,search:String,sortBy:String,sortDirection:String,perPage:Number},setup(a){const{can:n}=se(),I=[{label:"Konfigurasi"},{label:"Satuan Barang"}],f=a;function N(d){return new Date(d).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}function T({sortBy:d=f.sortBy,sortDirection:t=f.sortDirection}={}){E.get(route("units.index"),{search:b.value,perPage:U.value,sortBy:d,sortDirection:t},{preserveScroll:!0,preserveState:!0,replace:!0})}const b=y(f.search||""),U=y(f.perPage||10);let j=null;L(b,()=>{clearTimeout(j),j=setTimeout(()=>T(),400)});function v(d){let t="asc";f.sortBy===d&&f.sortDirection==="asc"&&(t="desc"),T({sortBy:d,sortDirection:t})}const h=y(!1),k=y(!1),s=y(!1),o=z({id:null,name:"",short_name:""}),m=y(null);function V(){n("units.create")&&(o.reset(),k.value=!1,s.value=!1,h.value=!0)}function F(d){n("units.edit")&&(o.id=d.id,o.name=d.name,o.short_name=d.short_name,m.value=d,k.value=!0,s.value=!1,h.value=!0)}function w(){h.value=!1,s.value=!1,m.value=null,o.reset(),o.clearErrors()}function P(){if(!s.value)if(s.value=!0,k.value){if(!n("units.edit")){s.value=!1;return}o.put(route("units.update",o.id),{onSuccess:w,onFinish:()=>{s.value=!1}})}else{if(!n("units.create")){s.value=!1;return}o.post(route("units.store"),{onSuccess:w,onFinish:()=>{s.value=!1}})}}const _=y(!1);function H(d){n("units.delete")&&(m.value=d,_.value=!0)}function M(){m.value=null,_.value=!1,s.value=!1}function O(){s.value||n("units.delete")&&(s.value=!0,E.delete(route("units.destroy",m.value.id),{onSuccess:M,onFinish:()=>{s.value=!1},preserveScroll:!0}))}return(d,t)=>(c(),u($,null,[i(r(W),{title:"Satuan Barang"}),e("div",oe,[e("div",ne,[i(ee,{items:I}),r(n)("units.create")?(c(),u("button",{key:0,onClick:V,type:"button",class:"flex items-center gap-2 px-3 py-2 text-white bg-blue-500 rounded"},[i(Q),t[6]||(t[6]=e("span",{class:"hidden text-sm md:block"},"Tambah Satuan Barang",-1))])):g("",!0)]),e("div",le,[e("div",ie,[t[7]||(t[7]=e("div",{class:"font-bold text-gray-700 md:text-xl dark:text-gray-300"}," Daftar Satuan Barang ",-1)),e("div",de,[e("div",ue,[e("div",ce,[i(R,{class:"text-gray-400"})]),S(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>b.value=l),type:"text",placeholder:"Cari satuan barang",class:"dark:bg-dark-900 h-10 w-full rounded-lg border border-gray-200 bg-transparent py-2.5 pl-12 pr-4 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-blue-300 focus:outline-hidden focus:ring-3 focus:ring-blue-500/10 dark:border-gray-800 dark:bg-gray-900 dark:bg-white/[0.03] dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-blue-800 xl:w-[200px]"},null,512),[[D,b.value]])])])]),e("div",ge,[e("table",me,[e("thead",null,[e("tr",null,[t[12]||(t[12]=e("th",{class:"p-3 bg-gray-100 border-gray-200 border-y dark:border-gray-600 dark:bg-gray-800"},[e("div",{class:"flex items-center justify-center"},[e("p",{class:"flex flex-col items-center font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"},"No.")])],-1)),e("th",{onClick:t[1]||(t[1]=l=>v("name")),class:"p-3 bg-gray-100 border border-gray-200 dark:border-gray-600 dark:bg-gray-800"},[e("div",ye,[t[8]||(t[8]=e("p",{class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"},"Nama satuan",-1)),e("div",fe,[i(B,{class:x(["-mb-1",a.sortBy==="name"&&a.sortDirection==="asc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"]),i(C,{class:x(["-mt-1",a.sortBy==="name"&&a.sortDirection==="desc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"])])])]),e("th",{onClick:t[2]||(t[2]=l=>v("short_name")),class:"p-3 bg-gray-100 border border-gray-200 cursor-pointer dark:border-gray-600 dark:bg-gray-800"},[e("div",xe,[t[9]||(t[9]=e("p",{class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"},"Simbol Satuan",-1)),e("div",pe,[i(B,{class:x(["-mb-1",a.sortBy==="short_name"&&a.sortDirection==="asc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"]),i(C,{class:x(["-mt-1",a.sortBy==="short_name"&&a.sortDirection==="desc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"])])])]),e("th",{onClick:t[3]||(t[3]=l=>v("updated_at")),class:"p-3 bg-gray-100 border border-gray-200 cursor-pointer dark-border-gray-600 dark:bg-gray-800"},[e("div",be,[t[10]||(t[10]=e("p",{class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"},"Tanggal diperbarui",-1)),e("div",he,[i(B,{class:x(["-mb-1",a.sortBy==="updated_at"&&a.sortDirection==="asc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"]),i(C,{class:x(["-mt-1",a.sortBy==="updated_at"&&a.sortDirection==="desc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"])])])]),r(n)("units.edit")||r(n)("units.delete")?(c(),u("th",ke,[...t[11]||(t[11]=[e("div",{class:"flex items-center justify-center"},[e("p",{class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"},"Aksi")],-1)])])):g("",!0)])]),e("tbody",null,[a.units.data&&a.units.data.length>0?(c(!0),u($,{key:0},Y(a.units.data,(l,q)=>(c(),u("tr",{key:l.id,class:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800"},[e("td",ve,[e("div",we,[e("p",_e,p((a.units.current_page-1)*a.units.per_page+q+1)+". ",1)])]),e("td",Se,[e("div",De,[e("div",Be,[e("p",Ce,p(l.name),1)])])]),e("td",Te,[e("div",je,[e("p",Me,p(l.short_name),1)])]),e("td",$e,[e("div",Ee,[e("p",Ie,p(N(l.updated_at)),1)])]),r(n)("units.edit")||r(n)("units.delete")?(c(),u("td",Ne,[e("div",Ue,[r(n)("units.edit")?(c(),u("button",{key:0,onClick:A=>F(l),title:"Edit"},[i(X,{class:"text-yellow-500"})],8,Ve)):g("",!0),r(n)("units.delete")?(c(),u("button",{key:1,onClick:A=>H(l),title:"Hapus"},[i(Z,{class:"text-red-500"})],8,Fe)):g("",!0)])])):g("",!0)]))),128)):(c(),u("tr",Pe,[e("td",{colspan:r(n)("units.edit")||r(n)("units.delete")?5:4,class:"py-6 font-medium text-center text-gray-500 dark:text-gray-400"}," Tidak ada data ditemukan ",8,He)]))])]),i(te,{show:h.value,title:k.value?`Edit ${m.value?.name}`:"Tambah Satuan Barang",confirmText:s.value?"Menyimpan...":"Simpan",disabled:s.value,maxWidth:"md",onClose:w,onConfirm:P},{default:G(()=>[e("div",Oe,[e("div",qe,[t[13]||(t[13]=e("label",{for:"name",class:"font-semibold text-gray-900 dark:text-white"},[K(" Nama Satuan"),e("span",{class:"text-red-500"},"*")],-1)),S(e("input",{id:"name",class:"w-full text-sm font-medium text-gray-600 placeholder-gray-500 border-gray-400 rounded-lg placeholder:font-normal dark:border-white dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",type:"text","onUpdate:modelValue":t[4]||(t[4]=l=>r(o).name=l),required:"",placeholder:"Masukkan nama satuan barang"},null,512),[[D,r(o).name]]),r(o).errors.name?(c(),u("div",Ae,p(r(o).errors.name[0]),1)):g("",!0)]),e("div",Le,[t[14]||(t[14]=e("label",{for:"short_name",class:"font-semibold text-gray-900 dark:text-white"}," Simbol Satuan ",-1)),S(e("input",{id:"short_name",class:"w-full text-sm font-medium text-gray-600 placeholder-gray-500 border-gray-400 rounded-lg placeholder:font-normal dark:border-white dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",type:"text","onUpdate:modelValue":t[5]||(t[5]=l=>r(o).short_name=l),placeholder:"Masukkan simbol satuan barang"},null,512),[[D,r(o).short_name]]),r(o).errors.short_name?(c(),u("div",ze,p(r(o).errors.short_name[0]),1)):g("",!0)])])]),_:1},8,["show","title","confirmText","disabled"]),i(ae,{show:_.value,question:"Yakin ingin menghapus",selected:`${m.value?.name}`,title:"Hapus Satuan Barang",confirmText:s.value?"Menghapus...":"Ya, Hapus!",disabled:s.value,maxWidth:"md",onClose:M,onConfirm:O},null,8,["show","selected","confirmText","disabled"])]),a.units.data&&a.units.data.length>0?(c(),u("div",We,[i(re,{pagination:a.units},null,8,["pagination"])])):g("",!0)])])],64))}});export{it as default};
