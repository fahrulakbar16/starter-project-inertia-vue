import{d as v,y as C,z as Z,e as o,o as i,f as m,a as t,t as n,h as g,n as f,E as S,J as Y,F,i as q,G as Q,O as X,S as tt,K as et,H as st}from"./app-CJkCV51W.js";const at={key:0,class:"fixed inset-0 z-[9999] bg-black bg-opacity-50 flex items-center justify-center p-4"},nt={key:0,class:"flex items-center justify-center p-8"},ot={key:1,class:"flex items-center justify-center p-8"},it={class:"text-center"},lt={class:"text-red-600 mb-4"},rt={key:2,class:"space-y-5 p-6"},dt={key:0,class:"space-y-3"},ut={class:"p-3 bg-gray-50 rounded border"},mt={class:"text-gray-900 text-sm"},ct={class:"p-3 bg-gray-50 rounded border"},gt={class:"text-gray-900 text-sm"},bt={class:"p-3 bg-gray-50 rounded border"},xt={class:"text-gray-900 text-sm"},vt={class:"p-3 bg-gray-50 rounded border"},ft={class:"text-gray-900 text-sm"},yt={class:"p-3 bg-gray-50 rounded border"},pt={class:"text-gray-900 text-sm"},ht={class:"p-3 bg-gray-50 rounded border min-h-[80px]"},kt={class:"text-gray-900 text-sm leading-relaxed"},wt={key:0},jt={class:"p-3 bg-gray-50 rounded border"},Ct={key:0,class:"space-y-3"},Mt=["src"],_t={class:"text-center"},zt=["title"],Dt={class:"text-xs text-gray-500 mb-2"},Lt={class:"flex gap-2 justify-center"},Bt={key:1,class:"flex items-center gap-3"},It={class:"flex-1 min-w-0"},Vt=["title"],Pt={class:"text-xs text-gray-500"},St={class:"mt-2 flex gap-2"},Ft={class:"flex flex-wrap gap-6 items-end"},Tt={class:"flex-1 min-w-[140px]"},Et={class:"p-3 bg-gray-50 rounded border"},At={class:"text-gray-900 text-sm"},$t={class:"flex-1 min-w-[160px]"},Ht={class:"flex items-center gap-3"},Kt={class:"relative group"},Nt={class:"absolute right-0 top-9 bg-gray-800 text-white text-xs rounded-lg px-3 py-2 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-20 shadow-lg"},Ot={class:"font-medium"},Gt={class:"font-medium"},Wt={class:"p-3 bg-gray-50 rounded border min-h-[80px]"},Jt={class:"text-gray-900 text-sm leading-relaxed"},Rt={key:1,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ut={class:"p-2 bg-gray-50 rounded border"},Zt={class:"text-gray-900 text-sm"},Yt={class:"p-2 bg-gray-50 rounded border"},qt={class:"text-gray-900 text-sm"},Qt={class:"p-2 bg-gray-50 rounded border"},Xt={class:"text-gray-900 text-sm"},te=["value"],ee={key:0,class:"text-red-500 text-xs mt-1"},se={class:"p-2 bg-gray-50 rounded border"},ae={class:"text-gray-900 text-sm"},ne={class:"p-2 bg-gray-50 rounded border"},oe={class:"text-gray-900 text-sm"},ie={class:"p-2 bg-gray-50 rounded border"},le={class:"text-gray-900 text-sm"},re={class:"p-2 bg-gray-50 rounded border"},de={class:"text-gray-900 text-sm"},ue={key:0},me={class:"p-2 bg-gray-50 rounded border"},ce={key:0,class:"space-y-2"},ge=["src"],be={class:"text-center"},xe=["title"],ve={class:"text-xs text-gray-500 mb-1"},fe={class:"flex gap-2 justify-center"},ye={key:1,class:"flex items-center gap-3"},pe={class:"flex-1 min-w-0"},he=["title"],ke={class:"text-xs text-gray-500"},we={class:"mt-1 flex gap-2"},je={class:"block text-sm font-medium text-gray-700 mb-1"},Ce={key:0,class:"text-red-500"},Me={key:0,class:"text-red-500 text-xs mt-1"},_e={key:3,class:"text-center text-gray-500 py-8 px-4"},ze={key:4,class:"border-t border-gray-200 p-4"},De=["disabled"],Le={key:0,class:"w-4 h-4 mr-2 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Be={key:1,class:"w-4 h-4 mr-2 inline animate-spin",fill:"none",viewBox:"0 0 24 24"},Ie={key:1,class:"fixed inset-0 z-[10000] bg-black bg-opacity-50 flex items-center justify-center p-4"},Ve={class:"bg-white rounded-lg shadow-xl max-w-md w-full"},Pe={class:"p-6"},Se={class:"mb-6"},Fe={class:"text-sm text-gray-600 mb-4"},Te={class:"font-semibold text-gray-900"},Ee={key:0,class:"bg-red-50 border border-red-200 rounded-md p-3"},Ae={key:1,class:"mt-3"},$e={class:"text-sm text-gray-900 bg-gray-50 p-2 rounded border mt-1"},He={class:"flex gap-3 justify-end"},Ke=["disabled"],Ne={key:0,class:"w-4 h-4 mr-2 inline animate-spin",fill:"none",viewBox:"0 0 24 24"},Oe={class:"p-6 overflow-auto",style:{"max-height":"calc(90vh - 120px)"}},Ge={class:"flex items-center justify-center bg-gray-50 rounded-lg border-2 border-gray-200 p-4"},We=["src","alt"],Re={__name:"DetailDebt",props:{isOpen:{type:Boolean,default:!1},submission:Object,type:String,submission_types:Array,submission_statuses:Array,loading:{type:Boolean,default:!1},error:{type:String,default:null}},emits:["close","update-success"],setup(s,{emit:T}){const l=s,y=T,b=v(!1),p=v(!1),u=v({}),M=v(!1),h=v(""),r=v(typeof l.submission?.data?.status<"u"?l.submission?.data?.status:l.submission?.status??0),x=v(l.submission?.data?.admin_notes||""),k=C(()=>{const a=l.submission?.data?.status?.value??l.submission?.data?.status??l.submission?.status??"pending";return a==="approved"||a==="rejected"||a==="disetujui"||a==="ditolak"||a==="cancelled"||a==="dibatalkan"}),E=C(()=>r.value&&r.value!=="pending"&&r.value!=="menunggu persetujuan"),A=C(()=>E.value&&!b.value),z=a=>a?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(a):"-",D=a=>({pending:"Menunggu",approved:"Disetujui",rejected:"Ditolak",cancelled:"Dibatalkan","menunggu persetujuan":"Menunggu",disetujui:"Disetujui",ditolak:"Ditolak",dibatalkan:"Dibatalkan"})[a]||"Menunggu",$=a=>({pending:"bg-yellow-50 border-yellow-200",approved:"bg-green-50 border-green-200",rejected:"bg-red-50 border-red-200",cancelled:"bg-gray-50 border-gray-200","menunggu persetujuan":"bg-yellow-50 border-yellow-200",disetujui:"bg-green-50 border-green-200",ditolak:"bg-red-50 border-red-200",dibatalkan:"bg-gray-50 border-gray-200"})[a]||"bg-gray-50 border-gray-200",H=a=>({pending:"text-yellow-800",approved:"text-green-800",rejected:"text-red-800",cancelled:"text-gray-800","menunggu persetujuan":"text-yellow-800",disetujui:"text-green-800",ditolak:"text-red-800",dibatalkan:"text-gray-800"})[a]||"text-gray-800",K=C(()=>k.value?"max-w-4xl":l.submission&&(l.submission?.description&&l.submission?.description.length>200||l.submission?.keterangan&&l.submission?.keterangan.length>200)?"max-w-3xl":"max-w-xl");Z(()=>l.submission,a=>{a&&(r.value=typeof a.data?.status<"u"?a.data.status?.value??a.data.status:a.status??"pending",x.value=a.data?.admin_notes||"")},{immediate:!0});function N(){y("close")}function O(){u.value={}}function L(){return u.value={},!r.value||r.value==="pending"||r.value==="menunggu persetujuan"?(u.value.status="Pilih status pengajuan",!1):(r.value==="rejected"||r.value==="ditolak")&&(!x.value||x.value.trim()==="")?(u.value.keterangan="Keterangan admin wajib diisi untuk status ditolak",!1):!0}function G(){L()&&(p.value=!0)}function W(){p.value=!1,u.value={}}function J(){l.submission&&L()&&(b.value=!0,p.value=!1,st.put(route("submission.debt.update",l.submission?.data?.id),{status:r.value,admin_notes:x.value},{onStart:()=>{b.value=!0},onSuccess:()=>{y("close"),y("update-success")},onError:a=>{console.error("Error confirming submission:",a),u.value=a,alert("Terjadi kesalahan saat mengkonfirmasi pengajuan")},onFinish:()=>{b.value=!1}}))}function _(a){if(!a)return!1;const e=[".jpg",".jpeg",".png",".gif",".bmp",".webp",".svg"],d=a.toLowerCase().substring(a.lastIndexOf("."));return e.includes(d)}function c(a){return a?a.split("/").pop()||a:""}function w(a){if(!a)return"";const e=a.toLowerCase().substring(a.lastIndexOf("."));return{".jpg":"JPEG Image",".jpeg":"JPEG Image",".png":"PNG Image",".gif":"GIF Image",".bmp":"BMP Image",".webp":"WebP Image",".svg":"SVG Image",".pdf":"PDF Document",".doc":"Word Document",".docx":"Word Document",".xls":"Excel Spreadsheet",".xlsx":"Excel Spreadsheet",".ppt":"PowerPoint Presentation",".pptx":"PowerPoint Presentation",".txt":"Text File",".zip":"ZIP Archive",".rar":"RAR Archive",".7z":"7-Zip Archive"}[e]||"File"}function B(a){a.target.style.display="none";const e=a.target.parentElement;if(e)if(a.target.classList.contains("w-full"))e.innerHTML=`
                <div class="w-full max-w-md mx-auto bg-gray-200 rounded border flex items-center justify-center py-8">
                    <div class="text-center">
                        <svg class="w-12 h-12 text-gray-400 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z" />
                        </svg>
                        <p class="text-sm text-gray-500">Gambar tidak dapat dimuat</p>
                    </div>
                </div>
            `;else{const P=a.target.classList.contains("w-16"),R=P?"w-16 h-16":"w-12 h-12",U=P?"w-8 h-8":"w-6 h-6";e.innerHTML=`
                <div class="${R} bg-gray-200 rounded border flex items-center justify-center">
                    <svg class="${U} text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z" />
                    </svg>
                </div>
            `}}function j(a){if(!a)return;const e=document.createElement("a");e.href=`/storage/${a}`,e.download=c(a),document.body.appendChild(e),e.click(),document.body.removeChild(e)}function I(a){!a||!_(a)||(h.value=a,M.value=!0)}function V(){M.value=!1,h.value=""}return(a,e)=>(i(),o(F,null,[s.isOpen?(i(),o("div",at,[t("div",{class:f(["bg-white rounded-lg shadow-xl w-full",K.value]),style:X(k.value?"max-height:80vh; max-width: 50vw; margin-top: 3vh; overflow-y: auto;":"max-height:88vh; max-width: 40vw; margin-top: 5vh; overflow-y: auto;")},[t("div",{class:"flex items-center justify-between p-4 border-b border-gray-200"},[e[11]||(e[11]=t("h2",{class:"text-xl font-bold text-gray-900"},"Detail Pengajuan",-1)),t("button",{onClick:N,class:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full p-2 transition-colors",title:"Tutup"},[...e[10]||(e[10]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),l.loading?(i(),o("div",nt,[...e[12]||(e[12]=[t("div",{class:"text-center"},[t("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),t("p",{class:"text-gray-600"},"Memuat detail pengajuan...")],-1)])])):l.error?(i(),o("div",ot,[t("div",it,[e[13]||(e[13]=t("div",{class:"text-red-500 mb-4"},[t("svg",{class:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),t("p",lt,n(l.error),1),t("button",{onClick:e[0]||(e[0]=d=>y("close")),class:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600"}," Tutup ")])])):s.submission&&s.submission.data?(i(),o("div",rt,[k.value?(i(),o("div",dt,[t("div",null,[e[14]||(e[14]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nama",-1)),t("div",ut,[t("p",mt,n(s.submission?.data?.employee?.name||s.submission?.name||"-"),1)])]),t("div",null,[e[15]||(e[15]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Cabang",-1)),t("div",ct,[t("p",gt,n(s.submission?.data?.employee?.branch_name||s.submission?.branch_name||s.submission?.branch?.name||"-"),1)])]),t("div",null,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Tanggal Pengajuan",-1)),t("div",bt,[t("p",xt,n(s.submission?.data?.tanggal_pengajuan||"-"),1)])]),t("div",null,[e[17]||(e[17]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Jumlah Pinjaman",-1)),t("div",vt,[t("p",ft,n(z(s.submission?.data?.amount)||"-"),1)])]),t("div",null,[e[18]||(e[18]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Tenor",-1)),t("div",yt,[t("p",pt,n(s.submission?.data?.tenor||"-")+" bulan ",1)])]),t("div",null,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Keterangan Pengajuan",-1)),t("div",ht,[t("p",kt,n(s.submission?.data?.note||"-"),1)])]),s.submission?.data?.file_path?(i(),o("div",wt,[e[23]||(e[23]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Lampiran",-1)),t("div",jt,[_(s.submission.data.file_path)?(i(),o("div",Ct,[t("img",{src:`/storage/${s.submission.data.file_path}`,onClick:e[1]||(e[1]=d=>I(s.submission.data.file_path)),class:"w-full max-w-md mx-auto rounded border cursor-pointer hover:opacity-90 transition-opacity",alt:"Lampiran",onError:B},null,40,Mt),t("div",_t,[t("p",{class:"text-sm text-gray-900 font-medium",title:c(s.submission.data.file_path)},n(c(s.submission.data.file_path)),9,zt),t("p",Dt,n(w(s.submission.data.file_path)),1),t("div",Lt,[t("button",{onClick:e[2]||(e[2]=d=>j(s.submission.data.file_path)),class:"text-xs text-blue-600 hover:text-blue-800 font-medium flex items-center gap-1"},[...e[20]||(e[20]=[t("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),g(" Download ",-1)])])])])])):(i(),o("div",Bt,[e[22]||(e[22]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-16 h-16 bg-gray-200 rounded border flex items-center justify-center"},[t("svg",{class:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])])],-1)),t("div",It,[t("p",{class:"text-sm text-gray-900 font-medium truncate",title:c(s.submission.data.file_path)},n(c(s.submission.data.file_path)),9,Vt),t("p",Pt,n(w(s.submission.data.file_path)),1),t("div",St,[t("button",{onClick:e[3]||(e[3]=d=>j(s.submission.data.file_path)),class:"text-xs text-blue-600 hover:text-blue-800 font-medium flex items-center gap-1"},[...e[21]||(e[21]=[t("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),g(" Download ",-1)])])])])]))])])):m("",!0),t("div",Ft,[t("div",Tt,[e[24]||(e[24]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Tanggal Pinjaman",-1)),t("div",Et,[t("p",At,n(s.submission?.data?.date||"-"),1)])]),t("div",$t,[e[27]||(e[27]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),t("div",Ht,[t("div",{class:f(["p-3 rounded border flex-1",$(r.value)])},[t("p",{class:f(["text-sm font-medium",H(r.value)])},n(D(r.value)),3)],2),t("div",Kt,[e[26]||(e[26]=t("div",{class:"w-7 h-7 bg-blue-100 rounded-full flex items-center justify-center cursor-pointer hover:bg-blue-200 transition-colors"},[t("svg",{class:"w-4 h-4 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})])],-1)),t("div",Nt,[t("div",Ot,n(s.submission?.data?.approved_at||"-"),1),e[25]||(e[25]=t("div",{class:"text-gray-300 text-xs"},"Oleh",-1)),t("div",Gt,n(s.submission?.data?.approved_by?.name||"-"),1)])])])])]),t("div",null,[e[28]||(e[28]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Keterangan Admin",-1)),t("div",Wt,[t("p",Jt,n(s.submission?.data?.admin_notes||"-"),1)])])])):(i(),o("div",Rt,[t("div",null,[e[29]||(e[29]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nama",-1)),t("div",Ut,[t("p",Zt,n(s.submission?.data?.employee?.name||"-"),1)])]),t("div",null,[e[30]||(e[30]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Cabang",-1)),t("div",Yt,[t("p",qt,n(s.submission?.data?.employee?.branch_name||"-"),1)])]),t("div",null,[e[31]||(e[31]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Tanggal Pengajuan",-1)),t("div",Qt,[t("p",Xt,n(s.submission?.data?.tanggal_pengajuan||"-"),1)])]),t("div",null,[e[32]||(e[32]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),t("div",{class:f(["bg-gray-50 rounded border",{"border-red-300":u.value.status}])},[S(t("select",{"onUpdate:modelValue":e[4]||(e[4]=d=>r.value=d),class:"w-full bg-transparent text-gray-900 text-sm focus:outline-none p-2",onChange:O},[(i(!0),o(F,null,q(s.submission.submission_statuses,d=>(i(),o("option",{value:d.value,key:d.value},n(d.label),9,te))),128))],544),[[Y,r.value]])],2),u.value.status?(i(),o("p",ee,n(u.value.status),1)):m("",!0)]),t("div",null,[e[33]||(e[33]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Jumlah Pinjaman",-1)),t("div",se,[t("p",ae,n(z(s.submission?.data?.amount)||"-"),1)])]),t("div",null,[e[34]||(e[34]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Tenor",-1)),t("div",ne,[t("p",oe,n(s.submission?.data?.tenor||"-")+" bulan ",1)])]),t("div",null,[e[35]||(e[35]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Tanggal Pinjaman",-1)),t("div",ie,[t("p",le,n(s.submission?.data?.date||"-"),1)])]),t("div",null,[e[36]||(e[36]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Keterangan Pengajuan",-1)),t("div",re,[t("p",de,n(s.submission?.data?.note||"-"),1)])]),s.submission?.data?.file_path?(i(),o("div",ue,[e[40]||(e[40]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Lampiran",-1)),t("div",me,[_(s.submission.data.file_path)?(i(),o("div",ce,[t("img",{src:`/storage/${s.submission.data.file_path}`,onClick:e[5]||(e[5]=d=>I(s.submission.data.file_path)),class:"w-full max-w-sm mx-auto rounded border cursor-pointer hover:opacity-90 transition-opacity",alt:"Lampiran",onError:B},null,40,ge),t("div",be,[t("p",{class:"text-sm text-gray-900 font-medium truncate",title:c(s.submission.data.file_path)},n(c(s.submission.data.file_path)),9,xe),t("p",ve,n(w(s.submission.data.file_path)),1),t("div",fe,[t("button",{onClick:e[6]||(e[6]=d=>j(s.submission.data.file_path)),class:"text-xs text-blue-600 hover:text-blue-800 font-medium flex items-center gap-1"},[...e[37]||(e[37]=[t("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),g(" Download ",-1)])])])])])):(i(),o("div",ye,[e[39]||(e[39]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-12 h-12 bg-gray-200 rounded border flex items-center justify-center"},[t("svg",{class:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])])],-1)),t("div",pe,[t("p",{class:"text-sm text-gray-900 font-medium truncate",title:c(s.submission.data.file_path)},n(c(s.submission.data.file_path)),9,he),t("p",ke,n(w(s.submission.data.file_path)),1),t("div",we,[t("button",{onClick:e[7]||(e[7]=d=>j(s.submission.data.file_path)),class:"text-xs text-blue-600 hover:text-blue-800 font-medium flex items-center gap-1"},[...e[38]||(e[38]=[t("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),g(" Download ",-1)])])])])]))])])):m("",!0),t("div",null,[t("label",je,[e[41]||(e[41]=g(" Keterangan Admin ",-1)),r.value==="rejected"||r.value==="ditolak"?(i(),o("span",Ce,"*")):m("",!0)]),S(t("textarea",{"onUpdate:modelValue":e[8]||(e[8]=d=>x.value=d),class:f(["w-full p-2 bg-gray-50 rounded border min-h-[80px] resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",{"border-red-300":u.value.keterangan}]),placeholder:"Keterangan admin"},null,2),[[Q,x.value]]),u.value.keterangan?(i(),o("p",Me,n(u.value.keterangan),1)):m("",!0)])]))])):(i(),o("div",_e," Data pengajuan tidak ditemukan. ")),!l.loading&&!l.error&&s.submission&&s.submission.data&&!k.value?(i(),o("div",ze,[t("button",{onClick:G,disabled:!A.value,class:"w-full flex items-center justify-center bg-blue-600 text-white text-sm font-medium py-2 px-4 rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[b.value?(i(),o("svg",Be,[...e[43]||(e[43]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(i(),o("svg",Le,[...e[42]||(e[42]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])])),g(" "+n(b.value?"Memproses...":"Konfirmasi Pengajuan"),1)],8,De)])):m("",!0)],6)])):m("",!0),p.value?(i(),o("div",Ie,[t("div",Ve,[t("div",Pe,[e[49]||(e[49]=tt('<div class="flex items-center mb-4"><div class="flex-shrink-0"><svg class="w-8 h-8 text-yellow-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path></svg></div><div class="ml-3"><h3 class="text-lg font-medium text-gray-900">Konfirmasi Pengajuan</h3></div></div>',1)),t("div",Se,[t("p",Fe,[e[44]||(e[44]=g(" Apakah Anda yakin ingin mengubah status pengajuan menjadi ",-1)),t("span",Te,n(D(r.value)),1),e[45]||(e[45]=g("? ",-1))]),r.value==="rejected"||r.value==="ditolak"?(i(),o("div",Ee,[...e[46]||(e[46]=[t("p",{class:"text-sm text-red-800"},[t("strong",null,"Perhatian:"),g(" Status ditolak akan mengirim notifikasi kepada karyawan. ")],-1)])])):m("",!0),x.value?(i(),o("div",Ae,[e[47]||(e[47]=t("p",{class:"text-sm text-gray-600"},"Keterangan admin:",-1)),t("p",$e,n(x.value),1)])):m("",!0)]),t("div",He,[t("button",{onClick:W,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors"}," Batal "),t("button",{onClick:J,disabled:b.value,class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[b.value?(i(),o("svg",Ne,[...e[48]||(e[48]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):m("",!0),g(" "+n(b.value?"Memproses...":"Ya, Konfirmasi"),1)],8,Ke)])])])])):m("",!0),M.value?(i(),o("div",{key:2,class:"fixed inset-0 z-[10001] bg-black bg-opacity-50 flex items-center justify-center p-4",onClick:V},[t("div",{class:"relative bg-white rounded-lg shadow-xl w-full max-w-5xl",style:{"max-height":"90vh"},onClick:e[9]||(e[9]=et(()=>{},["stop"]))},[t("button",{onClick:V,class:"absolute top-4 right-4 z-10 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full p-2 transition-colors"},[...e[50]||(e[50]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])]),e[51]||(e[51]=t("div",{class:"flex items-center justify-between p-4 border-b border-gray-200"},[t("div",{class:"flex items-center gap-3"},[t("h3",{class:"text-lg font-semibold text-gray-900"},"Preview Lampiran")]),t("div",{class:"flex items-center gap-2"})],-1)),t("div",Oe,[t("div",Ge,[t("img",{src:`/storage/${h.value}`,alt:c(h.value),class:"max-w-full max-h-[70vh] object-contain rounded-lg shadow-sm"},null,8,We)])])])])):m("",!0)],64))}};export{Re as default};
