import{e as n,o,a as e,d as f,z as fe,U as W,b as y,f as w,F as x,i as b,n as _,t as s,h as v,E as R,G as he,w as D,J as Z,g as ke,c as X,O as _e,H as U}from"./app-CJkCV51W.js";import{_ as ve}from"./AppLayout-BlEKf3Fz.js";import{S as we}from"./SearchIcon-B0safoHl.js";import{U as De,D as Ce}from"./DownIcon-C_yWQF6q.js";import{_ as Ie}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{S as je}from"./LayoutShell-FWpWJLvi.js";import{_ as Ke}from"./Breadcrumb-BJQpsGcc.js";import{_ as P}from"./Modal-Ddbg9qvg.js";import{_ as Se}from"./Pagination-C2dOEo8X.js";import"./FlashMessage-D4C-FUm8.js";import"./useAuth-DvuTgkfF.js";import"./LayoutShell.vue_vue_type_style_index_0_lang-CRqqKi3W.js";const Me={},Te={width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Ne(c,K){return o(),n("svg",Te,[...K[0]||(K[0]=[e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M21.6637 5.92636C22.1121 6.37481 22.1121 7.10189 21.6637 7.55034L11.1373 18.0767C10.6889 18.5251 9.96182 18.5251 9.51337 18.0767L2.33634 10.8996C1.88789 10.4512 1.88789 9.72409 2.33634 9.27565C2.78479 8.8272 3.51187 8.8272 3.96031 9.27565L10.3254 15.6407L20.0397 5.92636C20.4881 5.47791 21.2152 5.47791 21.6637 5.92636Z",fill:"currentColor"},null,-1)])])}const Be=Ie(Me,[["render",Ne]]),Oe={class:"flex overflow-hidden flex-col gap-3 px-3 h-full"},$e={class:"flex justify-between items-center h-10"},Fe={class:"flex flex-col overflow-hidden rounded-lg border border-gray-200 bg-white dark:border-gray-600 dark:bg-white/[0.03]"},ze={class:"px-6 pt-4 border-b border-gray-200 dark:border-gray-700"},Ve={class:"flex gap-4 items-center"},Ae=["onClick"],Le={class:"flex flex-col gap-2 px-8 py-1 sm:flex-row sm:items-center sm:justify-between"},Re={class:"font-bold text-gray-700 md:text-xl dark:text-gray-300"},Ue={key:0},Pe={class:"flex gap-3 items-center"},Je={class:"relative py-2"},Ye={class:"absolute left-4 top-1/2 -translate-y-1/2"},Qe={class:"space-y-3"},He={class:"flex gap-2 justify-between"},qe={class:"space-y-1 text-sm w-[50%]"},Ee=["value"],Ge={class:"space-y-1 text-sm w-[50%]"},We=["value"],Ze={key:0,class:"overflow-auto","data-simplebar":""},Xe={class:"min-w-full text-sm"},et={class:"flex gap-2 justify-center items-center px-3 cursor-pointer"},tt={class:"flex flex-col items-center"},rt={class:"flex flex-col justify-center items-center w-8"},at={class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"},st={class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"},ot={class:"sticky left-0 z-10 p-2.5 bg-white border-gray-200 border-y dark:border-gray-600 dark:bg-gray-900"},nt={class:"flex justify-center items-center whitespace-nowrap"},lt={class:"text-gray-500 dark:text-gray-400"},it={class:"py-2.5 border border-gray-200 dark:border-gray-600 sticky left-[60px] z-10 bg-white dark:bg-gray-900"},dt=["src"],ct={class:"flex flex-col leading-tight"},gt={class:"font-medium text-gray-800 dark:text-white/90"},ut={class:"text-gray-500 dark:text-gray-400"},mt={class:"flex justify-center items-center w-8 whitespace-nowrap"},yt=["onClick","title"],xt={key:1},pt={key:1,class:"overflow-auto","data-simplebar":""},bt={class:"min-w-full text-sm"},ft={class:"flex flex-col justify-center items-center w-16"},ht={class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"},kt={class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"},_t={class:"sticky left-0 z-10 p-2.5 bg-white border-gray-200 border-y dark:border-gray-600 dark:bg-gray-900"},vt={class:"flex justify-center items-center whitespace-nowrap"},wt={class:"text-gray-500 dark:text-gray-400"},Dt={class:"py-2.5 border border-gray-200 dark:border-gray-600 sticky left-[60px] z-10 bg-white dark:bg-gray-900"},Ct=["src"],It={class:"flex flex-col leading-tight"},jt={class:"font-medium text-gray-800 dark:text-white/90"},Kt={class:"text-gray-500 dark:text-gray-400"},St={class:"flex justify-center items-center w-16 whitespace-nowrap"},Mt=["onClick"],Tt={key:1,class:"text-gray-400 dark:text-gray-600"},Nt={key:1},Bt={key:2,class:"overflow-auto","data-simplebar":""},Ot={class:"min-w-full text-sm"},$t={class:"p-3 text-center text-gray-500 dark:text-gray-400"},Ft={class:"p-3"},zt=["src"],Vt={class:"flex flex-col"},At={class:"font-medium text-gray-800 dark:text-white"},Lt={class:"text-sm text-gray-500 dark:text-gray-400"},Rt={class:"p-3 text-center bg-blue-50/30 dark:bg-blue-900/10"},Ut={class:"text-lg font-semibold text-blue-700 dark:text-blue-400"},Pt={class:"p-3 text-center bg-green-50/30 dark:bg-green-900/10"},Jt={class:"text-lg font-semibold text-green-700 dark:text-green-400"},Yt={class:"p-3 text-center bg-amber-50/30 dark:bg-amber-900/10"},Qt={class:"text-lg font-semibold text-amber-700 dark:text-amber-400"},Ht={class:"p-3 text-center bg-rose-50/30 dark:bg-rose-900/10"},qt={class:"text-lg font-semibold text-rose-700 dark:text-rose-400"},Et={class:"p-3 text-center bg-gray-50 dark:bg-gray-800"},Gt={class:"text-lg font-bold text-gray-900 dark:text-white"},Wt={key:1},Zt={class:"flex gap-10 justify-between px-5 pt-4 mt-4 w-full border-t border-gray-200 dark:border-gray-700"},Xt={class:"p-6"},er={class:"flex justify-between items-start mb-4"},tr={class:"text-xl font-semibold text-gray-900 dark:text-white"},rr={class:"flex gap-3 items-center mt-2"},ar={class:"text-sm text-gray-600 dark:text-gray-400"},sr={class:"px-2 py-1 text-xs font-medium text-blue-700 bg-blue-100 rounded-full dark:bg-blue-900 dark:text-blue-300"},or={class:"overflow-x-auto"},nr={class:"min-w-full text-sm"},lr={class:"bg-white divide-y divide-gray-200 dark:bg-gray-900 dark:divide-gray-700"},ir=["onClick"],dr={class:"px-4 py-3 whitespace-nowrap"},cr={class:"text-sm font-medium text-gray-900 dark:text-white"},gr={class:"px-4 py-3"},ur={class:"flex flex-col gap-1"},mr={class:"text-sm font-medium text-gray-900 dark:text-white"},yr={class:"flex flex-wrap gap-1"},xr={key:0,class:"px-2 py-0.5 text-xs font-medium text-blue-700 bg-blue-100 rounded dark:bg-blue-900 dark:text-blue-300"},pr={class:"px-4 py-3 text-sm text-gray-900 whitespace-nowrap dark:text-white"},br={class:"px-4 py-3 whitespace-nowrap"},fr={class:"px-4 py-3 text-sm text-gray-900 dark:text-white"},hr={class:"px-4 py-3 text-center"},kr={key:0,class:"flex gap-2 justify-center items-center"},_r={class:"w-16 h-2 bg-gray-200 rounded-full dark:bg-gray-700"},vr={key:1,class:"text-gray-400 dark:text-gray-500"},wr={key:1},Dr={class:"p-6"},Cr={class:"flex justify-between items-center mb-4"},Ir={class:"text-xl font-semibold text-gray-900 dark:text-white"},jr={class:"mb-4 text-sm text-gray-600 dark:text-gray-400"},Kr={class:"space-y-4"},Sr={class:"p-4 bg-gray-50 rounded-lg dark:bg-gray-800"},Mr={class:"grid grid-cols-2 gap-4"},Tr={class:"text-2xl font-bold text-gray-900 dark:text-white"},Nr={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},Br={key:0,class:"p-4 rounded-lg border border-gray-200 dark:border-gray-700"},Or={class:"space-y-2"},$r={class:"flex justify-between"},Fr={class:"text-sm font-medium text-gray-900 dark:text-white"},zr={class:"flex justify-between"},Vr={class:"text-sm font-medium text-gray-900 dark:text-white"},Wr=Object.assign({layout:ve},{__name:"Index",props:{vehicles:Object,dates:Array,month:Number,year:Number,search:String,sortBy:String,sortDirection:String,perPage:Number,tab:String},setup(c){const K=[{label:"Kendaraan"},{label:"Riwayat Inspeksi"}],u=c,ee=[{value:"inspection",label:"Rekap Inspeksi"},{value:"kilometer",label:"Rekap Kilo Meter"},{value:"service",label:"Rekap Servis"}],h=f(u.tab||"inspection"),B=f(!1),k=f({vehicleName:"",date:"",inspections:[]}),O=f(!1),p=f({vehicleName:"",date:"",currentKm:0,lastKm:0,odometerData:null});function te(a){h.value=a,U.get(route("vehicle-inspection-recaps.index"),{tab:a,search:I.value,perPage:Y.value,month:T.value,year:N.value},{preserveScroll:!1,preserveState:!1,replace:!0,onSuccess:()=>{if(console.log("Active tab:",h.value),console.log("Vehicles data:",u.vehicles.data),u.vehicles.data&&u.vehicles.data.length>0){const r=u.vehicles.data[0];console.log("First vehicle inspections:",r.inspections),console.log("First vehicle odometers:",r.odometers),console.log("First vehicle daily_km:",r.daily_km)}}})}function J(a){const r=new Date(a);return new Intl.DateTimeFormat("id-ID",{weekday:"short"}).format(r)}function C(a){return a.inspections||[]}function S(a,r){return C(a).filter(d=>{const t=d.submit_date||d.created_at;return t&&t.substring(0,10)===r}).length}function re(a,r){const g=C(a).find(d=>{const t=d.submit_date||d.created_at;return t&&t.substring(0,10)===r});return g?g.id:null}function ae(a,r){if(a.odometers&&a.odometers.length>0){const d=a.odometers.filter(t=>(t.tanggal?t.tanggal.substring(0,10):null)===r);if(d.length>0)return d.reduce((l,i)=>i.id>l.id?i:l).current_km}if(a.odometers&&a.odometers.length>0){const d=a.odometers.filter(t=>{const l=t.tanggal?t.tanggal.substring(0,10):null;return l&&l<=r});if(d.length>0)return d.reduce((l,i)=>{const m=l.tanggal?l.tanggal.substring(0,10):"",j=i.tanggal?i.tanggal.substring(0,10):"";return j===m?i.id>l.id?i:l:j>m?i:l}).current_km}const g=C(a).find(d=>{const t=d.submit_date||d.created_at;return t&&t.substring(0,10)===r});return g?g.kilometer:null}function $(a,r){if(a&&a.daily_km&&Object.prototype.hasOwnProperty.call(a.daily_km,r)){const g=a.daily_km[r];if(g!=null)return g}return ae(a,r)}function se(a,r){return a&&a.daily_km_updated&&Object.prototype.hasOwnProperty.call(a.daily_km_updated,r)?a.daily_km_updated[r]===!0:!1}function F(a){return a?new Intl.NumberFormat("id-ID").format(a):"0"}function M(a,r){if(!a.services||!Array.isArray(a.services))return 0;const d={1:[1,2,3],2:[4,5,6],3:[7,8,9],4:[10,11,12]}[r];return d?a.services.filter(t=>{if(!t.date)return!1;const l=new Date(t.date),i=l.getMonth()+1;return l.getFullYear()===u.year&&d.includes(i)}).length:0}function oe(a){return!a.services||!Array.isArray(a.services)?0:a.services.filter(r=>r.date?new Date(r.date).getFullYear()===u.year:!1).length}function z({sortBy:a=u.sortBy,sortDirection:r=u.sortDirection,monthFilter:g=T.value,yearFilter:d=N.value}={}){U.get(route("vehicle-inspection-recaps.index"),{search:I.value,perPage:Y.value,sortBy:a,sortDirection:r,month:g,year:d},{onSuccess:()=>{q()},preserveScroll:!0,preserveState:!0,replace:!0})}const I=f(u.search||""),Y=f(u.perPage||10),T=f(u.month||new Date().getMonth()+1),N=f(u.year||new Date().getFullYear()),ne=new Date().getFullYear(),le=Array.from({length:ne-2020+1},(a,r)=>2020+r),Q=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"];let H=null;fe(I,()=>{clearTimeout(H),H=setTimeout(()=>{z()},400)});function ie(a){let r="asc";u.sortBy===a&&u.sortDirection==="asc"&&(r="desc"),z({sortBy:a,sortDirection:r})}const V=f(!1);function de(){V.value=!0}function q(){V.value=!1}function ce(a,r){const g=C(a).filter(d=>{const t=d.submit_date||d.created_at;return t&&t.substring(0,10)===r});k.value={vehicleName:a.license_code||a.type?.name||"Kendaraan",date:r,inspections:g},B.value=!0}function A(){B.value=!1,k.value={vehicleName:"",date:"",inspections:[]}}function ge(a){U.get(route("inspections.show",a))}function L(a){if(!a)return"-";const r=new Date(a);return new Intl.DateTimeFormat("id-ID",{weekday:"long",day:"numeric",month:"long",year:"numeric"}).format(r)}function ue(a){if(!a)return"-";const r=new Date(a);return new Intl.DateTimeFormat("id-ID",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(r)}function me(a){if(!a)return"bg-gray-100 text-gray-700";const r=a.toLowerCase();return{draft:"bg-amber-100 text-amber-700",submitted:"bg-green-100 text-green-700",approved:"bg-green-100 text-green-700",rejected:"bg-red-100 text-red-700"}[r]||"bg-gray-100 text-gray-700"}function ye(a){if(!a)return"-";const r=a.toLowerCase();return{draft:"Belum Selesai",submitted:"Selesai",approved:"Selesai",rejected:"Ditolak"}[r]||a}function xe(a){return a>=80?"text-green-600":a>=60?"text-yellow-600":"text-red-600"}function pe(a){return a>=80?"bg-green-500":a>=60?"bg-yellow-500":"bg-red-500"}function be(a,r){let g=null,d=0,t=0;if(a.odometers&&a.odometers.length>0)if(g=a.odometers.find(l=>(l.tanggal?l.tanggal.substring(0,10):null)===r),g)d=g.current_km||0,t=g.last_km||0;else{d=$(a,r)||0;const l=a.odometers.filter(i=>{const m=i.tanggal?i.tanggal.substring(0,10):null;return m&&m<r}).sort((i,m)=>{const j=i.tanggal?i.tanggal.substring(0,10):"",G=m.tanggal?m.tanggal.substring(0,10):"";return j===G?m.id-i.id:G.localeCompare(j)});l.length>0&&(t=l[0].current_km||0)}if(!g&&d===0){const l=C(a).find(i=>{const m=i.submit_date||i.created_at;return m&&m.substring(0,10)===r});l&&l.kilometer&&(d=l.kilometer)}p.value={vehicleName:a.license_code||a.type?.name||"Kendaraan",date:r,currentKm:d,lastKm:t,odometerData:g},O.value=!0}function E(){O.value=!1,p.value={vehicleName:"",date:"",currentKm:0,lastKm:0,odometerData:null}}return(a,r)=>{const g=W("Head"),d=W("Link");return o(),n(x,null,[y(g,{title:"Rekap Inspeksi Kendaraan"}),e("div",Oe,[e("div",$e,[y(Ke,{items:K})]),e("div",Fe,[e("div",ze,[e("div",Ve,[(o(),n(x,null,b(ee,t=>e("button",{key:t.value,class:_(["px-4 py-2 text-sm font-medium rounded-t transition-colors",h.value===t.value?"text-blue-600 border-b-2 border-blue-600 dark:text-blue-400":"text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200"]),onClick:l=>te(t.value)},s(t.label),11,Ae)),64))])]),e("div",Le,[e("div",Re,[v(s(h.value==="inspection"?"Rekap Inspeksi":h.value==="kilometer"?"Rekap Kilo Meter":"Rekap Servis")+" ",1),h.value!=="service"?(o(),n("span",Ue,s(Q[u.month-1]),1)):w("",!0),v(" "+s(u.year),1)]),e("div",Pe,[e("div",Je,[e("div",Ye,[y(we,{class:"text-gray-400"})]),R(e("input",{"onUpdate:modelValue":r[0]||(r[0]=t=>I.value=t),type:"text",placeholder:"Cari inspeksi",class:"dark:bg-gray-800 h-10 w-full rounded-lg border border-gray-200 bg-transparent py-2.5 pl-12 pr-4 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-blue-300 focus:outline-hidden focus:ring-3 focus:ring-blue-500/10 dark:border-gray-800 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-blue-800 xl:w-[200px]"},null,512),[[he,I.value]])]),e("button",{onClick:de,type:"button",class:"h-10 inline-flex items-center gap-2 rounded-lg border border-gray-300 bg-white px-4 py-2 text-theme-sm font-medium text-gray-700 hover:bg-gray-50 hover:text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200"},[y(je),r[4]||(r[4]=v(" Filter ",-1))]),y(P,{show:V.value,title:`
                            Filter
                        `,confirmText:"Terapkan",maxWidth:"lg",onClose:q,onConfirm:z},{default:D(()=>[e("div",Qe,[e("div",He,[e("div",qe,[r[5]||(r[5]=e("label",{for:"vehicle_id",class:"text-gray-900 dark:text-white"},"Pilih Bulan",-1)),R(e("select",{"onUpdate:modelValue":r[1]||(r[1]=t=>T.value=t),class:"w-full text-sm font-medium placeholder-gray-500 text-gray-600 rounded-lg border-gray-300 placeholder:font-normal dark:border-white dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500"},[(o(),n(x,null,b(Q,(t,l)=>e("option",{key:l,value:l+1},s(t),9,Ee)),64))],512),[[Z,T.value]])]),e("div",Ge,[r[6]||(r[6]=e("label",{for:"vehicle_id",class:"text-gray-900 dark:text-white"},[v("Pilih Tahun"),e("span",{class:"text-red-500"},"*")],-1)),R(e("select",{"onUpdate:modelValue":r[2]||(r[2]=t=>N.value=t),class:"w-full text-sm font-medium placeholder-gray-500 text-gray-600 rounded-lg border-gray-300 placeholder:font-normal dark:border-white dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500"},[(o(!0),n(x,null,b(ke(le),t=>(o(),n("option",{key:t,value:t},s(t),9,We))),128))],512),[[Z,N.value]])])])])]),_:1},8,["show"])])]),h.value==="inspection"?(o(),n("div",Ze,[e("table",Xe,[e("thead",null,[e("tr",null,[r[8]||(r[8]=e("th",{class:"sticky left-0 z-20 p-2.5 bg-gray-100 border-gray-200 border-y dark:border-gray-600 dark:bg-gray-800",style:{"min-width":"75px"}},[e("div",{class:"flex justify-center items-center"},[e("p",{class:"flex flex-col items-center font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"}," No. ")])],-1)),e("th",{onClick:r[3]||(r[3]=t=>ie("type.name")),class:"py-3 bg-gray-100 border border-gray-200 dark:border-gray-600 dark:bg-gray-800 sticky left-[60px] z-20",style:{"min-width":"250px"}},[e("div",et,[r[7]||(r[7]=e("p",{class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"}," Kendaraan ",-1)),e("div",tt,[y(De,{class:_(["-mb-1",c.sortBy==="name"&&c.sortDirection==="asc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"]),y(Ce,{class:_(["-mt-1",c.sortBy==="name"&&c.sortDirection==="desc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"])])])]),(o(!0),n(x,null,b(c.dates,t=>(o(),n("th",{key:t,class:"p-3 bg-gray-100 border border-gray-200 dark:border-gray-600 dark:bg-gray-800"},[e("div",rt,[e("p",at,s(J(t)),1),e("p",st,s(new Date(t).getDate()),1)])]))),128))])]),e("tbody",null,[c.vehicles.data&&c.vehicles.data.length>0?(o(!0),n(x,{key:0},b(c.vehicles.data,(t,l)=>(o(),n("tr",{key:t.id,class:"hover:bg-gray-100 dark:hover:bg-gray-800"},[e("td",ot,[e("div",nt,[e("p",lt,s((c.vehicles.current_page-1)*c.vehicles.per_page+l+1)+". ",1)])]),e("td",it,[y(d,{href:a.route("vehicles.show",t.id),class:"flex gap-3 items-center px-3 w-56 whitespace-nowrap"},{default:D(()=>[e("img",{class:"object-cover w-10 h-10 rounded-full",src:t.photo?`/storage/${t.photo}`:`https://ui-avatars.com/api/?name=${encodeURIComponent(t.type.name)}&background=3b82f6&color=fff`,alt:"Vehicle photo",loading:"lazy"},null,8,dt),e("div",ct,[e("p",gt,s(t.license_code),1),e("span",ut,s(t.type.name),1)])]),_:2},1032,["href"])]),(o(!0),n(x,null,b(c.dates,i=>(o(),n("td",{key:i,class:"p-2.5 border border-gray-200 dark:border-gray-600"},[e("div",mt,[S(t,i)>0?(o(),n(x,{key:0},[S(t,i)===1?(o(),X(d,{key:0,href:a.route("inspections.show",re(t,i))},{default:D(()=>[y(Be,{class:"mx-auto w-6 h-6 text-green-500"})]),_:1},8,["href"])):(o(),n("button",{key:1,onClick:m=>ce(t,i),class:"inline-flex justify-center items-center w-6 h-6 text-xs font-bold text-white bg-blue-500 rounded-full transition-colors cursor-pointer hover:bg-blue-600",title:`${S(t,i)} inspeksi pada tanggal ini. Klik untuk melihat detail`},s(S(t,i)),9,yt))],64)):w("",!0)])]))),128))]))),128)):(o(),n("tr",xt,[...r[9]||(r[9]=[e("td",{colspan:"10",class:"py-6 font-medium text-center text-gray-500 dark:text-gray-400"}," Tidak ada data ditemukan ",-1)])]))])])])):h.value==="kilometer"?(o(),n("div",pt,[e("table",bt,[e("thead",null,[e("tr",null,[r[10]||(r[10]=e("th",{class:"sticky left-0 z-20 p-2.5 bg-gray-100 border-gray-200 border-y dark:border-gray-600 dark:bg-gray-800",style:{"min-width":"75px"}},[e("div",{class:"flex justify-center items-center"},[e("p",{class:"flex flex-col items-center font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"}," No. ")])],-1)),r[11]||(r[11]=e("th",{class:"py-3 bg-gray-100 border border-gray-200 dark:border-gray-600 dark:bg-gray-800 sticky left-[60px] z-20",style:{"min-width":"250px"}},[e("div",{class:"flex gap-2 justify-center items-center px-3"},[e("p",{class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"}," Kendaraan ")])],-1)),(o(!0),n(x,null,b(c.dates,t=>(o(),n("th",{key:t,class:"p-3 bg-gray-100 border border-gray-200 dark:border-gray-600 dark:bg-gray-800"},[e("div",ft,[e("p",ht,s(J(t)),1),e("p",kt,s(new Date(t).getDate()),1)])]))),128))])]),e("tbody",null,[c.vehicles.data&&c.vehicles.data.length>0?(o(!0),n(x,{key:0},b(c.vehicles.data,(t,l)=>(o(),n("tr",{key:t.id,class:"hover:bg-gray-100 dark:hover:bg-gray-800"},[e("td",_t,[e("div",vt,[e("p",wt,s((c.vehicles.current_page-1)*c.vehicles.per_page+l+1)+". ",1)])]),e("td",Dt,[y(d,{href:a.route("vehicles.show",t.id),class:"flex gap-3 items-center px-3 w-56 whitespace-nowrap"},{default:D(()=>[e("img",{class:"object-cover w-10 h-10 rounded-full",src:t.photo?`/storage/${t.photo}`:`https://ui-avatars.com/api/?name=${encodeURIComponent(t.type.name)}&background=3b82f6&color=fff`,alt:"Vehicle photo",loading:"lazy"},null,8,Ct),e("div",It,[e("p",jt,s(t.license_code),1),e("span",Kt,s(t.type.name),1)])]),_:2},1032,["href"])]),(o(!0),n(x,null,b(c.dates,i=>(o(),n("td",{key:i,class:_(["p-2.5 border border-gray-200 dark:border-gray-600",{"bg-blue-50 dark:bg-blue-900/20":se(t,i)}])},[e("div",St,[$(t,i)?(o(),n("button",{key:0,onClick:m=>be(t,i),class:"text-sm font-medium text-blue-600 cursor-pointer hover:text-blue-800 hover:underline dark:text-blue-400 dark:hover:text-blue-300",title:"Klik untuk melihat detail kilometer pada tanggal ini"},s(F($(t,i)))+" km ",9,Mt)):(o(),n("span",Tt,"-"))])],2))),128))]))),128)):(o(),n("tr",Nt,[...r[12]||(r[12]=[e("td",{colspan:"10",class:"py-6 font-medium text-center text-gray-500 dark:text-gray-400"}," Tidak ada data ditemukan ",-1)])]))])])])):h.value==="service"?(o(),n("div",Bt,[e("table",Ot,[r[14]||(r[14]=e("thead",null,[e("tr",null,[e("th",{class:"p-3 bg-gray-100 border-gray-200 border-y dark:border-gray-600 dark:bg-gray-800",style:{"min-width":"75px"}},[e("div",{class:"font-medium text-center text-gray-500 dark:text-gray-400"}," No. ")]),e("th",{class:"p-3 bg-gray-100 border border-gray-200 dark:border-gray-600 dark:bg-gray-800",style:{"min-width":"250px"}},[e("div",{class:"font-medium text-left text-gray-500 dark:text-gray-400"}," Kendaraan ")]),e("th",{class:"p-3 bg-blue-50 border border-gray-200 dark:border-gray-600 dark:bg-blue-900"},[e("div",{class:"font-medium text-center text-blue-700 dark:text-blue-300"},[v(" Q1"),e("br"),e("span",{class:"text-xs font-normal"},"(Jan-Mar)")])]),e("th",{class:"p-3 bg-green-50 border border-gray-200 dark:border-gray-600 dark:bg-green-900"},[e("div",{class:"font-medium text-center text-green-700 dark:text-green-300"},[v(" Q2"),e("br"),e("span",{class:"text-xs font-normal"},"(Apr-Jun)")])]),e("th",{class:"p-3 bg-amber-50 border border-gray-200 dark:border-gray-600 dark:bg-amber-900"},[e("div",{class:"font-medium text-center text-amber-700 dark:text-amber-300"},[v(" Q3"),e("br"),e("span",{class:"text-xs font-normal"},"(Jul-Sep)")])]),e("th",{class:"p-3 bg-rose-50 border border-gray-200 dark:border-gray-600 dark:bg-rose-900"},[e("div",{class:"font-medium text-center text-rose-700 dark:text-rose-300"},[v(" Q4"),e("br"),e("span",{class:"text-xs font-normal"},"(Oct-Dec)")])]),e("th",{class:"p-3 bg-gray-100 border border-gray-200 dark:border-gray-600 dark:bg-gray-800"},[e("div",{class:"font-medium text-center text-gray-500 dark:text-gray-400"}," Total ")])])],-1)),e("tbody",null,[c.vehicles.data&&c.vehicles.data.length>0?(o(!0),n(x,{key:0},b(c.vehicles.data,(t,l)=>(o(),n("tr",{key:t.id,class:"border-b border-gray-200 hover:bg-gray-50 dark:hover:bg-gray-800"},[e("td",$t,s((c.vehicles.current_page-1)*c.vehicles.per_page+l+1)+". ",1),e("td",Ft,[y(d,{href:a.route("vehicles.show",t.id),class:"flex gap-3 items-center"},{default:D(()=>[e("img",{class:"object-cover w-10 h-10 rounded-full",src:t.photo?`/storage/${t.photo}`:`https://ui-avatars.com/api/?name=${encodeURIComponent(t.type.name)}&background=3b82f6&color=fff`,alt:"Vehicle photo",loading:"lazy"},null,8,zt),e("div",Vt,[e("p",At,s(t.license_code),1),e("span",Lt,s(t.type.name),1)])]),_:2},1032,["href"])]),e("td",Rt,[e("span",Ut,s(M(t,1)),1)]),e("td",Pt,[e("span",Jt,s(M(t,2)),1)]),e("td",Yt,[e("span",Qt,s(M(t,3)),1)]),e("td",Ht,[e("span",qt,s(M(t,4)),1)]),e("td",Et,[e("span",Gt,s(oe(t)),1)])]))),128)):(o(),n("tr",Wt,[...r[13]||(r[13]=[e("td",{colspan:"7",class:"py-6 text-center text-gray-500 dark:text-gray-400"}," Tidak ada data ditemukan ",-1)])]))])])])):w("",!0),e("div",Zt,[c.vehicles.data&&c.vehicles.data.length>0?(o(),X(Se,{key:0,pagination:c.vehicles,class:"w-[100%]"},null,8,["pagination"])):w("",!0)])])]),y(P,{show:B.value,onClose:A,"max-width":"5xl"},{default:D(()=>[e("div",Xt,[e("div",er,[e("div",null,[e("h3",tr," Daftar Inspeksi - "+s(k.value.vehicleName),1),e("div",rr,[e("p",ar," Tanggal: "+s(k.value.date?L(k.value.date):"-"),1),e("span",sr,s(k.value.inspections.length)+" Inspeksi ",1)])]),e("button",{onClick:A,class:"text-gray-400 transition-colors hover:text-gray-600 dark:hover:text-gray-200"},[...r[15]||(r[15]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",or,[e("table",nr,[r[17]||(r[17]=e("thead",{class:"bg-gray-50 dark:bg-gray-800"},[e("tr",null,[e("th",{class:"px-4 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase"}," No. Inspeksi "),e("th",{class:"px-4 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase"}," Checklist "),e("th",{class:"px-4 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase"}," Tanggal Inspeksi "),e("th",{class:"px-4 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase"}," Status "),e("th",{class:"px-4 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase"}," Lokasi "),e("th",{class:"px-4 py-3 text-xs font-medium tracking-wider text-center text-gray-500 uppercase"}," % Kondisi ")])],-1)),e("tbody",lr,[k.value.inspections&&k.value.inspections.length>0?(o(!0),n(x,{key:0},b(k.value.inspections,t=>(o(),n("tr",{key:t.id,class:"transition-colors cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800",onClick:l=>ge(t.id)},[e("td",dr,[e("span",cr,s(t.inspection_number||"-"),1)]),e("td",gr,[e("div",ur,[e("span",mr,s(t.checklist?.name||"-"),1),e("div",yr,[t.checklist?.category?(o(),n("span",xr,s(t.checklist.category),1)):w("",!0),t.checklist?.type?(o(),n("span",{key:1,class:_(["px-2 py-0.5 text-xs font-medium rounded",t.checklist.type==="multiple"?"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300":"bg-purple-100 text-purple-700 dark:bg-purple-900 dark:text-purple-300"])},s(t.checklist.type==="multiple"?"Berkelompok":"Perorangan"),3)):w("",!0)])])]),e("td",pr,s(t.submit_date?ue(t.submit_date):"-"),1),e("td",br,[e("span",{class:_(["px-2 py-1 text-xs font-medium rounded-full",me(t.status)])},s(ye(t.status)),3)]),e("td",fr,s(t.location?.name||t.location||"-"),1),e("td",hr,[t.condition_percentage!==null&&t.condition_percentage!==void 0?(o(),n("div",kr,[e("div",_r,[e("div",{class:_([pe(t.condition_percentage),"h-2 rounded-full transition-all"]),style:_e({width:t.condition_percentage+"%"})},null,6)]),e("span",{class:_([xe(t.condition_percentage),"text-sm font-semibold"])},s(t.condition_percentage)+"% ",3)])):(o(),n("span",vr,"0%"))])],8,ir))),128)):(o(),n("tr",wr,[...r[16]||(r[16]=[e("td",{colspan:"6",class:"px-4 py-8 text-center"},[e("div",{class:"flex flex-col justify-center items-center text-gray-500 dark:text-gray-400"},[e("svg",{class:"mb-2 w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),e("p",{class:"text-sm font-medium"}," Tidak ada data inspeksi ")])],-1)])]))])])]),e("div",{class:"flex justify-between items-center mt-6"},[r[18]||(r[18]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400"}," Klik pada baris untuk melihat detail inspeksi ",-1)),e("button",{onClick:A,class:"px-5 py-2.5 text-sm font-medium text-white bg-gray-600 rounded-lg transition-colors hover:bg-gray-700 focus:ring-4 focus:ring-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 dark:focus:ring-gray-800"}," Tutup ")])])]),_:1},8,["show"]),y(P,{show:O.value,onClose:E,"max-width":"2xl"},{default:D(()=>[e("div",Dr,[e("div",Cr,[e("h3",Ir," Detail Kilometer - "+s(p.value.vehicleName),1),e("button",{onClick:E,class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200"},[...r[19]||(r[19]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("p",jr," Tanggal: "+s(p.value.date?L(p.value.date):"-"),1),e("div",Kr,[e("div",Sr,[e("div",Mr,[e("div",null,[r[20]||(r[20]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Kilometer Terakhir ",-1)),e("p",Tr,s(F(p.value.lastKm))+" km ",1)]),e("div",null,[r[21]||(r[21]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Kilometer Saat Ini ",-1)),e("p",Nr,s(F(p.value.currentKm))+" km ",1)])])]),p.value.odometerData?(o(),n("div",Br,[r[24]||(r[24]=e("h4",{class:"mb-3 text-sm font-semibold text-gray-700 dark:text-gray-300"}," Informasi Odometer ",-1)),e("div",Or,[e("div",$r,[r[22]||(r[22]=e("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Tanggal Update:",-1)),e("span",Fr,s(p.value.odometerData.tanggal?L(p.value.odometerData.tanggal):"-"),1)]),e("div",zr,[r[23]||(r[23]=e("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Dibuat oleh:",-1)),e("span",Vr,s(p.value.odometerData.creator?.name||"-"),1)])])])):w("",!0)])])]),_:1},8,["show"])],64)}}});export{Wr as default};
