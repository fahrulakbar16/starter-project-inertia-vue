import{d as v,z as h,L as V,e as o,o as l,a as r,E as c,f as n,h as y,G as b,t as s,b as x,w as g,g as w,cG as N}from"./app-CJkCV51W.js";import{_ as k}from"./SelectPemakaian-bo5sz744.js";const T={class:"p-6 space-y-6"},q={class:"space-y-6"},P={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},U={class:"space-y-2"},A={key:0,class:"text-sm text-red-500"},B={class:"space-y-2"},C={class:"relative"},E={class:"flex flex-col"},D={class:"font-medium"},S={class:"text-sm text-gray-500"},_={key:0,class:"absolute right-3 top-1/2 transform -translate-y-1/2"},j={key:0,class:"text-sm text-red-500"},G={class:"space-y-2"},M={key:0,class:"text-sm text-red-500"},O={class:"space-y-2"},R={key:0,class:"text-sm text-red-500"},L={__name:"CreateTranferForm",props:{form:{type:Object,required:!0},transfers:{type:Array,required:!0},employees:{type:Array,required:!0},user:{type:Object,default:null},isSuperadmin:{type:Boolean,required:!0}},emits:["items-loaded"],setup(t,{emit:p}){const d=t,u=p,i=v(!1),m=d.user?.employee?.name;return d.form.source="Pemindahan",h(()=>d.form.transfer_id,async f=>{if(!f){u("items-loaded",[]),d.form.employee_id=null;return}i.value=!0;try{const e=await V.get(route("good-receipts.loadItems",f),{params:{type:"pemindahan"}});u("items-loaded",e.data)}catch(e){console.error("Error loading items:",e),u("items-loaded",[]),m.value="",d.form.employee_id=null}finally{i.value=!1}},{immediate:!1}),(f,e)=>(l(),o("div",T,[r("form",q,[r("div",P,[r("div",U,[e[5]||(e[5]=r("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},[y(" Tanggal Penerimaan "),r("span",{class:"text-red-500"},"*")],-1)),c(r("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>t.form.received_at=a),type:"date",required:"",class:"w-full h-10 px-3 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[b,t.form.received_at]]),t.form.errors.received_at?(l(),o("p",A,s(t.form.errors.received_at[0]),1)):n("",!0)]),r("div",B,[e[7]||(e[7]=r("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},[y(" Referensi Transfer "),r("span",{class:"text-red-500"},"*")],-1)),r("div",C,[x(k,{modelValue:t.form.transfer_id,"onUpdate:modelValue":e[1]||(e[1]=a=>t.form.transfer_id=a),items:t.transfers,"search-key":"transfer_no","label-key":"transfer_no",placeholder:"Pilih Transfer",class:"w-full",disabled:i.value},{item:g(({item:a})=>[r("div",E,[r("span",D,s(a.transfer_no),1),r("span",S,s(a.from_branch||"N/A")+" â†’ "+s(a.to_branch||"N/A"),1)])]),_:1},8,["modelValue","items","disabled"]),i.value?(l(),o("div",_,[...e[6]||(e[6]=[r("div",{class:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"},null,-1)])])):n("",!0)]),t.form.errors.transfer_id?(l(),o("p",j,s(t.form.errors.transfer_id[0]),1)):n("",!0)]),c(r("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>t.form.source=a),type:"hidden",value:"Pemindahan"},null,512),[[b,t.form.source]]),r("div",G,[e[8]||(e[8]=r("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},[y(" Diterima oleh "),r("span",{class:"text-red-500"},"*")],-1)),x(k,{modelValue:w(m),"onUpdate:modelValue":e[3]||(e[3]=a=>N(m)?m.value=a:null),items:t.employees,"search-key":"name","label-key":"name",disabled:!t.isSuperadmin,placeholder:"Pilih pemesanan oleh",class:"w-full"},{item:g(({item:a})=>[r("span",null,s(a.name),1)]),_:1},8,["modelValue","items","disabled"]),t.form.errors.employee_id?(l(),o("p",M,s(t.form.errors.employee_id[0]),1)):n("",!0)])]),r("div",O,[e[9]||(e[9]=r("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Catatan ",-1)),c(r("textarea",{"onUpdate:modelValue":e[4]||(e[4]=a=>t.form.note=a),rows:"3",placeholder:"Masukkan catatan penerimaan barang (opsional)",class:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[b,t.form.note]]),t.form.errors.note?(l(),o("p",R,s(t.form.errors.note[0]),1)):n("",!0)])])]))}};export{L as default};
