import{u as y,U as h,e as r,o as n,a as e,K as _,f as i,h as u,F as v,i as w,n as k,g as o,t as d,E as g,G as b,b as C,w as j}from"./app-CJkCV51W.js";const B={class:"p-6"},M={class:"bg-white shadow rounded-lg p-6"},T={class:"space-y-6"},D={class:"mt-1 grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3"},V=["onClick"],F={class:"block text-sm font-medium text-gray-900"},L={key:0,class:"mt-1 text-sm text-red-600"},P={key:0},A={class:"mt-6 pt-6 border-t border-gray-200"},S={class:"text-lg font-medium text-gray-900"},U={class:"mt-1 text-sm text-gray-500"},N={class:"mt-6 grid grid-cols-1 gap-6 sm:grid-cols-2"},z={key:0,class:"mt-1 text-sm text-red-600"},E={key:0,class:"mt-1 text-sm text-red-600"},G={class:"mt-6"},H={class:"mt-1"},J={key:0,class:"mt-1 text-sm text-red-600"},O={class:"mt-6"},$={class:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md"},q={class:"space-y-1 text-center"},I={class:"flex text-sm text-gray-600"},K={for:"file-upload",class:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500"},Q={key:0,class:"mt-1 text-sm text-red-600"},R={class:"mt-8 flex justify-end space-x-3"},W=["disabled"],X={key:0},Y={key:1},te=Object.assign({layout:"AppLayout"},{__name:"Create",props:{submissionTypes:{type:Object,required:!0}},setup(c){const s=y({type:"",start_date:"",end_date:"",reason:"",documents:[]}),f=a=>{const t=Array.from(a.target.files);s.documents=t},x=()=>{const a=new FormData;a.append("type",s.type),a.append("start_date",s.start_date),a.append("end_date",s.end_date),a.append("reason",s.reason),s.documents.length>0&&s.documents.forEach((t,p)=>{a.append(`documents[${p}]`,t)}),s.post(route("submission.store"),{forceFormData:!0,preserveScroll:!0,onSuccess:()=>{s.reset()}})};return(a,t)=>{const p=h("Link");return n(),r("div",B,[t[14]||(t[14]=e("div",{class:"mb-6"},[e("h1",{class:"text-2xl font-semibold text-gray-900"},"Buat Pengajuan Baru"),e("p",{class:"mt-1 text-sm text-gray-600"}," Isi formulir di bawah ini untuk membuat pengajuan baru. ")],-1)),e("div",M,[e("form",{onSubmit:_(x,["prevent"])},[e("div",T,[e("div",null,[t[3]||(t[3]=e("label",{class:"block text-sm font-medium text-gray-700"},[u(" Jenis Pengajuan "),e("span",{class:"text-red-500"},"*")],-1)),e("div",D,[(n(!0),r(v,null,w(c.submissionTypes,(l,m)=>(n(),r("button",{key:m,type:"button",onClick:Z=>o(s).type=m,class:k(["relative rounded-lg border p-4 text-center focus:outline-none",{"border-blue-500 ring-2 ring-blue-500":o(s).type===m,"border-gray-300 hover:border-gray-400":o(s).type!==m}])},[e("span",F,d(l),1)],10,V))),128))]),o(s).errors.type?(n(),r("p",L,d(o(s).errors.type),1)):i("",!0)]),o(s).type?(n(),r("div",P,[e("div",A,[e("h3",S," Detail "+d(c.submissionTypes[o(s).type]),1),e("p",U," Mohon isi detail pengajuan "+d(c.submissionTypes[o(s).type].toLowerCase())+" Anda. ",1)]),e("div",N,[e("div",null,[t[4]||(t[4]=e("label",{for:"start_date",class:"block text-sm font-medium text-gray-700"},[u(" Tanggal Mulai "),e("span",{class:"text-red-500"},"*")],-1)),g(e("input",{type:"date",id:"start_date","onUpdate:modelValue":t[0]||(t[0]=l=>o(s).start_date=l),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"},null,512),[[b,o(s).start_date]]),o(s).errors.start_date?(n(),r("p",z,d(o(s).errors.start_date),1)):i("",!0)]),e("div",null,[t[5]||(t[5]=e("label",{for:"end_date",class:"block text-sm font-medium text-gray-700"},[u(" Tanggal Selesai "),e("span",{class:"text-red-500"},"*")],-1)),g(e("input",{type:"date",id:"end_date","onUpdate:modelValue":t[1]||(t[1]=l=>o(s).end_date=l),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"},null,512),[[b,o(s).end_date]]),o(s).errors.end_date?(n(),r("p",E,d(o(s).errors.end_date),1)):i("",!0)])]),e("div",G,[t[6]||(t[6]=e("label",{for:"reason",class:"block text-sm font-medium text-gray-700"},[u(" Alasan "),e("span",{class:"text-red-500"},"*")],-1)),e("div",H,[g(e("textarea",{id:"reason","onUpdate:modelValue":t[2]||(t[2]=l=>o(s).reason=l),rows:"4",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Tuliskan alasan pengajuan Anda..."},null,512),[[b,o(s).reason]])]),o(s).errors.reason?(n(),r("p",J,d(o(s).errors.reason),1)):i("",!0)]),e("div",O,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-700"}," Dokumen Pendukung ",-1)),e("div",$,[e("div",q,[t[9]||(t[9]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true"},[e("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),e("div",I,[e("label",K,[t[7]||(t[7]=e("span",null,"Unggah file",-1)),e("input",{id:"file-upload",name:"file-upload",type:"file",class:"sr-only",onChange:f},null,32)]),t[8]||(t[8]=e("p",{class:"pl-1"},"atau drag and drop",-1))]),t[10]||(t[10]=e("p",{class:"text-xs text-gray-500"}," PNG, JPG, PDF hingga 10MB ",-1))])]),o(s).errors.documents?(n(),r("p",Q,d(o(s).errors.documents),1)):i("",!0)])])):i("",!0)]),e("div",R,[C(p,{href:a.route("submission.index"),class:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},{default:j(()=>[...t[12]||(t[12]=[u(" Batal ",-1)])]),_:1},8,["href"]),e("button",{type:"submit",disabled:o(s).processing,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50"},[o(s).processing?(n(),r("span",X,[...t[13]||(t[13]=[e("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),u(" Menyimpan... ",-1)])])):(n(),r("span",Y,"Simpan Pengajuan"))],8,W)])],32)])])}}});export{te as default};
