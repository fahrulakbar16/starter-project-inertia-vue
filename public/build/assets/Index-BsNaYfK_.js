import{y as b,d as p,u as Le,z as J,H as P,l as le,p as se,e as r,o,b as V,a as l,g as v,D as De,f as _,E as $,J as W,F as y,i as h,t as d,G as q,n as w,h as Te,c as ae,K as R,O as Me,T as Ae,N as je,w as Ne,I as ze}from"./app-CJkCV51W.js";import{_ as Ee}from"./AppLayout-BlEKf3Fz.js";import{_ as Pe}from"./Breadcrumb-BJQpsGcc.js";import{_ as oe}from"./AvatarInitials-XMdLKKbn.js";import{_ as Ve}from"./Modal-Ddbg9qvg.js";import{_ as Ie}from"./Pagination-C2dOEo8X.js";import"./FlashMessage-D4C-FUm8.js";import"./LayoutShell-FWpWJLvi.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useAuth-DvuTgkfF.js";import"./LayoutShell.vue_vue_type_style_index_0_lang-CRqqKi3W.js";const Be={class:"px-6 py-6"},Fe={class:"flex justify-between items-center mb-4"},Ue={class:"flex gap-2"},He={class:"overflow-hidden bg-white rounded-lg border border-gray-200 dark:bg-gray-800 dark:border-gray-700"},Ke={class:"flex justify-between items-center px-4 py-3 border-b dark:border-gray-700"},Oe={class:"flex gap-3 items-center"},Je=["value"],qe=["value"],Ye={class:"flex flex-wrap gap-3 justify-between items-center px-4 py-3 border-b"},Ge={class:"relative flex-1 min-w-[240px] max-w-md"},We={class:"flex gap-2"},Re={class:"relative"},Qe={class:"font-semibold text-blue-600"},Xe={key:0,class:"absolute right-0 z-10 mt-2 w-56 bg-white rounded-lg border border-gray-200 shadow-lg"},Ze={class:"py-1"},et=["onClick"],tt={class:"relative"},lt={class:"font-semibold text-blue-600"},st={key:0,class:"absolute right-0 z-10 mt-2 w-56 bg-white rounded-lg border border-gray-200 shadow-lg"},at={class:"py-1"},ot={key:0,class:"flex flex-col items-center justify-center py-16 px-4"},rt={class:"text-sm text-gray-500 text-center max-w-md"},nt={key:0},it={key:1},ut={key:1,class:"overflow-auto","data-simplebar":""},dt={class:"min-w-full text-sm"},pt={class:"font-medium text-center text-gray-600"},bt={class:"text-xs text-gray-500"},ct={class:"px-3 py-2 sticky left-0 min-w-[56px] bg-white z-10 border-r border-gray-100"},mt={class:"px-3 py-2 min-w-[280px] sticky left-[56px] bg-white z-10 border-r border-gray-100"},gt={class:"flex gap-3 items-center"},vt=["src","onClick"],yt=["onClick"],ft={class:"flex flex-col"},xt={class:"font-medium text-gray-800"},ht={class:"text-xs text-gray-500"},wt={class:"px-3 py-2 min-w-[150px]"},kt={class:"px-3 py-2 text-center min-w-[120px] font-semibold text-gray-700"},_t={class:"px-3 py-2 text-center min-w-[120px] font-semibold text-gray-700"},$t={key:0,class:"relative inline-block w-full"},Ct=["id","onClick","title"],St={class:"p-2"},Lt={class:"overflow-y-auto max-h-48"},Dt=["onClick"],Tt={class:"font-medium"},Mt={class:"text-gray-600 text-[10px]"},At=["data-bs-title"],jt=["data-bs-title"],Nt={key:0,class:"flex fixed inset-0 z-50 justify-center items-center bg-black/40"},zt={class:"w-full max-w-xl bg-white rounded-lg shadow"},Et={class:"flex justify-between items-center px-4 py-3 border-b"},Pt={class:"px-4 py-4 space-y-4"},Vt={class:"flex gap-2 items-center"},It={key:0},Bt=["value"],Ft={class:"flex gap-2 justify-end px-4 py-3 border-t"},Ut=["disabled"],Ht={class:"flex flex-col justify-center items-center py-4"},Kt=["src"],Ot={class:"mt-3 text-sm text-gray-600"},ll=Object.assign({layout:Ee},{__name:"Index",props:{month:{type:String,default:new Date().toISOString().slice(0,7)},daysInMonth:{type:Number,default:31},employees:{type:[Array,Object],default:()=>[]},shifts:{type:Array,default:()=>[]},filters:{type:Object,default:()=>({})}},setup(re){const ne=s=>ze().props.auth?.permissions?.includes(s)??!1,ie=[{label:"Absensi"},{label:"Jadwal Kerja & Libur"}],u=re,Y=b(()=>{const[s,e]=u.month.split("-").map(a=>parseInt(a,10)),t=new Date(s,e,0),i=[];for(let a=1;a<=t.getDate();a++){const x=new Date(s,e-1,a).getDay(),c=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];i.push({d:a,label:c[x],iso:`${u.month}-${String(a).padStart(2,"0")}`})}return i}),I=p(!1),m=Le({name:"",dates:"",department_id:null,all_employees:!1,employee_ids:[]}),B=b(()=>Array.isArray(u.employees)?u.employees:u.employees?.data||[]),ue=b(()=>B.value.map(s=>({value:s.id,label:s.name}))),C=p(u.filters?.search||""),M=p(!1),g=p(u.filters?.department_id||null),f=p(null),F=p(1),S=p(u.filters?.per_page||50),de=b(()=>{const s=new Set;return B.value.forEach(e=>{e&&e.department&&s.add(e.department)}),Array.from(s)}),A=b(()=>{if(!Array.isArray(u.employees)&&u.employees?.data)return B.value;const s=C.value.trim().toLowerCase();return B.value.filter(e=>{const t=!s||e.name&&e.name.toLowerCase().includes(s)||e.department&&e.department.toLowerCase().includes(s),i=!g.value||e.department===g.value;return t&&i})}),pe=b(()=>!Array.isArray(u.employees)&&u.employees?.last_page?u.employees.last_page:Math.max(1,Math.ceil(A.value.length/S.value))),U=b(()=>(F.value-1)*S.value),Q=b(()=>Math.min(A.value.length,U.value+S.value)),j=b(()=>!Array.isArray(u.employees)&&u.employees?.data?A.value:A.value.slice(U.value,Q.value)),X=b(()=>{const s=F.value,e=A.value.length,t=pe.value,i=e>0?U.value+1:0,a=Q.value,n=[];n.push({url:s>1?`?page=${s-1}`:null,label:"&laquo; Previous",active:!1});const x=7;let c=Math.max(1,s-Math.floor(x/2)),z=Math.min(t,c+x-1);z-c+1<x&&(c=Math.max(1,z-x+1)),c>1&&(n.push({url:"?page=1",label:"1",active:!1}),c>2&&n.push({url:null,label:"...",active:!1}));for(let E=c;E<=z;E++)n.push({url:`?page=${E}`,label:String(E),active:E===s});return z<t&&(z<t-1&&n.push({url:null,label:"...",active:!1}),n.push({url:`?page=${t}`,label:String(t),active:!1})),n.push({url:s<t?`?page=${s+1}`:null,label:"Next &raquo;",active:!1}),{current_page:s,data:j.value,first_page_url:"?page=1",from:i,last_page:t,last_page_url:`?page=${t}`,links:n,next_page_url:s<t?`?page=${s+1}`:null,path:window.location.pathname,per_page:S.value,prev_page_url:s>1?`?page=${s-1}`:null,to:a,total:e}});J(()=>X.value.links,()=>{},{deep:!0});const be=s=>{const e=j.value.length;return s>=e-2},ce=(s,e,t)=>{const i=`shift-btn-${s}-${e}`,a=document.getElementById(i);if(!a)return{top:"0px",left:"0px"};const n=a.getBoundingClientRect();return be(t)?{top:`${n.top-200}px`,left:`${n.left}px`}:{top:`${n.bottom+4}px`,left:`${n.left}px`}};J([C,g,S],()=>{!Array.isArray(u.employees)&&u.employees?.data?P.get(route("calendar.index"),{month:u.month,search:C.value||void 0,department_id:g.value||void 0,per_page:S.value},{preserveState:!0,preserveScroll:!0}):F.value=1});const D=p(!1),me=b(()=>f.value?f.value==="department"?"Departemen":f.value==="position"?"Jabatan":"Tidak Dikelompokkan":"Tidak Dikelompokkan");function ge(){m.post(route("calendar.holidays.store"),{preserveScroll:!0,onSuccess:()=>{I.value=!1,m.reset(),P.reload({only:["employees","month","daysInMonth"]})}})}const H=p(u.month.split("-")[1]),K=p(u.month.split("-")[0]),ve=[{value:"01",label:"Januari"},{value:"02",label:"Februari"},{value:"03",label:"Maret"},{value:"04",label:"April"},{value:"05",label:"Mei"},{value:"06",label:"Juni"},{value:"07",label:"Juli"},{value:"08",label:"Agustus"},{value:"09",label:"September"},{value:"10",label:"Oktober"},{value:"11",label:"November"},{value:"12",label:"Desember"}],ye=b(()=>{const s=new Date().getFullYear(),e=[];for(let t=s-2;t<=s+2;t++)e.push(t.toString());return e});function fe(){const s=`${K.value}-${H.value}`;P.get(route("calendar.index",{month:s}),{},{preserveScroll:!0,preserveState:!0})}J([H,K],()=>{fe()}),le(()=>{se(()=>{document.querySelectorAll('[data-bs-toggle="tooltip"]').forEach(e=>{new window.bootstrap.Tooltip(e,{html:!0,trigger:"hover"})})})}),J([j],()=>{se(()=>{const s=document.querySelectorAll('[data-bs-toggle="tooltip"]');s.forEach(e=>{const t=window.bootstrap.Tooltip.getInstance(e);t&&t.dispose()}),s.forEach(e=>{new window.bootstrap.Tooltip(e,{html:!0,trigger:"hover"})})})},{deep:!0}),le(()=>{const s=e=>{const t=document.querySelectorAll(".shift-dropdown-container");let i=!1;t.forEach(a=>{a.contains(e.target)&&(i=!0)}),i||(T.value=null,L.value="")};document.addEventListener("click",s)});function Z(s,e){const t=s.days&&s.days[e.d],i=e.label,a=e.iso,n=s.shift_details&&s.shift_details[e.d];if(t==="L")return`<div style="font-size: 14px; line-height: 1.6;">${i}, ${a}<br><strong>Status: Libur ğŸ–ï¸</strong></div>`;if(t){if(!isNaN(t))return`<div style="font-size: 14px; line-height: 1.6;">${i}, ${a}<br><strong>Hari Kerja ke-${t} ğŸ’¼</strong></div>`;{let c=`<div style="font-size: 14px; line-height: 1.6;">${i}, ${a}<br><strong>Shift: ${t}</strong>`;return n&&(n.name&&(c+=`<br>Nama: ${n.name}`),n.start_time&&n.end_time&&(c+=`<br>Jam: ${n.start_time} - ${n.end_time}`)),c+="</div>",c}}else return`<div style="font-size: 14px; line-height: 1.6;">${i}, ${a}<br><strong>Status: Libur (Default) ğŸ–ï¸</strong></div>`}const G=p(!1),k=p(null);function ee(s){k.value=s||null,G.value=!0}function xe(){G.value=!1,k.value=null}const N=p(!1),T=p(null),L=p("");p(!1),p(null);const te=b(()=>{const s=[{id:"L",code:"L",name:"Libur",label:"Libur"}];return(u.shifts||[]).forEach(e=>{const t=`${e.code} - ${e.name} (${e.start_time?.substring(0,5)||""} - ${e.end_time?.substring(0,5)||""})`;s.push({id:e.id,code:e.code,name:e.name,label:t})}),s});function he(s){if(s==="L")return"L";const e=u.shifts.find(t=>t.code===s);return e?e.id:"L"}function O(s,e){const t=s.days&&s.days[e.d];return!t||t==="L"?"L":he(t)}function we(s){if(s==="L")return"L";const e=u.shifts.find(t=>t.id===s);return e?e.code:"L"}function ke(s,e){const t=O(s,e);if(t==="L")return"Libur";const i=u.shifts.find(a=>a.id===t);return i?`${i.code} - ${i.name}
${i.start_time?.substring(0,5)} - ${i.end_time?.substring(0,5)}`:"Libur"}const _e=b(()=>{const s=L.value.toLowerCase();return s?te.value.filter(e=>e.code.toLowerCase().includes(s)||e.name.toLowerCase().includes(s)||e.label.toLowerCase().includes(s)):te.value});function $e(s,e){const t=`${s}-${e}`;T.value===t?(T.value=null,L.value=""):(T.value=t,L.value="")}function Ce(s,e,t){Se(s,e,t),T.value=null,L.value=""}function Se(s,e,t){P.post(route("calendar.update-shift"),{employee_id:s,date:e,shift_id:t},{preserveScroll:!0,onSuccess:()=>{P.reload({only:["employees"]})}})}return(s,e)=>(o(),r(y,null,[V(v(De),{title:"Kalender Libur"}),l("div",Be,[l("div",Fe,[V(Pe,{items:ie}),l("div",Ue,[_("",!0),_("",!0)])]),l("div",He,[l("div",Ke,[e[24]||(e[24]=l("h2",{class:"text-xl font-semibold text-gray-800 dark:text-white"}," Kalender Libur ",-1)),l("div",Oe,[e[23]||(e[23]=l("label",{class:"text-sm text-gray-600 dark:text-gray-400"},"Bulan:",-1)),$(l("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>H.value=t),class:"px-3 py-1.5 text-sm bg-white rounded-md border border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[(o(),r(y,null,h(ve,t=>l("option",{key:t.value,value:t.value},d(t.label),9,Je)),64))],512),[[W,H.value]]),$(l("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>K.value=t),class:"px-3 py-1.5 text-sm bg-white rounded-md border border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[(o(!0),r(y,null,h(ye.value,t=>(o(),r("option",{key:t,value:t},d(t),9,qe))),128))],512),[[W,K.value]])])]),l("div",Ye,[l("div",Ge,[$(l("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>C.value=t),type:"text",placeholder:"Cari nama/departemen...",class:"pr-8 pl-3 w-full h-9 text-sm rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-400"},null,512),[[q,C.value]]),e[25]||(e[25]=l("span",{class:"absolute top-2 right-2 text-gray-400"},"ğŸ”",-1))]),l("div",We,[ne("calendar.edit")?(o(),r("button",{key:0,type:"button",onClick:e[4]||(e[4]=t=>N.value=!N.value),class:w(["inline-flex gap-2 items-center px-4 py-2 text-sm font-medium rounded-lg border transition-colors whitespace-nowrap",N.value?"bg-green-600 text-white border-green-600 hover:bg-green-700":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"])},[e[26]||(e[26]=l("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)),l("span",null,d(N.value?"Selesai Edit":"Mode Edit"),1)],2)):_("",!0),l("div",Re,[l("button",{type:"button",onClick:e[5]||(e[5]=t=>M.value=!M.value),class:"inline-flex gap-2 items-center px-4 py-2 text-sm font-medium text-gray-700 whitespace-nowrap bg-white rounded-lg border border-gray-300 transition-colors hover:bg-gray-50"},[e[27]||(e[27]=l("span",null,"Filter:",-1)),l("span",Qe,d(g.value||"Semua Departemen"),1)]),M.value?(o(),r("div",Xe,[e[28]||(e[28]=l("div",{class:"px-3 py-2 text-xs font-medium text-gray-500 border-b"}," Pilih Departemen ",-1)),l("div",Ze,[l("button",{type:"button",class:w(["px-3 py-2 w-full text-sm text-left transition-colors hover:bg-gray-50",{"bg-blue-50 text-blue-600 font-medium":!g.value}]),onClick:e[6]||(e[6]=t=>{g.value=null,M.value=!1})}," Semua Departemen ",2),(o(!0),r(y,null,h(de.value,t=>(o(),r("button",{key:t,type:"button",class:w(["px-3 py-2 w-full text-sm text-left transition-colors hover:bg-gray-50",{"bg-blue-50 text-blue-600 font-medium":g.value===t}]),onClick:i=>{g.value=t,M.value=!1}},d(t),11,et))),128))])])):_("",!0)]),l("div",tt,[l("button",{type:"button",onClick:e[7]||(e[7]=t=>D.value=!D.value),class:"inline-flex gap-2 items-center px-4 py-2 text-sm font-medium text-gray-700 whitespace-nowrap bg-white rounded-lg border border-gray-300 transition-colors hover:bg-gray-50"},[e[29]||(e[29]=l("span",null,"Kelompokkan:",-1)),l("span",lt,d(me.value),1)]),D.value?(o(),r("div",st,[e[30]||(e[30]=l("div",{class:"px-3 py-2 text-xs font-medium text-gray-500 border-b"}," Group By ",-1)),l("div",at,[l("button",{type:"button",class:w(["px-3 py-2 w-full text-sm text-left transition-colors hover:bg-gray-50",{"bg-blue-50 text-blue-600 font-medium":!f.value}]),onClick:e[8]||(e[8]=t=>{f.value=null,D.value=!1})}," Tidak Dikelompokkan ",2),l("button",{type:"button",class:w(["px-3 py-2 w-full text-sm text-left transition-colors hover:bg-gray-50",{"bg-blue-50 text-blue-600 font-medium":f.value==="department"}]),onClick:e[9]||(e[9]=t=>{f.value="department",D.value=!1})}," Departemen ",2),l("button",{type:"button",class:w(["px-3 py-2 w-full text-sm text-left transition-colors hover:bg-gray-50",{"bg-blue-50 text-blue-600 font-medium":f.value==="position"}]),onClick:e[10]||(e[10]=t=>{f.value="position",D.value=!1})}," Jabatan ",2)])])):_("",!0)])])]),j.value.length===0?(o(),r("div",ot,[e[32]||(e[32]=l("div",{class:"text-gray-400 mb-4"},[l("svg",{class:"w-24 h-24 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})])],-1)),e[33]||(e[33]=l("h3",{class:"text-lg font-semibold text-gray-700 mb-2"},"Tidak Ada Data Karyawan",-1)),l("p",rt,[C.value||g.value?(o(),r("span",nt,[e[31]||(e[31]=Te(" Tidak ditemukan karyawan yang sesuai dengan filter pencarian. ",-1)),l("button",{onClick:e[11]||(e[11]=t=>{C.value="",g.value=null}),class:"text-blue-600 hover:underline"}," Hapus filter ")])):(o(),r("span",it," Belum ada data karyawan untuk bulan ini. Silakan tambahkan jadwal kerja terlebih dahulu. "))])])):(o(),r("div",ut,[l("table",dt,[l("colgroup",null,[e[34]||(e[34]=l("col",{style:{width:"56px","min-width":"56px"}},null,-1)),e[35]||(e[35]=l("col",{style:{width:"320px","min-width":"280px"}},null,-1)),e[36]||(e[36]=l("col",{style:{width:"180px","min-width":"150px"}},null,-1)),e[37]||(e[37]=l("col",{style:{width:"120px","min-width":"120px"}},null,-1)),e[38]||(e[38]=l("col",{style:{width:"120px","min-width":"120px"}},null,-1)),(o(!0),r(y,null,h(Y.value,t=>(o(),r("col",{key:t.iso,style:{width:"72px","min-width":"72px"}}))),128))]),l("thead",null,[l("tr",null,[e[39]||(e[39]=l("th",{class:"py-2.5 bg-gray-100 border-gray-200 border-y whitespace-nowrap min-w-[56px] sticky left-0 z-20"},[l("div",{class:"px-3 font-medium text-left text-gray-600"}," No ")],-1)),e[40]||(e[40]=l("th",{class:"py-2.5 bg-gray-100 border-gray-200 border-y whitespace-nowrap min-w-[280px] sticky left-[56px] z-20"},[l("div",{class:"px-3 font-medium text-left text-gray-600"}," Nama & Jabatan Pekerja ")],-1)),e[41]||(e[41]=l("th",{class:"py-2.5 bg-gray-100 border-gray-200 border-y whitespace-nowrap min-w-[150px]"},[l("div",{class:"px-3 font-medium text-left text-gray-600"}," Nama Departemen ")],-1)),e[42]||(e[42]=l("th",{class:"py-2.5 bg-gray-100 border-gray-200 border-y whitespace-nowrap min-w-[120px]"},[l("div",{class:"px-3 font-medium text-center text-gray-600"}," Hari Kerja ")],-1)),e[43]||(e[43]=l("th",{class:"py-2.5 bg-gray-100 border-gray-200 border-y whitespace-nowrap min-w-[120px]"},[l("div",{class:"px-3 font-medium text-center text-gray-600"}," Libur ")],-1)),(o(!0),r(y,null,h(Y.value,t=>(o(),r("th",{key:t.iso,class:"py-2.5 bg-gray-100 border-gray-200 border-y text-center whitespace-nowrap min-w-[72px]"},[l("div",pt,[l("div",null,d(t.label),1),l("div",bt,d(String(t.d).padStart(2,"0")),1)])]))),128))])]),l("tbody",null,[(o(!0),r(y,null,h(j.value,(t,i)=>(o(),r("tr",{key:t.id,class:"border-b border-gray-200"},[l("td",ct,d(U.value+i+1),1),l("td",mt,[l("div",gt,[t.photo_url?(o(),r("img",{key:0,src:t.photo_url?`/storage/${t.photo_url}`:"",alt:"avatar",class:"object-cover w-8 h-8 rounded-full cursor-zoom-in",onClick:a=>ee(t)},null,8,vt)):(o(),r("button",{key:1,type:"button",onClick:a=>ee(t),class:"inline-flex"},[V(oe,{name:t.name,gender:t?.gender||"",size:32},null,8,["name","gender"])],8,yt)),l("div",ft,[l("span",xt,d(t.name),1),l("span",ht,d(t.role||"Staff"),1)])])]),l("td",wt,d(t.department||"-"),1),l("td",kt,d(t.work_days_count||0),1),l("td",_t,d(t.off_days_count||0),1),(o(!0),r(y,null,h(Y.value,a=>(o(),r("td",{key:t.id+"-"+a.iso,class:"px-1 py-2 text-center min-w-[72px] relative"},[N.value?(o(),r("div",$t,[l("button",{id:"shift-btn-"+t.id+"-"+a.d,onClick:R(n=>$e(t.id,a.d),["stop"]),class:w(["w-full px-2 py-1 text-xs font-semibold rounded border transition-colors",O(t,a)==="L"?"bg-red-50 text-red-700 border-red-300 hover:bg-red-100":"bg-blue-50 text-blue-700 border-blue-300 hover:bg-blue-100"]),title:ke(t,a)},d(we(O(t,a))),11,Ct),(o(),ae(Ae,{to:"body"},[T.value===`${t.id}-${a.d}`?(o(),r("div",{key:0,ref_for:!0,ref:"dropdown-"+t.id+"-"+a.d,class:"fixed z-[9999] w-64 bg-white rounded-lg border border-gray-200 shadow-lg",style:Me(ce(t.id,a.d,s.empIndex)),onClick:e[14]||(e[14]=R(()=>{},["stop"]))},[l("div",St,[$(l("input",{"onUpdate:modelValue":e[12]||(e[12]=n=>L.value=n),type:"text",placeholder:"Cari shift...",class:"px-2 py-1 w-full text-xs rounded border border-gray-300 focus:outline-none focus:ring-1 focus:ring-blue-500",onClick:e[13]||(e[13]=R(()=>{},["stop"]))},null,512),[[q,L.value]])]),l("ul",Lt,[(o(!0),r(y,null,h(_e.value,n=>(o(),r("li",{key:n.id,onClick:x=>Ce(t.id,a.iso,n.id),class:w(["px-3 py-2 text-xs cursor-pointer hover:bg-gray-100",O(t,a)===n.id?"bg-blue-50 font-semibold":""])},[l("div",Tt,d(n.code),1),l("div",Mt,d(n.label),1)],10,Dt))),128))])],4)):_("",!0)]))])):(o(),r(y,{key:1},[t.days&&t.days[a.d]?(o(),r("span",{key:0,class:w(["inline-flex justify-center items-center w-6 h-6 text-xs font-semibold rounded cursor-help transition-all hover:scale-110",t.days[a.d]==="L"?"text-red-600 bg-red-50 hover:bg-red-100":"text-blue-600 bg-blue-50 hover:bg-blue-100"]),"data-bs-toggle":"tooltip","data-bs-placement":"top","data-bs-html":"true","data-bs-title":Z(t,a)},d(t.days[a.d]),11,At)):(o(),r("span",{key:1,class:"inline-flex justify-center items-center w-6 h-6 text-xs font-semibold text-red-600 bg-red-50 rounded transition-all cursor-help hover:scale-110 hover:bg-red-100","data-bs-toggle":"tooltip","data-bs-placement":"top","data-bs-html":"true","data-bs-title":Z(t,a)}," L ",8,jt))],64))]))),128))]))),128))])])])),V(Ie,{pagination:X.value,"client-side":!0,onPageChanged:e[15]||(e[15]=t=>F.value=t),onPerPageChanged:e[16]||(e[16]=t=>S.value=t)},null,8,["pagination"])]),I.value?(o(),r("div",Nt,[l("div",zt,[l("div",Et,[e[44]||(e[44]=l("h3",{class:"text-lg font-semibold"},"Tambah Libur",-1)),l("button",{class:"text-gray-500",onClick:e[17]||(e[17]=t=>I.value=!1)}," âœ• ")]),l("div",Pt,[l("div",null,[e[45]||(e[45]=l("label",{class:"block mb-1 text-sm text-gray-600"},"Nama Libur",-1)),$(l("input",{"onUpdate:modelValue":e[18]||(e[18]=t=>v(m).name=t),type:"text",class:"px-3 w-full h-9 rounded-md border",placeholder:"Libur Bersama"},null,512),[[q,v(m).name]])]),l("div",null,[e[46]||(e[46]=l("label",{class:"block mb-1 text-sm text-gray-600"},"Tanggal Libur",-1)),$(l("textarea",{"onUpdate:modelValue":e[19]||(e[19]=t=>v(m).dates=t),rows:"2",class:"px-3 py-2 w-full rounded-md border",placeholder:"28/06/2025, 30/07/2025, 01/08/2025"},null,512),[[q,v(m).dates]]),e[47]||(e[47]=l("p",{class:"mt-1 text-xs text-gray-500"}," Pisahkan dengan koma atau baris baru. Format d/m/Y atau Y-m-d. ",-1))]),l("div",Vt,[$(l("input",{id:"allEmp",type:"checkbox","onUpdate:modelValue":e[20]||(e[20]=t=>v(m).all_employees=t)},null,512),[[je,v(m).all_employees]]),e[48]||(e[48]=l("label",{for:"allEmp",class:"text-sm"},"Pilih semua karyawan (sesuai filter/organisasi)",-1))]),v(m).all_employees?_("",!0):(o(),r("div",It,[e[49]||(e[49]=l("label",{class:"block mb-1 text-sm text-gray-600"},"Nama Karyawan",-1)),$(l("select",{"onUpdate:modelValue":e[21]||(e[21]=t=>v(m).employee_ids=t),multiple:"",class:"px-3 py-2 w-full h-28 rounded-md border"},[(o(!0),r(y,null,h(ue.value,t=>(o(),r("option",{key:t.value,value:t.value},d(t.label),9,Bt))),128))],512),[[W,v(m).employee_ids]])]))]),l("div",Ft,[l("button",{class:"px-3 py-2 rounded-md border",onClick:e[22]||(e[22]=t=>I.value=!1)}," Batal "),l("button",{class:"px-3 py-2 text-white bg-blue-600 rounded-md",onClick:ge,disabled:v(m).processing}," Simpan Data ",8,Ut)])])])):_("",!0)]),V(Ve,{show:G.value,title:"Foto Karyawan",closeText:"Tutup",maxWidth:"sm",onClose:xe},{default:Ne(()=>[l("div",Ht,[k.value?.photo_url?(o(),r("img",{key:0,src:k.value?.photo_url?`/storage/${k.value.photo_url}`:"",alt:"avatar",class:"object-cover w-64 h-64 rounded-xl shadow-md"},null,8,Kt)):(o(),ae(oe,{key:1,name:k.value?.name,gender:k.value?.gender||"",size:160},null,8,["name","gender"])),l("div",Ot,d(k.value?.name),1)])]),_:1},8,["show"])],64))}});export{ll as default};
