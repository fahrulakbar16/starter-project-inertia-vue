import{d as f,y as c,z as J,H as z,e as o,o as r,b,a as e,g as h,D as we,E as x,c as V,f as k,G as O,h as Ce,t as n,w as B,P as j,V as Ve,F as S,i as U,J as R,n as T,N as te}from"./app-CJkCV51W.js";import{_ as Be}from"./AppLayout-BlEKf3Fz.js";import{_ as Se}from"./Breadcrumb-BJQpsGcc.js";import{_ as Ke}from"./Pagination-C2dOEo8X.js";import{_ as W}from"./AvatarInitials-XMdLKKbn.js";import{_ as Ae}from"./Modal-Ddbg9qvg.js";import{_ as C}from"./SelectPemakaian-bo5sz744.js";import{S as N}from"./sweetalert2.esm.all-Dr03eess.js";import{u as De}from"./useAuth-DvuTgkfF.js";import"./FlashMessage-D4C-FUm8.js";import"./LayoutShell-FWpWJLvi.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./LayoutShell.vue_vue_type_style_index_0_lang-CRqqKi3W.js";const $e={class:"flex overflow-hidden flex-col gap-3 px-3 h-full"},je={class:"flex justify-between items-center h-10"},Ue={class:"flex overflow-hidden flex-col bg-white rounded-lg border border-gray-200"},Te={class:"flex flex-col gap-2 px-6 py-3 border-b md:flex-row md:items-center md:justify-between"},Le={class:"flex gap-3 items-center"},Me={class:"relative"},He={class:"relative"},ze={class:"font-medium"},Oe={key:0,class:"absolute z-10 mt-2 w-56 bg-white rounded-lg border shadow"},Ne={class:"py-1 text-sm"},Ee={class:"flex gap-3 items-center"},Fe=["href"],Ge={class:"flex flex-col px-6 py-3 bg-gray-50 border-b md:flex-row md:items-center md:gap-3"},Pe={class:"mb-2 text-sm text-gray-600 md:mb-0"},qe={class:"flex flex-wrap gap-2 items-center"},Ie=["value"],Ye=["value"],Je=["value"],Re=["disabled"],We=["disabled"],Qe=["disabled"],Xe={class:"overflow-x-auto","data-simplebar":""},Ze={class:"min-w-full text-sm"},et={class:"px-2 py-2 bg-gray-50 border-gray-200 border-y"},tt={class:"flex gap-2 justify-center items-center"},at=["checked"],lt={class:"px-2 py-2 bg-gray-50 border border-gray-200"},st={class:"px-2 py-2 bg-gray-50 border border-gray-200"},nt={class:"px-2 py-2 bg-gray-50 border border-gray-200"},rt={class:"px-2 py-2 bg-gray-50 border border-gray-200"},ot={class:"px-2 py-2 bg-gray-50 border border-gray-200"},it={key:0,class:"ml-2 text-xs text-gray-500"},dt={class:"px-2 py-2 bg-gray-50 border border-gray-200"},ut={class:"px-2 py-2 bg-gray-50 border border-gray-200"},pt={class:"px-2 py-2 bg-gray-50 border border-gray-200"},mt={class:"px-2 py-2 bg-gray-50 border border-gray-200"},ct={class:"px-2 py-2 bg-gray-50 border border-gray-200"},bt={class:"px-2 py-2 bg-gray-50 border border-gray-200"},gt=["onClick"],ht={colspan:11,class:"px-4 py-2 font-semibold text-left text-gray-600 bg-gray-50"},vt={class:"inline-flex gap-2 items-center"},yt={class:"ml-2 text-xs text-gray-500"},ft={key:1,class:"border-b border-gray-200"},xt={class:"p-3 text-center"},_t={class:"flex gap-1 justify-center"},kt={class:"p-3 text-center"},wt={class:"p-3"},Ct={class:"flex gap-3 items-center"},Vt=["value"],Bt={class:"flex flex-col"},St={class:"font-medium text-gray-800"},Kt={class:"text-xs text-gray-500"},At={class:"p-3"},Dt={class:"p-3"},$t={class:"p-3"},jt={class:"p-3"},Ut={class:"p-3"},Tt={class:"p-3"},Lt={class:"p-3"},Mt={class:"p-3"},Ht={key:2},zt={class:"p-3"},Ot={class:"p-3"},Nt={class:"p-3"},Et={class:"p-3 text-center"},Ft={class:"flex gap-1 justify-center"},Gt=["onClick"],Pt={class:"p-3 text-center"},qt=["value"],It={class:"p-3"},Yt={class:"flex gap-3 items-center"},Jt=["src","onClick"],Rt=["onClick"],Wt={class:"flex flex-col"},Qt={class:"font-medium text-gray-800"},Xt={class:"text-xs text-gray-500"},Zt={class:"p-3"},ea={class:"p-3"},ta={class:"p-3"},aa={class:"p-3"},la={class:"p-3"},sa={class:"p-3"},na={class:"p-3"},ra={class:"p-3"},oa={key:2},ia={class:"p-3"},da={class:"p-3"},ua={class:"p-3"},pa={key:2},ma={class:"flex flex-col justify-center items-center py-4"},ca=["src"],ba={class:"mt-3 text-sm text-gray-600"},Ka=Object.assign({layout:Be},{__name:"Index",props:{employees:Object,departments:Array,branches:Array,permissions:Array,roles:Array,positions:Array,shifts:Array,status_options:Array,groupBy:{type:String,default:null},search:String,auth:Object},setup(_){const ae=[{label:"Karyawan"},{label:"Daftar Karyawan"}],{can:K}=De();function le(l){l?.id&&N.fire({title:"Hapus karyawan?",text:`Anda akan menghapus ${l.name||"(tanpa nama)"}. Lanjutkan?`,icon:"warning",showCancelButton:!0,confirmButtonText:"Ya, Hapus",cancelButtonText:"Batal"}).then(t=>{t.isConfirmed&&z.delete(route("employees.destroy",l.id),{preserveScroll:!0})})}const m=_,s=f({name:null,gender:null,department_id:null,branch_id:null,role_id:null,position_id:null,shift_id:null,status:null,permission_id:null,religion:null,phone:null,birthplace:null}),E=c(()=>s.value.branch_id?(m.departments||[]).filter(l=>l.branch_id===s.value.branch_id):m.departments||[]),se=c(()=>E.value.map(l=>({label:l.name,value:l.id,branch_name:m.branches?.find(t=>t.id===l.branch_id)?.name||""}))),ne=c(()=>(m.branches||[]).map(l=>({label:l.name,value:l.id})));J(()=>s.value.branch_id,l=>{l&&s.value.department_id&&(E.value.some(a=>a.id===s.value.department_id)||(s.value.department_id=null))}),c(()=>(m.permissions||[]).map(l=>({label:l.name,value:l.id})));const re=c(()=>(m.roles||[]).map(l=>({id:l.id,name:l.name,label:l.name}))),oe=c(()=>(m.positions||[]).map(l=>({id:l.id,name:l.name,label:l.name}))),ie=c(()=>route("employees.export",{search:$.value.q,name:s.value?.name,gender:s.value?.gender,department_id:s.value?.department_id,branch_id:s.value?.branch_id,role_id:s.value?.role_id,position_id:s.value?.position_id,shift_id:s.value?.shift_id,status:s.value?.status,permission_id:s.value?.permission_id,groupBy:p.value})),de=c(()=>(m.shifts||[]).map(l=>({id:l.id,name:l.name,label:l.name}))),ue=[{id:"Laki-laki",name:"Laki-laki",label:"Laki-laki"},{id:"Perempuan",name:"Perempuan",label:"Perempuan"}],pe=[{id:"ISLAM",name:"Islam",label:"Islam"},{id:"Kristen",name:"Kristen",label:"Kristen"},{id:"Katolik",name:"Katolik",label:"Katolik"},{id:"Hindu",name:"Hindu",label:"Hindu"},{id:"Buddha",name:"Buddha",label:"Buddha"},{id:"Konghucu",name:"Konghucu",label:"Konghucu"}],Q=c(()=>(m.status_options||[]).map(l=>({id:l,name:l,label:l}))),$=f({q:m.search||""});let X=null;J(()=>[$.value.q,s.value.name,s.value.gender,s.value.department_id,s.value.branch_id,s.value.role_id,s.value.position_id,s.value.shift_id,s.value.status,s.value.permission_id],()=>{clearTimeout(X),X=setTimeout(()=>F(),350)},{deep:!0});function F(){z.get(route("employees.index"),{search:$.value.q,name:s.value.name,gender:s.value.gender,department_id:s.value.department_id,branch_id:s.value.branch_id,role_id:s.value.role_id,position_id:s.value.position_id,shift_id:s.value.shift_id,status:s.value.status,permission_id:s.value.permission_id,groupBy:p.value},{preserveScroll:!0,preserveState:!0,replace:!0})}const L=f(!1);function me(){L.value=!L.value}const p=f(m.groupBy||null),ce=c(()=>{const l={gender:"Jenis Kelamin",department:"Departemen",branch:"Cabang",shift:"Shift",status:"Status",position:"Posisi",role:"Level Akses",religion:"Agama",birthplace:"Tempat Lahir"};return p.value&&l[p.value]||"None"});function y(l){p.value=l||null,L.value=!1,F()}const M=f(new Set);function be(l){const t=new Set(M.value);t.has(l)?t.delete(l):t.add(l),M.value=t}const G=c(()=>{if(!p.value)return[];const l=m.employees?.data||[],t=((m.employees?.current_page||1)-1)*(m.employees?.per_page||l.length),a={},u=i=>p.value==="gender"?i.gender||"-":p.value==="department"?i?.department?.name||"-":p.value==="branch"?i?.branch?.name||"-":p.value==="shift"?i?.shift?.name||"-":p.value==="status"?i?.status||"-":p.value==="position"?i?.position?.name||"-":p.value==="role"?i?.user?.roles?.length?i.user.roles.map(D=>D.name).join(", "):i?.role?.name||"-":p.value==="religion"?i?.religion||"-":p.value==="birthplace"&&i?.birthplace||"-";l.forEach((i,D)=>{const Y=u(i);a[Y]||(a[Y]=[]);const _e=Array.isArray(i?.roles)&&i.roles.length?i.roles.map(ke=>ke.name).join(", "):i?.position?.name||"-";a[Y].push({data:{...i,rolesLabel:_e},no:t+D+1})});const g=[];return Object.entries(a).forEach(([i,D])=>{g.push({__group:!0,key:i,label:i,count:D.length}),M.value.has(i)||g.push(...D)}),g});function ge(l){if(!l)return"-";const t=new Date,a=new Date(l);let u=t.getFullYear()-a.getFullYear();const g=t.getMonth()-a.getMonth();return(g<0||g===0&&t.getDate()<a.getDate())&&u--,`${u} th`}function he(l){const t=l?.birth_date||l?.birthdate||l?.dob||l?.date_of_birth;if(!t)return"-";try{const a=new Date(t);if(isNaN(a))return"-";const u=new Date;let g=u.getFullYear()-a.getFullYear();const i=u.getMonth()-a.getMonth();return(i<0||i===0&&u.getDate()<a.getDate())&&g--,`${g} th`}catch{return"-"}}const d=f([]),v=f({department_id:null,branch_id:null,status:null}),P=f(null),A=c(()=>p.value?G.value.filter(t=>!t.__group).map(t=>t.data?.id).filter(t=>!!t):(m.employees?.data||[]).map(t=>t.id).filter(t=>!!t)),q=c(()=>{const l=new Set(d.value);return A.value.length>0&&A.value.every(t=>l.has(t))});J([d,A],()=>{const l=d.value.length>0&&!q.value&&A.value.some(t=>d.value.includes(t));P.value&&(P.value.indeterminate=l)});function ve(){if(q.value){const l=new Set(A.value);d.value=d.value.filter(t=>!l.has(t))}else{const l=new Set(d.value);A.value.forEach(t=>l.add(t)),d.value=Array.from(l)}}function Z(){d.value=[],v.value={department_id:null,branch_id:null,status:null}}function ye(){if(d.value.length)try{z.post(route("employees.bulk-update"),{ids:d.value,...v.value},{preserveScroll:!0})}catch(l){console.warn("Bulk update route not available:",l?.message||l)}}async function fe(){!d.value.length||!(await N.fire({title:"Hapus data terpilih?",text:`Anda akan menghapus ${d.value.length} karyawan. Tindakan ini tidak dapat dibatalkan.`,icon:"warning",showCancelButton:!0,confirmButtonText:"Ya, hapus",cancelButtonText:"Batal",confirmButtonColor:"#dc2626"})).isConfirmed||z.post(route("employees.bulk-delete"),{ids:d.value},{preserveScroll:!0,onSuccess:()=>{N.fire({icon:"success",title:"Berhasil",text:"Data karyawan terpilih telah dihapus.",timer:1500,showConfirmButton:!1}),Z(),F()},onError:t=>{N.fire({icon:"error",title:"Gagal",text:t?.error||"Tidak dapat menghapus data."})}})}function H(l){const t=(l||"").toString().toLowerCase();return t.includes("tetap")||t.includes("aktif")?"inline-block px-2 py-0.5 text-xs rounded-full border bg-emerald-50 text-emerald-700 border-emerald-200":t.includes("kontrak")?"inline-block px-2 py-0.5 text-xs rounded-full border bg-amber-50 text-amber-700 border-amber-200":t.includes("magang")?"inline-block px-2 py-0.5 text-xs rounded-full border bg-sky-50 text-sky-700 border-sky-200":t.includes("belum verifikasi")?"inline-block px-2 py-0.5 text-xs rounded-full border bg-gray-50 text-gray-700 border-gray-200":"inline-block px-2 py-0.5 text-xs rounded-full border bg-red-50 text-red-700 border-red-200"}const I=f(!1),w=f(null);function ee(l){w.value=l||null,I.value=!0}function xe(){I.value=!1,w.value=null}return(l,t)=>(r(),o(S,null,[b(h(we),{title:"Karyawan"}),e("div",$e,[e("div",je,[b(Se,{items:ae})]),e("div",Ue,[t[43]||(t[43]=e("div",{class:"px-6 py-3 text-xl font-semibold text-gray-800 border-b"}," Daftar Karyawan ",-1)),e("div",Te,[e("div",Le,[e("div",Me,[x(e("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>$.value.q=a),type:"text",placeholder:"Cari nama/username...",class:"py-2.5 pr-8 pl-3 w-64 h-10 text-sm text-gray-800 bg-transparent rounded-lg border border-gray-200 focus:border-blue-300 focus:outline-hidden focus:ring-2 focus:ring-blue-500/20"},null,512),[[O,$.value.q]]),t[27]||(t[27]=e("span",{class:"absolute right-2 top-1/2 text-gray-400 -translate-y-1/2"},"ðŸ”",-1))]),e("div",He,[e("button",{type:"button",onClick:me,class:"px-3 h-10 text-sm rounded-lg border border-gray-200 hover:bg-gray-50"},[t[28]||(t[28]=Ce(" Kelompokan Berdasarkan : ",-1)),e("span",ze,n(ce.value),1)]),L.value?(r(),o("div",Oe,[e("ul",Ne,[e("li",null,[e("button",{onClick:t[1]||(t[1]=a=>y(null)),class:"px-3 py-2 w-full text-left hover:bg-gray-50"}," Tidak digrup ")]),e("li",null,[e("button",{onClick:t[2]||(t[2]=a=>y("gender")),class:"px-3 py-2 w-full text-left hover:bg-gray-50"}," Jenis Kelamin ")]),e("li",null,[e("button",{onClick:t[3]||(t[3]=a=>y("department")),class:"px-3 py-2 w-full text-left hover:bg-gray-50"}," Departemen ")]),e("li",null,[e("button",{onClick:t[4]||(t[4]=a=>y("branch")),class:"px-3 py-2 w-full text-left hover:bg-gray-50"}," Cabang ")]),e("li",null,[e("button",{onClick:t[5]||(t[5]=a=>y("shift")),class:"px-3 py-2 w-full text-left hover:bg-gray-50"}," Shift ")]),e("li",null,[e("button",{onClick:t[6]||(t[6]=a=>y("status")),class:"px-3 py-2 w-full text-left hover:bg-gray-50"}," Status ")]),e("li",null,[e("button",{onClick:t[7]||(t[7]=a=>y("position")),class:"px-3 py-2 w-full text-left hover:bg-gray-50"}," Posisi ")]),e("li",null,[e("button",{onClick:t[8]||(t[8]=a=>y("role")),class:"px-3 py-2 w-full text-left hover:bg-gray-50"}," Level Akses ")]),e("li",null,[e("button",{onClick:t[9]||(t[9]=a=>y("religion")),class:"px-3 py-2 w-full text-left hover:bg-gray-50"}," Agama ")]),e("li",null,[e("button",{onClick:t[10]||(t[10]=a=>y("birthplace")),class:"px-3 py-2 w-full text-left hover:bg-gray-50"}," Tempat Lahir ")])])])):k("",!0)])]),e("div",Ee,[h(K)("employees.create")?(r(),V(h(j),{key:0,href:l.route("employees.create"),class:"flex gap-2 items-center px-3 py-2 text-white bg-blue-500 rounded-md"},{default:B(()=>[...t[29]||(t[29]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),e("span",{class:"hidden text-sm md:block"},"Tambah Karyawan",-1)])]),_:1},8,["href"])):k("",!0),e("a",{href:ie.value,target:"_blank",rel:"noopener",class:"flex gap-2 items-center px-3 py-2 text-gray-700 bg-white rounded-md border border-gray-200 hover:bg-gray-50"},[...t[30]||(t[30]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),e("span",{class:"hidden text-sm md:block"},"Export Data",-1)])],8,Fe)])]),x(e("div",Ge,[e("div",Pe," Bulk edit ("+n(d.value.length)+" dipilih) ",1),e("div",qe,[x(e("select",{"onUpdate:modelValue":t[11]||(t[11]=a=>v.value.department_id=a),class:"px-2 h-9 text-sm rounded border border-gray-300"},[t[31]||(t[31]=e("option",{value:null},"Ubah Departemen...",-1)),(r(!0),o(S,null,U(se.value,a=>(r(),o("option",{key:a.value,value:a.value},n(a.label),9,Ie))),128))],512),[[R,v.value.department_id]]),x(e("select",{"onUpdate:modelValue":t[12]||(t[12]=a=>v.value.branch_id=a),class:"px-2 h-9 text-sm rounded border border-gray-300"},[t[32]||(t[32]=e("option",{value:null},"Ubah Cabang...",-1)),(r(!0),o(S,null,U(ne.value,a=>(r(),o("option",{key:a.value,value:a.value},n(a.label),9,Ye))),128))],512),[[R,v.value.branch_id]]),x(e("select",{"onUpdate:modelValue":t[13]||(t[13]=a=>v.value.status=a),class:"px-2 h-9 text-sm rounded border border-gray-300"},[t[33]||(t[33]=e("option",{value:null},"Ubah Status...",-1)),(r(!0),o(S,null,U(Q.value,a=>(r(),o("option",{key:a.value,value:a.value},n(a.label),9,Je))),128))],512),[[R,v.value.status]]),e("button",{onClick:ye,disabled:!d.value.length||!v.value.department_id&&!v.value.branch_id&&!v.value.status,class:"px-3 h-9 text-white bg-blue-500 rounded disabled:opacity-50"}," Terapkan ",8,Re),e("button",{onClick:fe,disabled:!d.value.length,class:"px-3 h-9 text-white bg-rose-600 rounded disabled:opacity-50"}," Hapus Terpilih ",8,We),e("button",{onClick:Z,disabled:!d.value.length,class:"px-3 h-9 rounded border"}," Bersihkan ",8,Qe)])],512),[[Ve,d.value.length]]),e("div",Xe,[e("table",Ze,[e("thead",null,[t[36]||(t[36]=e("tr",null,[e("th",{class:"p-3 bg-gray-100 border-gray-200 border-y",style:{"min-width":"140px"}},[e("div",{class:"font-medium text-center text-gray-600"}," Aksi ")]),e("th",{class:"p-3 bg-gray-100 border-gray-200 border-y",style:{"min-width":"60px"}},[e("div",{class:"font-medium text-center text-gray-600"}," No ")]),e("th",{class:"p-3 bg-gray-100 border border-gray-200",style:{"min-width":"200px"}},[e("div",{class:"font-medium text-left text-gray-600"}," Nama & Username ")]),e("th",{class:"p-3 bg-gray-100 border border-gray-200",style:{"min-width":"120px"}},[e("div",{class:"font-medium text-left text-gray-600"}," Jenis Kelamin ")]),e("th",{class:"p-3 bg-gray-100 border border-gray-200",style:{"min-width":"150px"}},[e("div",{class:"font-medium text-left text-gray-600"}," Position ")]),e("th",{class:"p-3 bg-gray-100 border border-gray-200",style:{"min-width":"150px"}},[e("div",{class:"font-medium text-left text-gray-600"}," Cabang ")]),e("th",{class:"p-3 bg-gray-100 border border-gray-200",style:{"min-width":"150px"}},[e("div",{class:"font-medium text-left text-gray-600"}," Departemen ")]),e("th",{class:"p-3 bg-gray-100 border border-gray-200",style:{"min-width":"120px"}},[e("div",{class:"font-medium text-left text-gray-600"}," Level Akses ")]),e("th",{class:"p-3 bg-gray-100 border border-gray-200",style:{"min-width":"120px"}},[e("div",{class:"font-medium text-left text-gray-600"}," Shift ")]),e("th",{class:"p-3 bg-gray-100 border border-gray-200",style:{"min-width":"80px"}},[e("div",{class:"font-medium text-left text-gray-600"}," Umur ")]),e("th",{class:"p-3 bg-gray-100 border border-gray-200",style:{"min-width":"100px"}},[e("div",{class:"font-medium text-left text-gray-600"}," Status ")]),e("th",{class:"p-3 bg-gray-100 border border-gray-200",style:{"min-width":"120px"}},[e("div",{class:"font-medium text-left text-gray-600"}," Agama ")]),e("th",{class:"p-3 bg-gray-100 border border-gray-200",style:{"min-width":"130px"}},[e("div",{class:"font-medium text-left text-gray-600"}," No. Telepon ")]),e("th",{class:"p-3 bg-gray-100 border border-gray-200",style:{"min-width":"150px"}},[e("div",{class:"font-medium text-left text-gray-600"}," Tempat Lahir ")])],-1)),e("tr",null,[t[34]||(t[34]=e("th",{class:"px-2 py-2 bg-gray-50 border-gray-200 border-y"},null,-1)),e("th",et,[e("div",tt,[e("input",{ref_key:"headerCheckbox",ref:P,type:"checkbox",class:"w-4 h-4",checked:q.value,onChange:ve},null,40,at)])]),e("th",lt,[x(e("input",{"onUpdate:modelValue":t[14]||(t[14]=a=>s.value.name=a),type:"text",placeholder:"Cari nama/username",class:"px-2 w-full h-9 text-xs rounded border-gray-300 sm:text-sm"},null,512),[[O,s.value.name]])]),e("th",st,[b(C,{modelValue:s.value.gender,"onUpdate:modelValue":t[15]||(t[15]=a=>s.value.gender=a),items:ue,label:"Semua",labelKey:"name",searchKey:"name"},null,8,["modelValue"])]),e("th",nt,[b(C,{modelValue:s.value.position_id,"onUpdate:modelValue":t[16]||(t[16]=a=>s.value.position_id=a),items:oe.value,label:"Semua",labelKey:"name",searchKey:"name"},null,8,["modelValue","items"])]),e("th",rt,[b(C,{modelValue:s.value.branch_id,"onUpdate:modelValue":t[17]||(t[17]=a=>s.value.branch_id=a),items:_.branches||[],label:"Semua Cabang",labelKey:"name",searchKey:"name"},null,8,["modelValue","items"])]),e("th",ot,[b(C,{modelValue:s.value.department_id,"onUpdate:modelValue":t[18]||(t[18]=a=>s.value.department_id=a),items:E.value,label:"Semua Departemen",labelKey:"name",searchKey:"name"},{item:B(({item:a})=>[e("span",null,n(a.name),1),a.branch_id?(r(),o("span",it," - "+n(_.branches?.find(u=>u.id===a.branch_id)?.name),1)):k("",!0)]),_:1},8,["modelValue","items"])]),e("th",dt,[b(C,{modelValue:s.value.role_id,"onUpdate:modelValue":t[19]||(t[19]=a=>s.value.role_id=a),items:re.value,label:"Semua",labelKey:"name",searchKey:"name"},null,8,["modelValue","items"])]),e("th",ut,[b(C,{modelValue:s.value.shift_id,"onUpdate:modelValue":t[20]||(t[20]=a=>s.value.shift_id=a),items:de.value,label:"Semua",labelKey:"name",searchKey:"name"},null,8,["modelValue","items"])]),t[35]||(t[35]=e("th",{class:"px-2 py-2 bg-gray-50 border border-gray-200"},null,-1)),e("th",pt,[b(C,{modelValue:s.value.status,"onUpdate:modelValue":t[21]||(t[21]=a=>s.value.status=a),items:Q.value,label:"Semua",labelKey:"name",searchKey:"name"},null,8,["modelValue","items"])]),e("th",mt,[b(C,{modelValue:s.value.religion,"onUpdate:modelValue":t[22]||(t[22]=a=>s.value.religion=a),items:pe,label:"Semua",labelKey:"name",searchKey:"name"},null,8,["modelValue"])]),e("th",ct,[x(e("input",{type:"text","onUpdate:modelValue":t[23]||(t[23]=a=>s.value.phone=a),placeholder:"Cari no. telepon...",class:"px-2 w-full h-9 text-xs text-gray-800 bg-white rounded border-gray-300 sm:text-sm"},null,512),[[O,s.value.phone]])]),e("th",bt,[x(e("input",{type:"text","onUpdate:modelValue":t[24]||(t[24]=a=>s.value.birthplace=a),placeholder:"Cari tempat lahir...",class:"px-2 w-full h-9 text-xs text-gray-800 bg-white rounded border-gray-300 sm:text-sm"},null,512),[[O,s.value.birthplace]])])])]),e("tbody",null,[p.value&&G.value.length?(r(!0),o(S,{key:0},U(G.value,(a,u)=>(r(),o(S,{key:a.__group?"g-"+u:a.data.id},[a.__group?(r(),o("tr",{key:0,class:"cursor-pointer select-none",onClick:g=>be(a.key)},[e("td",ht,[e("span",vt,[e("span",{class:T(["inline-block",M.value.has(a.key)?"rotate-[-90deg] transition-transform":"rotate-0 transition-transform"])},"â–¾",2),e("span",null,n(a.label),1),e("span",yt,"("+n(a.count)+")",1)])])],8,gt)):(r(),o("tr",ft,[e("td",xt,[e("div",_t,[h(K)("employees.viewDetail")?(r(),V(h(j),{key:0,href:l.route("employees.show",a.data.id),class:"p-1.5 text-blue-600 rounded border border-blue-200 hover:bg-blue-50",title:"Detail"},{default:B(()=>[...t[37]||(t[37]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])]),_:1},8,["href"])):k("",!0),h(K)("employees.edit")?(r(),V(h(j),{key:1,href:l.route("employees.edit",a.data.id),class:"p-1.5 text-amber-600 rounded border border-amber-200 hover:bg-amber-50",title:"Edit"},{default:B(()=>[...t[38]||(t[38]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])]),_:1},8,["href"])):k("",!0)])]),e("td",kt,n(a.no),1),e("td",wt,[e("div",Ct,[x(e("input",{type:"checkbox","onUpdate:modelValue":t[25]||(t[25]=g=>d.value=g),value:a.data.id,class:"w-4 h-4"},null,8,Vt),[[te,d.value]]),b(W,{name:a.data?.name,gender:a.data?.gender,size:32},null,8,["name","gender"]),e("div",Bt,[e("span",St,n(a.data?.name||"-"),1),e("span",Kt,"@"+n(a.data?.user?.username||"-"),1)])])]),e("td",At,n(a.data?.gender||"-"),1),e("td",Dt,n(a.data?.position?.name||"-"),1),e("td",$t,n(a.data?.branch?.name||"-"),1),e("td",jt,n(a.data?.department?.name||"-"),1),e("td",Ut,n(a.data?.rolesLabel||a.data?.role?.name||"-"),1),e("td",Tt,n(a.data?.shift?.name||"-"),1),e("td",Lt,n(ge(a.data?.birth_date)),1),e("td",Mt,[a.data?.verification?a.data?.status?(r(),o("span",{key:1,class:T(H(null,a.data.status))},n(a.data.status),3)):(r(),o("span",Ht,"-")):(r(),o("span",{key:0,class:T(H(null))}," Belum Verifikasi ",2))]),e("td",zt,n(a.data?.religion||"-"),1),e("td",Ot,n(a.data?.contact||"-"),1),e("td",Nt,n(a.data?.birthplace||"-"),1)]))],64))),128)):_.employees?.data&&_.employees.data.length?(r(!0),o(S,{key:1},U(_.employees.data,a=>(r(),o("tr",{key:a.id,class:"border-b border-gray-200"},[e("td",Et,[e("div",Ft,[h(K)("employees.viewDetail")?(r(),V(h(j),{key:0,href:l.route("employees.show",a.id),class:"p-1.5 text-blue-600 rounded border border-blue-200 hover:bg-blue-50",title:"Detail"},{default:B(()=>[...t[39]||(t[39]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])]),_:1},8,["href"])):k("",!0),h(K)("employees.edit")?(r(),V(h(j),{key:1,href:l.route("employees.edit",a.id),class:"p-1.5 text-amber-600 rounded border border-amber-200 hover:bg-amber-50",title:"Edit"},{default:B(()=>[...t[40]||(t[40]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])]),_:1},8,["href"])):k("",!0),h(K)("employees.delete")?(r(),o("button",{key:2,type:"button",class:"p-1.5 text-rose-600 rounded border border-rose-200 hover:bg-rose-50",title:"Hapus",onClick:u=>le(a)},[...t[41]||(t[41]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Gt)):k("",!0)])]),e("td",Pt,[x(e("input",{type:"checkbox","onUpdate:modelValue":t[26]||(t[26]=u=>d.value=u),value:a.id,class:"w-4 h-4"},null,8,qt),[[te,d.value]])]),e("td",It,[e("div",Yt,[a.path?(r(),o("img",{key:0,src:a.path?`/storage/${a.path}`:"",alt:"avatar",class:"object-cover w-8 h-8 rounded-full cursor-zoom-in",onClick:u=>ee(a)},null,8,Jt)):(r(),o("button",{key:1,type:"button",onClick:u=>ee(a),class:"inline-flex"},[b(W,{name:a.name,gender:a?.gender||"",size:32},null,8,["name","gender"])],8,Rt)),e("div",Wt,[e("span",Qt,n(a?.name||"-"),1),e("span",Xt,"@"+n(a?.user?.username||"-"),1)])])]),e("td",Zt,n(a?.gender||"-"),1),e("td",ea,n(a?.position?.name||"-"),1),e("td",ta,n(a?.branch?.name||"-"),1),e("td",aa,n(a?.department?.name||"-"),1),e("td",la,n(a?.user?.roles?.length?a.user.roles.map(u=>u.name).join(", "):a?.role?.name||"-"),1),e("td",sa,n(a?.shift?.name||"-"),1),e("td",na,n(he(a)),1),e("td",ra,[a?.verification?a?.status?(r(),o("span",{key:1,class:T(H(a.status))},n(a.status),3)):(r(),o("span",oa,"-")):(r(),o("span",{key:0,class:T(H(null))}," Belum Verifikasi ",2))]),e("td",ia,n(a?.religion||"-"),1),e("td",da,n(a?.contact||"-"),1),e("td",ua,n(a?.birthplace||"-"),1)]))),128)):(r(),o("tr",pa,[...t[42]||(t[42]=[e("td",{colspan:14,class:"py-6 text-center text-gray-500"}," Tidak ada data ",-1)])]))])])]),_.employees?.data&&_.employees.data.length?(r(),V(Ke,{key:0,pagination:_.employees,class:"border-t"},null,8,["pagination"])):k("",!0),b(Ae,{show:I.value,title:"Foto Karyawan",closeText:"Tutup",maxWidth:"sm",onClose:xe},{default:B(()=>[e("div",ma,[w.value?.path?(r(),o("img",{key:0,src:w.value?.path?`/storage/${w.value.path}`:"",alt:"avatar",class:"object-cover w-64 h-64 rounded-xl shadow-md"},null,8,ca)):(r(),V(W,{key:1,name:w.value?.name,gender:w.value?.gender||"",size:160},null,8,["name","gender"])),e("div",ba,n(w.value?.name),1)])]),_:1},8,["show"])])])],64))}});export{Ka as default};
