import{y as V,d as _,z as E,H as v,u as D,e as i,o as l,b as g,a as e,g as r,D as N,c as U,f as p,E as c,G as b,F as $,i as B,t as n,w as f,J as K}from"./app-CJkCV51W.js";import{_ as M}from"./AppLayout-BlEKf3Fz.js";import{_ as O}from"./Breadcrumb-BJQpsGcc.js";import{_ as F}from"./Pagination-C2dOEo8X.js";import{s as L}from"./index-D_jvqarE.js";import"./FlashMessage-D4C-FUm8.js";import"./LayoutShell-FWpWJLvi.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useAuth-DvuTgkfF.js";import"./LayoutShell.vue_vue_type_style_index_0_lang-CRqqKi3W.js";import"./index-BD4Vkpl0.js";import"./index-B9o0VbjL.js";const H={class:"flex flex-col gap-3 px-3 h-full overflow-hidden"},z={class:"flex justify-between items-center h-10"},A={class:"flex flex-col overflow-hidden rounded-lg border border-gray-200 bg-white"},G={class:"flex items-center justify-between px-6 py-3 border-b"},I={class:"relative"},Y={class:"overflow-auto","data-simplebar":""},P={class:"min-w-full text-sm"},Q={class:"p-3 text-center"},R={class:"p-3"},W={class:"p-3"},X={class:"p-3 text-center"},Z={class:"p-3"},ee={class:"p-3"},te={class:"flex gap-2 justify-center"},se=["onClick"],ae=["onClick"],re={key:1},oe={class:"flex justify-between items-center w-full"},le={class:"text-xl font-semibold text-gray-900"},ie={class:"flex flex-col gap-3"},ne={key:0,class:"mt-1 text-xs text-red-600"},de={key:0,class:"mt-1 text-xs text-red-600"},ue={key:0,class:"mt-1 text-xs text-red-600"},pe={key:0,class:"mt-1 text-xs text-red-600"},ce={class:"flex gap-2 justify-end"},ye=["disabled"],be={key:0},me={key:1},Se=Object.assign({layout:M},{__name:"Index",props:{leaveTypes:Object,filters:Object},setup(h){const m=h,d=V(()=>m.leaveTypes||{data:[]}),y=_({search:m.filters?.search||""});E(()=>y.value.search,()=>{clearTimeout(x),x=setTimeout(k,350)});let x=null;function k(){v.get(route("leave-types.index"),{search:y.value.search,category:m.filters?.category||""},{preserveScroll:!0,preserveState:!0,replace:!0})}function C(a){return a==="annual_leave"?"Cuti Tahunan":a==="sick_leave"?"Sakit":a==="special_leave"?"Khusus":a}const u=_(!1),s=D({id:null,name:"",category:"annual_leave",leave_quota_per_year:0,description:""});function w(){s.defaults({id:null,name:"",category:"annual_leave",leave_quota_per_year:0,description:""}),s.reset(),s.clearErrors(),u.value=!0}function T(a){s.defaults({id:a.id,name:a.name,category:a.category,leave_quota_per_year:a.leave_quota_per_year,description:a.description||""}),s.reset(),s.clearErrors(),Object.assign(s,{id:a.id,name:a.name,category:a.category,leave_quota_per_year:a.leave_quota_per_year,description:a.description||""}),u.value=!0}function q(){const a={preserveScroll:!0,onSuccess:()=>{u.value=!1}};s.id?s.put(route("leave-types.update",s.id),a):s.post(route("leave-types.store"),a)}function j(a){a&&confirm("Yakin ingin menghapus jenis cuti ini?")&&v.delete(route("leave-types.destroy",a),{preserveScroll:!0})}return(a,t)=>(l(),i("div",H,[g(r(N),{title:"Jenis Cuti"}),e("div",z,[g(O,{items:[{label:"Konfigurasi"},{label:"Jenis Cuti"}]}),e("button",{type:"button",class:"px-3 py-2 text-sm text-white bg-blue-600 rounded",onClick:w}," Tambah Jenis Cuti ")]),e("div",A,[e("div",G,[t[8]||(t[8]=e("div",{class:"text-xl font-semibold text-gray-800"},"Daftar Jenis Cuti",-1)),e("div",I,[c(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>y.value.search=o),type:"text",placeholder:"Cari...",class:"py-2.5 pr-8 pl-3 w-64 h-10 text-sm text-gray-800 bg-transparent rounded-lg border border-gray-200 focus:border-blue-300 focus:outline-hidden focus:ring-2 focus:ring-blue-500/20"},null,512),[[b,y.value.search]]),t[7]||(t[7]=e("span",{class:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400"},"ðŸ”",-1))])]),e("div",Y,[e("table",P,[t[10]||(t[10]=e("thead",null,[e("tr",null,[e("th",{class:"p-3 bg-gray-100 border-y border-gray-200"},[e("div",{class:"font-medium text-center text-gray-600"},"No")]),e("th",{class:"p-3 bg-gray-100 border border-gray-200"},[e("div",{class:"font-medium text-left text-gray-600"},"Nama")]),e("th",{class:"p-3 bg-gray-100 border border-gray-200"},[e("div",{class:"font-medium text-left text-gray-600"},"Kategori")]),e("th",{class:"p-3 bg-gray-100 border border-gray-200"},[e("div",{class:"font-medium text-center text-gray-600"},"Jatah/Tahun")]),e("th",{class:"p-3 bg-gray-100 border border-gray-200"},[e("div",{class:"font-medium text-left text-gray-600"},"Deskripsi")]),e("th",{class:"p-3 bg-gray-100 border-y border-gray-200"},[e("div",{class:"font-medium text-center text-gray-600"},"Aksi")])])],-1)),e("tbody",null,[d.value.data&&d.value.data.length?(l(!0),i($,{key:0},B(d.value.data,(o,S)=>(l(),i("tr",{key:o.id,class:"border-b border-gray-200"},[e("td",Q,n((d.value.current_page-1)*d.value.per_page+S+1),1),e("td",R,n(o.name),1),e("td",W,n(C(o.category)),1),e("td",X,n(o.leave_quota_per_year),1),e("td",Z,n(o.description||"-"),1),e("td",ee,[e("div",te,[e("button",{class:"px-2 py-1 text-xs rounded border",onClick:J=>T(o)},"Edit",8,se),e("button",{class:"px-2 py-1 text-xs text-white bg-rose-600 rounded border border-rose-700",onClick:J=>j(o.id)},"Hapus",8,ae)])])]))),128)):(l(),i("tr",re,[...t[9]||(t[9]=[e("td",{colspan:"6",class:"py-6 text-center text-gray-500"},"Tidak ada data",-1)])]))])])]),d.value.data&&d.value.data.length?(l(),U(F,{key:0,pagination:d.value,class:"border-t"},null,8,["pagination"])):p("",!0)]),g(r(L),{visible:u.value,"onUpdate:visible":t[6]||(t[6]=o=>u.value=o),modal:"",dismissableMask:"",style:{width:"520px",padding:"6px"}},{header:f(()=>[e("div",oe,[e("h3",le,n(r(s).id?"Edit":"Tambah")+" Jenis Cuti",1)])]),default:f(()=>[e("div",ie,[e("div",null,[t[11]||(t[11]=e("label",{class:"block mb-1 text-sm text-gray-600"},"Nama",-1)),c(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>r(s).name=o),type:"text",class:"px-3 w-full h-10 rounded border border-gray-300"},null,512),[[b,r(s).name]]),r(s).errors.name?(l(),i("p",ne,n(r(s).errors.name),1)):p("",!0)]),e("div",null,[t[13]||(t[13]=e("label",{class:"block mb-1 text-sm text-gray-600"},"Kategori",-1)),c(e("select",{"onUpdate:modelValue":t[2]||(t[2]=o=>r(s).category=o),class:"px-3 w-full h-10 rounded border border-gray-300"},[...t[12]||(t[12]=[e("option",{value:"annual_leave"},"Cuti Tahunan",-1),e("option",{value:"sick_leave"},"Sakit",-1),e("option",{value:"special_leave"},"Khusus",-1)])],512),[[K,r(s).category]]),r(s).errors.category?(l(),i("p",de,n(r(s).errors.category),1)):p("",!0)]),e("div",null,[t[14]||(t[14]=e("label",{class:"block mb-1 text-sm text-gray-600"},"Jatah Cuti/Tahun",-1)),c(e("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>r(s).leave_quota_per_year=o),type:"number",min:"0",step:"1",class:"px-3 w-full h-10 rounded border border-gray-300"},null,512),[[b,r(s).leave_quota_per_year,void 0,{number:!0}]]),r(s).errors.leave_quota_per_year?(l(),i("p",ue,n(r(s).errors.leave_quota_per_year),1)):p("",!0)]),e("div",null,[t[15]||(t[15]=e("label",{class:"block mb-1 text-sm text-gray-600"},"Deskripsi",-1)),c(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=o=>r(s).description=o),rows:"3",class:"px-3 w-full rounded border border-gray-300"},null,512),[[b,r(s).description]]),r(s).errors.description?(l(),i("p",pe,n(r(s).errors.description),1)):p("",!0)]),e("div",ce,[e("button",{class:"px-3 h-10 rounded border",type:"button",onClick:t[5]||(t[5]=o=>u.value=!1)},"Batal"),e("button",{class:"px-3 h-10 text-white bg-blue-600 rounded",type:"button",disabled:r(s).processing,onClick:q},[r(s).processing?(l(),i("span",be,"Menyimpan...")):(l(),i("span",me,"Simpan"))],8,ye)])])]),_:1},8,["visible"])]))}});export{Se as default};
